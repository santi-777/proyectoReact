/*! For license information please see main.2b21f218.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,_=60107,I=60108,S=60114,T=60109,C=60110,N=60112,A=60113,D=60120,O=60115,P=60116,R=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),E=V("react.portal"),_=V("react.fragment"),I=V("react.strict_mode"),S=V("react.profiler"),T=V("react.provider"),C=V("react.context"),N=V("react.forward_ref"),A=V("react.suspense"),D=V("react.suspense_list"),O=V("react.memo"),P=V("react.lazy"),R=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),j=V("react.offscreen"),F=V("react.legacy_hidden")}var U,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function G(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return H(e.type);case R:return H(e._render);case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function De(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,je=!1,Fe=!1;function Ve(){null===Ce&&null===Ne||(Le(),Oe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,Ge=!1,He=null,Qe={onError:function(e){Ke=!0,We=e}};function Ye(e,t,n,r,i,a,o,u,s){Ke=!1,We=null,ze.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},St={};function Tt(e){if(It[e])return It[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Dt=Tt("transitionend"),Ot=new Map,Pt=new Map,Rt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=jt(s),i=Mt):0!==(u&=a)&&(r=jt(u),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==u&&(r=jt(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2;var Ht=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){je||Le();var i=Jt,a=je;je=!0;try{Re(i,e,t,n,r)}finally{(je=a)||Ve()}}function Xt(e,t,n,r){Qt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),En=sn(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),Dn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Rn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Vn=f&&"TextEvent"in window&&!Fn,Un=f&&(!jn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Qn(e,t,n,r){De(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Xn(e){Nr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Qn(t,$n,e,Se(e)),e=Xn,je)e(t);else{je=!0;try{Pe(e,t)}finally{je=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<_r.length;Ir++)Pt.set(_r[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=We;Ke=!1,We=null,Ge||(Ge=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ge)throw e=He,Ge=!1,He=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Dr]||(e[Dr]=!0,u.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Rr(a,e,i,t),o.add(u))}function Rr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ve()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Ot.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ct:case Nt:case At:s=bn;break;case Dt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Dn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Dn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Vr(o,u,s,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Hn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=jr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!jn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ue(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ue(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Jr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,H(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,_i=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Di=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ni?Ni:function(){},Vi=null,Ui=null,Bi=!1,qi=Ai(),zi=1e4>qi?Ai:function(){return Ai()-qi};function Ki(){switch(Di()){case Oi:return 99;case Pi:return 98;case Ri:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Ri;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Gi(e,t){return e=Wi(e),Ii(e,t)}function Hi(e,t,n){return e=Wi(e),Si(e,t,n)}function Qi(){if(null!==Ui){var e=Ui;Ui=null,Ti(e)}Yi()}function Yi(){if(!Bi&&null!==Vi){Bi=!0;var e=0;try{var t=Vi;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Si(Oi,Qi),n}finally{Bi=!1}}}var $i=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Hs(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Hs(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Xs(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qs(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Hs(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$s(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(q(a))return m(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,H(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Ta=Ia(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Da=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Da,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Ra(){li(Na),li(Aa),li(Da)}function La(e){Oa(Da.current);var t=Oa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,Ua=null,Ba=!1;function qa(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Ba){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Va=e);qa(Va,n)}Va=e,Ua=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Va=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Ga(e){if(e!==Va)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Ua;t;)qa(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Va?Qr(e.stateNode.nextSibling):null;return!0}function Ha(){Ua=Va=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Po:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Oo,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=$a.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Do.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Do.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Ki();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Do(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Do.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Gs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Ko(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Go(e,t,n,r,a,i)}function Go(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,Yo,$o,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Gs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gs(o,u),null!==e?r=Gs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Da.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Na.current),Ga(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ar(Sr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Ar(Sr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}_e(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Da.current),Oa(Na.current),Ga(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Pu||0===(134217727&Bu)&&0===(134217727&qu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Gu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=ja.current,fi(ja,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Na.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Us(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(js(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))js(t,n);else{r=t;try{i()}catch(a){Us(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Us(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):_u(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=zi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Du=w.ReactCurrentOwner,Ou=0,Pu=null,Ru=null,Lu=0,Mu=0,ju=ci(0),Fu=0,Vu=null,Uu=0,Bu=0,qu=0,zu=0,Ku=null,Wu=0,Gu=1/0;function Hu(){Gu=zi()+500}var Qu,Yu=null,$u=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Uu),0!==$i.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Ou)&&98===e?e=Ut(12,ss):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Pu&&(qu|=t,4===Fu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Ou)&&0===(48&Ou)?ks(e):(ms(e,n),0===Ou&&(Hu(),Qi())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==ji&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ti(n)}15===t?(n=ks.bind(null,e),null===Vi?(Vi=[n],Ui=Si(Oi,Yi)):Vi.push(n),n=ji):14===t?n=Hi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var a=Ss();for(Pu===e&&Lu===r||(Hu(),_s(e,r));;)try{Ns();break}catch(s){Is(e,s)}if(na(),Au.current=a,Ou=i,null!==Ru?r=0:(Pu=null,Lu=0,r=Fu),0!==(Uu&qu))_s(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Vt(e))&&(r=Ts(e,n))),1===r)throw t=Vu,_s(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Wr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ou))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Uu&qu)&&(n=Ts(e,t=Ft(e,t)))}else n=Ts(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Vt(e))&&(n=Ts(e,t))),1===n)throw n=Vu,_s(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ms(e,zi()),null}function bs(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Hu(),Qi())}}function ws(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Hu(),Qi())}}function xs(e,t){fi(ju,Mu),Mu|=t,Uu|=t}function Es(){Mu=ju.current,li(ju)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Ra();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Pu=e,Ru=Gs(e.current,null),Lu=Mu=Uu=t,Fu=0,Vu=null,zu=qu=Bu=0}function Is(e,t){for(;;){var n=Ru;try{if(na(),$a.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Du.current=null,null===n||null===n.return){Fu=1,Vu=t,Ru=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((H(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ds(n)}catch(E){t=E,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function Ss(){var e=Au.current;return Au.current=Oo,null===e?Oo:e}function Ts(e,t){var n=Ou;Ou|=16;var r=Ss();for(Pu===e&&Lu===t||_s(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Ou=n,Au.current=r,null!==Ru)throw Error(o(261));return Pu=null,Lu=0,Fu}function Cs(){for(;null!==Ru;)As(Ru)}function Ns(){for(;null!==Ru&&!Ci();)As(Ru)}function As(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Ds(e):Ru=t,Du.current=null}function Ds(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Ru=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Fu&&(Fu=5)}function Os(e){var t=Ki();return Gi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ou))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Ru=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Du.current=null,Br=Yt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Rs()}catch(S){if(null===Yu)throw Error(o(330));Us(Yu,S),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var b=Yu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Yu),Yu.flags&=-3;break;case 6:xu(Yu),Yu.flags&=-3,Su(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Su(Yu.alternate,Yu);break;case 4:Su(Yu.alternate,Yu);break;case 8:Iu(u,s=Yu);var x=s.alternate;bu(s),null!==x&&bu(x)}Yu=Yu.nextEffect}}catch(S){if(null===Yu)throw Error(o(330));Us(Yu,S),Yu=Yu.nextEffect}}while(null!==Yu);if(w=qr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,qr=Br=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var E=Yu.flags;if(36&E&&yu(k,Yu.alternate,Yu),128&E){b=void 0;var _=Yu.ref;if(null!==_){var I=Yu.stateNode;Yu.tag,b=I,"function"===typeof _?_(b):_.current=b}}Yu=Yu.nextEffect}}catch(S){if(null===Yu)throw Error(o(330));Us(Yu,S),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Fi(),Ou=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((E=Yu).sibling=null,E.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,zi()),$u)throw $u=!1,e=Xu,Xu=null,e;return 0!==(8&Ou)||Qi(),null}function Rs(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Cu(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&mu(e,Yu),0===(512&t)||Zu||(Zu=!0,Hi(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Gi(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Hi(97,(function(){return Ls(),null})))}function js(e,t){rs.push(t,e),Zu||(Zu=!0,Hi(97,(function(){return Ls(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(o(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Us(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Us(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,Qi(),!0}function Vs(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function Us(e,t){if(3===e.tag)Vs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===Fu||3===Fu&&(62914560&Lu)===Lu&&500>zi()-Wu?_s(e,0):zu|=n),ms(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Uu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new zs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case S:return(e=Ks(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case A:return(e=Ks(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case D:return(e=Ks(19,n,t,i)).elementType=D,e.lanes=a,e;case j:return Ys(n,i,a,t);case F:return(e=Ks(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case N:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e;case R:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=j,e.lanes=n,e}function $s(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(ja,1&ja.current),null!==(t=au(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Go(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Qr(t.stateNode.containerInfo.firstChild),Va=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ha();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Jo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Uo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Go(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bs,Re=function(e,t,n,r,i){var a=Ou;Ou|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Ou=a)&&(Hu(),Qi())}},Le=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Hu(),Qi())}};var sc={Events:[ri,ii,ai,De,Oe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),_i=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ou;if(0!==(48&n))return e(t);Ou|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Ou=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function D(){var e=A.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,N=null,A=3,D=!1,O=!1,P=!1;function R(e){for(var t=E(T);null!==t;){if(null===t.callback)_(T);else{if(!(t.startTime<=e))break;_(T),t.sortIndex=t.expirationTime,x(S,t)}t=E(T)}}function L(e){if(P=!1,R(e),!O)if(null!==E(S))O=!0,n(M);else{var t=E(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),D=!0;var a=A;try{for(R(n),N=E(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===E(S)&&_(S),R(n)}else _(S);N=E(S)}if(null!==N)var s=!0;else{var c=E(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,A=a,D=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||D||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===E(S)&&e===E(T)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),O||D||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".28cb0dcd.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="my-app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return mu},SDK_VERSION:function(){return Es},_DEFAULT_ENTRY_NAME:function(){return ls},_addComponent:function(){return ps},_addOrOverwriteComponent:function(){return vs},_apps:function(){return hs},_clearComponents:function(){return ks},_components:function(){return ds},_getProvider:function(){return ys},_registerComponent:function(){return ms},_removeServiceInstance:function(){return gs},deleteApp:function(){return Ts},getApp:function(){return Is},getApps:function(){return Ss},initializeApp:function(){return _s},onLog:function(){return As},registerVersion:function(){return Ns},setLogLevel:function(){return Ds}});var t,r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var b=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function E(e,t,n){void 0===n&&(n="/");var r=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=_(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function _(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=O([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),_(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}var I=/^:\w+$/,S=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(I.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:O([i,l.pathname]),pathnameBase:P(O([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=O([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function A(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:R(a),hash:L(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},P=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},R=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){j()||x(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,a=B(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):O([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function j(){return null!=(0,r.useContext)(b)}function F(){return j()||x(!1),(0,r.useContext)(b).location}function V(){j()||x(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=A(e,JSON.parse(o),a);"/"!==t&&(i.pathname=O([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function U(){var e=(0,r.useContext)(w).matches,t=e[e.length-1];return t?t.params:{}}function B(e){var t=(0,r.useContext)(w).matches,n=F().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return A(e,JSON.parse(i),n)}),[e,i,n])}function q(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function z(e){var t=e.to,n=e.replace,i=e.state;j()||x(!1);var a=V();return(0,r.useEffect)((function(){a(t,{replace:n,state:i})})),null}function K(e){x(!1)}function W(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;j()&&x(!1);var d=P(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,m=v.pathname,y=void 0===m?"/":m,w=v.search,E=void 0===w?"":w,_=v.hash,I=void 0===_?"":_,S=v.state,T=void 0===S?null:S,C=v.key,N=void 0===C?"default":C,A=(0,r.useMemo)((function(){var e=D(y,d);return null==e?null:{pathname:e,search:E,hash:I,state:T,key:N}}),[d,y,E,I,T,N]);return null==A?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:A,navigationType:c}}))}function G(e){var t=e.children,n=e.location;return function(e,t){j()||x(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,F());if(t){var c,l="string"===typeof t?g(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||x(!1),n=l}else n=s;var f=n.pathname||"/",h=E(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return q(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:O([u,e.pathnameBase])})})),i)}(H(t),n)}function H(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==K&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=H(e.props.children)),t.push(n)}else t.push.apply(t,H(e.props.children))})),t}function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var $=["onClick","reloadDocument","replace","state","target","to"];function X(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else S(e)}}));var u=t.Pop,s=a(),c=s[0],k=s[1],b=v(),w=v();function x(e){return"string"===typeof e?e:y(e)}function E(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function _(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function I(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function S(e){u=e;var t=a();c=t[0],k=t[1],b.call({action:u,location:k})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return k},createHref:x,push:function e(n,a){var o=t.Push,u=E(n,a);if(I(o,u,(function(){e(n,a)}))){var s=_(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}S(o)}},replace:function e(n,r){var a=t.Replace,o=E(n,r);if(I(a,o,(function(){e(n,r)}))){var u=_(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),S(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return C}({window:a}));var u=o.current,s=c((0,r.useState)({action:u.action,location:u.location}),2),k=s[0],b=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(b)}),[u]),(0,r.createElement)(W,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:u})}var J=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=Y(e,$),f=M(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=V(),s=F(),c=B(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(s)===y(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",Q({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function re(e,t){if(null==e)return{};var n,r,i=ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ie=n(694),ae=n.n(ie),oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},ue=r.createContext(null);n(176);function se(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ce(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function le(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==t&&u(t),[s?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),u(e)}),[n])]}function fe(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[se(r)],u=a[r],s=ne(a,[se(r),r].map(ce)),c=t[r],f=le(u,o,e[c]),h=f[0],d=f[1];return l({},s,((i={})[r]=h,i[c]=d,i))}),e)}function he(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function de(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function pe(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}he.__suppressDeprecationWarning=!0,de.__suppressDeprecationWarning=!0,pe.__suppressDeprecationWarning=!0;var ve=/-(.)/g;var me=n(184),ye=["xxl","xl","lg","md","sm","xs"],ge=r.createContext({prefixes:{},breakpoints:ye});ge.Consumer,ge.Provider;function ke(e,t){var n=(0,r.useContext)(ge).prefixes;return e||n[t]||t}function be(){return(0,r.useContext)(ge).breakpoints}function we(){return"rtl"===(0,r.useContext)(ge).dir}var xe=["className","bsPrefix","as"],Ee=function(e){return e[0].toUpperCase()+(t=e,t.replace(ve,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?Ee(e):n,a=t.Component,o=t.defaultProps,u=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,s=re(t,xe),c=ke(i,e);return(0,me.jsx)(u,te({ref:n,className:ae()(r,c)},s))}));return u.defaultProps=o,u.displayName=i,u}var Ie=["bsPrefix","className","as"],Se=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=re(e,Ie);n=ke(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,me.jsx)(o,te(te({},a),{},{ref:t,className:ae()(r,n)}))}));Se.displayName="NavbarBrand";var Te=Se;function Ce(e){return e&&e.ownerDocument||document}function Ne(e,t){return function(e){var t=Ce(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ae=/([A-Z])/g;var De=/^ms-/;function Oe(e){return function(e){return e.replace(Ae,"-$1").toLowerCase()}(e).replace(De,"-ms-")}var Pe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Re=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Oe(t))||Ne(e).getPropertyValue(Oe(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Pe.test(e))}(i)?n+=Oe(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Oe(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Le(e,t){return Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Le(e,t)}var Me=!1,je=r.createContext(null),Fe="unmounted",Ve="exited",Ue="entering",Be="entered",qe="exiting",ze=function(e){var t,n;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Ve,r.appearStatus=Ue):i=Be:i=t.unmountOnExit||t.mountOnEnter?Fe:Ve,r.state={status:i},r.nextCallback=null,r}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,Le(t,n),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Fe?{status:Ve}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ue&&n!==Be&&(t=Ue):n!==Ue&&n!==Be||(t=qe)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Ue?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Ve&&this.setState({status:Fe})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],u=a[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||Me?this.safeSetState({status:Be},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:Ue},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:Be},(function(){t.props.onEntered(o,u)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!Me?(this.props.onExit(r),this.safeSetState({status:qe},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ve},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ve},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],u=a[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===Fe)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,ne(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(je.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},a}(r.Component);function Ke(){}ze.contextType=je,ze.propTypes={},ze.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ke,onEntering:Ke,onEntered:Ke,onExit:Ke,onExiting:Ke,onExited:Ke},ze.UNMOUNTED=Fe,ze.EXITED=Ve,ze.ENTERING=Ue,ze.ENTERED=Be,ze.EXITING=qe;var We=ze,Ge=!("undefined"===typeof window||!window.document||!window.document.createElement),He=!1,Qe=!1;try{var Ye={get passive(){return He=!0},get once(){return Qe=He=!0}};Ge&&(window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,!0))}catch(KL){}var $e=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Qe){var i=r.once,a=r.capture,o=n;!Qe&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,He?r:a)}e.addEventListener(t,n,r)};var Xe=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Je=function(e,t,n,r){return $e(e,t,n,r),function(){Xe(e,t,n,r)}};function Ze(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Je(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function et(e,t,n,r){null==n&&(n=function(e){var t=Re(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Ze(e,n,r),a=Je(e,"transitionend",t);return function(){i(),a()}}function tt(e,t){var n=Re(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function nt(e,t){var n=tt(e,"transitionDuration"),r=tt(e,"transitionDelay"),i=et(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var rt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function it(e){e.offsetHeight}var at=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var ot=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=at(e),r=at(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var ut,st=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],ct=r.forwardRef((function(e,t){var n=e.onEnter,a=e.onEntering,o=e.onEntered,u=e.onExit,s=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=re(e,st),p=(0,r.useRef)(null),v=ot(p,h),m=function(e){var t;v((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,r.useCallback)(y(n),[n]),k=(0,r.useCallback)(y(a),[a]),b=(0,r.useCallback)(y(o),[o]),w=(0,r.useCallback)(y(u),[u]),x=(0,r.useCallback)(y(s),[s]),E=(0,r.useCallback)(y(c),[c]),_=(0,r.useCallback)(y(l),[l]);return(0,me.jsx)(We,te(te({ref:t},d),{},{onEnter:g,onEntered:b,onEntering:k,onExit:w,onExited:E,onExiting:x,addEndListener:_,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,te(te({},t),{},{ref:m}))}:r.cloneElement(f,{ref:m})}))})),lt=ct,ft=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],ht={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function dt(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=ht[e];return n+parseInt(Re(t,r[0]),10)+parseInt(Re(t,r[1]),10)}var pt=(Z(ut={},Ve,"collapse"),Z(ut,qe,"collapsing"),Z(ut,Ue,"collapsing"),Z(ut,Be,"collapse show"),ut),vt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:dt},mt=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?dt:h,p=re(e,ft),v="function"===typeof f?f():f,m=(0,r.useMemo)((function(){return rt((function(e){e.style[v]="0"}),n)}),[v,n]),y=(0,r.useMemo)((function(){return rt((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,r.useMemo)((function(){return rt((function(e){e.style[v]=null}),a)}),[v,a]),k=(0,r.useMemo)((function(){return rt((function(e){e.style[v]="".concat(d(v,e),"px"),it(e)}),o)}),[o,d,v]),b=(0,r.useMemo)((function(){return rt((function(e){e.style[v]=null}),u)}),[v,u]);return(0,me.jsx)(lt,te(te({ref:t,addEndListener:nt},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:k,onExiting:b,childRef:c.ref,children:function(e,t){return r.cloneElement(c,te(te({},t),{},{className:ae()(s,c.props.className,pt[e],"width"===v&&"collapse-horizontal")}))}}))}));mt.defaultProps=vt;var yt=mt,gt=r.createContext(null);gt.displayName="NavbarContext";var kt=gt,bt=["children","bsPrefix"],wt=r.forwardRef((function(e,t){var n=e.children,i=e.bsPrefix,a=re(e,bt);i=ke(i,"navbar-collapse");var o=(0,r.useContext)(kt);return(0,me.jsx)(yt,te(te({in:!(!o||!o.expanded)},a),{},{children:(0,me.jsx)("div",{ref:t,className:i,children:n})}))}));wt.displayName="NavbarCollapse";var xt=wt;var Et=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function _t(e){var t=Et(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var It=["bsPrefix","className","children","label","as","onClick"],St=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e.label,u=e.as,s=void 0===u?"button":u,c=e.onClick,l=re(e,It);n=ke(n,"navbar-toggler");var f=(0,r.useContext)(kt)||{},h=f.onToggle,d=f.expanded,p=_t((function(e){c&&c(e),h&&h()}));return"button"===s&&(l.type="button"),(0,me.jsx)(s,te(te({},l),{},{ref:t,onClick:p,"aria-label":o,className:ae()(i,n,!d&&"collapsed"),children:a||(0,me.jsx)("span",{className:"".concat(n,"-icon")})}))}));St.displayName="NavbarToggle",St.defaultProps={label:"Toggle navigation"};var Tt=St,Ct="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Nt="undefined"!==typeof document||Ct?r.useLayoutEffect:r.useEffect,At=new WeakMap,Dt=function(e,t){if(e&&t){var n=At.get(t)||new Map;At.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function Ot(e,t){void 0===t&&(t="undefined"===typeof window?void 0:window);var n=Dt(e,t),i=(0,r.useState)((function(){return!!n&&n.matches})),a=i[0],o=i[1];return Nt((function(){var n=Dt(e,t);if(!n)return o(!1);var r=At.get(t),i=function(){o(n.matches)};return n.refCount++,n.addListener(i),i(),function(){n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),a}var Pt=function(e){var t=Object.keys(e);function n(e,t){return e===t?t:e?e+" and "+t:t}function i(n){var r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(t,a,o){var u,s;"object"===typeof t?(u=t,o=a,a=!0):((s={})[t]=a=a||!0,u=s);var c=(0,r.useMemo)((function(){return Object.entries(u).reduce((function(t,r){var a=r[0],o=r[1];return"up"!==o&&!0!==o||(t=n(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=n(t,i(a))),t}),"")}),[JSON.stringify(u)]);return Ot(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Rt(e){void 0===e&&(e=Ce());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(KL){return e.body}}function Lt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Mt(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}function jt(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}function Ft(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current=e})),t.current}function Vt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ut(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Vt(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t&&qt(e.prototype,t),n&&qt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kt(e){return"".concat("data-rr-ui-").concat(e)}var Wt=Kt("modal-open"),Gt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Bt(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return zt(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=Z({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Re(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Wt,""),Re(r,t)}},{key:"reset",value:function(){var e=this;Ut(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Wt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Ht=Gt,Qt=(0,r.createContext)(Ge?window:void 0);Qt.Provider;function Yt(){return(0,r.useContext)(Qt)}var $t=function(e,t){var n;return Ge?null==e?(t||Ce()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var Xt,Jt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Zt(e){var t=Yt(),n=e||function(e){return Xt||(Xt=new Ht({ownerDocument:null==e?void 0:e.document})),Xt}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return n.add(i.current)},remove:function(){return n.remove(i.current)},isTopModal:function(){return n.isTopModal(i.current)},setDialogRef:(0,r.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((function(e){i.current.backdrop=e}),[])})}var en=(0,r.forwardRef)((function(e,t){var n=e.show,a=void 0!==n&&n,o=e.role,u=void 0===o?"dialog":o,s=e.className,l=e.style,f=e.children,h=e.backdrop,d=void 0===h||h,p=e.keyboard,v=void 0===p||p,m=e.onBackdropClick,y=e.onEscapeKeyDown,g=e.transition,k=e.backdropTransition,b=e.autoFocus,w=void 0===b||b,x=e.enforceFocus,E=void 0===x||x,_=e.restoreFocus,I=void 0===_||_,S=e.restoreFocusOptions,T=e.renderDialog,C=e.renderBackdrop,N=void 0===C?function(e){return(0,me.jsx)("div",Object.assign({},e))}:C,A=e.manager,D=e.container,O=e.onShow,P=e.onHide,R=void 0===P?function(){}:P,L=e.onExit,M=e.onExited,j=e.onExiting,F=e.onEnter,V=e.onEntering,U=e.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Jt),q=function(e,t){var n=Yt(),i=c((0,r.useState)((function(){return $t(e,null==n?void 0:n.document)})),2),a=i[0],o=i[1];if(!a){var u=$t(e);u&&o(u)}return(0,r.useEffect)((function(){t&&a&&t(a)}),[t,a]),(0,r.useEffect)((function(){var t=$t(e);t!==a&&o(t)}),[e,a]),a}(D),z=Zt(A),K=Mt(),W=Ft(a),G=c((0,r.useState)(!a),2),H=G[0],Q=G[1],Y=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return z}),[z]),Ge&&!W&&a&&(Y.current=Rt()),g||a||H?a&&H&&Q(!1):Q(!0);var $=_t((function(){if(z.add(),ne.current=Je(document,"keydown",ee),te.current=Je(document,"focus",(function(){return setTimeout(J)}),!0),O&&O(),w){var e=Rt(document);z.dialog&&e&&!Lt(z.dialog,e)&&(Y.current=e,z.dialog.focus())}})),X=_t((function(){var e;(z.remove(),null==ne.current||ne.current(),null==te.current||te.current(),I)&&(null==(e=Y.current)||null==e.focus||e.focus(S),Y.current=null)}));(0,r.useEffect)((function(){a&&q&&$()}),[a,q,$]),(0,r.useEffect)((function(){H&&X()}),[H,X]),jt((function(){X()}));var J=_t((function(){if(E&&K()&&z.isTopModal()){var e=Rt();z.dialog&&e&&!Lt(z.dialog,e)&&z.dialog.focus()}})),Z=_t((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===d&&R())})),ee=_t((function(e){v&&27===e.keyCode&&z.isTopModal()&&(null==y||y(e),e.defaultPrevented||R())})),te=(0,r.useRef)(),ne=(0,r.useRef)(),re=g;if(!q||!(a||re&&!H))return null;var ie=Object.assign({role:u,ref:z.setDialogRef,"aria-modal":"dialog"===u||void 0},B,{style:l,className:s,tabIndex:-1}),ae=T?T(ie):(0,me.jsx)("div",Object.assign({},ie,{children:r.cloneElement(f,{role:"document"})}));re&&(ae=(0,me.jsx)(re,{appear:!0,unmountOnExit:!0,in:!!a,onExit:L,onExiting:j,onExited:function(){Q(!0),null==M||M.apply(void 0,arguments)},onEnter:F,onEntering:V,onEntered:U,children:ae}));var oe=null;if(d){var ue=k;oe=N({ref:z.setBackdropRef,onClick:Z}),ue&&(oe=(0,me.jsx)(ue,{appear:!0,in:!!a,children:oe}))}return(0,me.jsx)(me.Fragment,{children:i.createPortal((0,me.jsxs)(me.Fragment,{children:[oe,ae]}),q)})}));en.displayName="Modal";var tn,nn=Object.assign(en,{Manager:Ht}),rn=["className","children","transitionClasses"],an=(Z(tn={},Ue,"show"),Z(tn,Be,"show"),tn),on=r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=re(e,rn),s=(0,r.useCallback)((function(e,t){it(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,me.jsx)(lt,te(te({ref:t,addEndListener:nt},u),{},{onEnter:s,childRef:i.ref,children:function(e,t){return r.cloneElement(i,te(te({},t),{},{className:ae()("fade",n,i.props.className,an[e],o[e])}))}}))}));on.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},on.displayName="Fade";var un,sn=on,cn=_e("offcanvas-body"),ln=["bsPrefix","className","children"],fn=(Z(un={},Ue,"show"),Z(un,Be,"show"),un),hn=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=re(e,ln);return n=ke(n,"offcanvas"),(0,me.jsx)(lt,te(te({ref:t,addEndListener:nt},o),{},{childRef:a.ref,children:function(e,t){return r.cloneElement(a,te(te({},t),{},{className:ae()(i,a.props.className,(e===Ue||e===qe)&&"".concat(n,"-toggling"),fn[e])}))}}))}));hn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},hn.displayName="OffcanvasToggling";var dn=hn,pn=r.createContext({onHide:function(){}}),vn=n(7),mn=n.n(vn),yn=["className","variant"],gn={"aria-label":mn().string,onClick:mn().func,variant:mn().oneOf(["white"])},kn=r.forwardRef((function(e,t){var n=e.className,r=e.variant,i=re(e,yn);return(0,me.jsx)("button",te({ref:t,type:"button",className:ae()("btn-close",r&&"btn-close-".concat(r),n)},i))}));kn.displayName="CloseButton",kn.propTypes=gn,kn.defaultProps={"aria-label":"Close"};var bn=kn,wn=["closeLabel","closeVariant","closeButton","onHide","children"],xn=r.forwardRef((function(e,t){var n=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,u=e.children,s=re(e,wn),c=(0,r.useContext)(pn),l=_t((function(){null==c||c.onHide(),null==o||o()}));return(0,me.jsxs)("div",te(te({ref:t},s),{},{children:[u,a&&(0,me.jsx)(bn,{"aria-label":n,variant:i,onClick:l})]}))}));xn.defaultProps={closeLabel:"Close",closeButton:!1};var En=xn,_n=["bsPrefix","className"],In=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=re(e,_n);return n=ke(n,"offcanvas-header"),(0,me.jsx)(En,te(te({ref:t},i),{},{className:ae()(r,n)}))}));In.displayName="OffcanvasHeader",In.defaultProps={closeLabel:"Close",closeButton:!1};var Sn=In,Tn=function(e){return r.forwardRef((function(t,n){return(0,me.jsx)("div",te(te({},t),{},{ref:n,className:ae()(t.className,e)}))}))},Cn=_e("offcanvas-title",{Component:Tn("h5")});function Nn(e){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nn(e)}function An(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nn(e)););return e}function Dn(){return Dn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=An(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Dn.apply(this,arguments)}function On(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}function Pn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(KL){return!1}}function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e,t){if(t&&("object"===Rn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ln(e)}function jn(e){var t=Pn();return function(){var n,r=Nn(e);if(t){var i=Nn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mn(this,n)}}var Fn=Function.prototype.bind.call(Function.prototype.call,[].slice);function Vn(e,t){return Fn(e.querySelectorAll(t))}function Un(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Bn,qn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zn=".sticky-top",Kn=".navbar-toggler",Wn=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.apply(this,arguments)}return zt(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Re(t,Z({},e,"".concat(parseFloat(Re(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Re(t,Z({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Dn(Nn(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Vn(a,qn).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Vn(a,zn).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),Vn(a,Kn).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Dn(Nn(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=Un(r.className,i):r.setAttribute("class",Un(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Vn(a,qn).forEach((function(e){return t.restore(o,e)})),Vn(a,zn).forEach((function(e){return t.restore(u,e)})),Vn(a,Kn).forEach((function(e){return t.restore(u,e)}))}}]),n}(Ht);var Gn=Wn,Hn=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Qn(e){return(0,me.jsx)(dn,te({},e))}function Yn(e){return(0,me.jsx)(sn,te({},e))}var $n=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],u=e.placement,s=e.show,c=e.backdrop,l=e.keyboard,f=e.scroll,h=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,m=e.autoFocus,y=e.enforceFocus,g=e.restoreFocus,k=e.restoreFocusOptions,b=e.onEntered,w=e.onExit,x=e.onExiting,E=e.onEnter,_=e.onEntering,I=e.onExited,S=e.backdropClassName,T=e.manager,C=re(e,Hn),N=(0,r.useRef)();n=ke(n,"offcanvas");var A=((0,r.useContext)(kt)||{}).onToggle,D=_t((function(){null==A||A(),null==p||p()})),O=(0,r.useMemo)((function(){return{onHide:D}}),[D]);var P=(0,r.useCallback)((function(e){return(0,me.jsx)("div",te(te({},e),{},{className:ae()("".concat(n,"-backdrop"),S)}))}),[S,n]);return(0,me.jsx)(pn.Provider,{value:O,children:(0,me.jsx)(nn,{show:s,ref:t,backdrop:c,container:v,keyboard:l,autoFocus:m,enforceFocus:y&&!f,restoreFocus:g,restoreFocusOptions:k,onEscapeKeyDown:h,onShow:d,onHide:D,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E.apply(void 0,[e].concat(n))},onEntering:_,onEntered:b,onExit:w,onExiting:x,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==I||I.apply(void 0,n)},manager:T||(f?(N.current||(N.current=new Gn({handleContainerOverflow:!1})),N.current):function(e){return Bn||(Bn=new Wn(e)),Bn}()),transition:Qn,backdropTransition:Yn,renderBackdrop:P,renderDialog:function(e){return(0,me.jsx)("div",te(te(te({role:"dialog"},e),C),{},{className:ae()(i,n,"".concat(n,"-").concat(u)),"aria-labelledby":o,children:a}))}})})}));$n.displayName="Offcanvas",$n.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var Xn=Object.assign($n,{Body:cn,Header:Sn,Title:Cn}),Jn=["className","bsPrefix","backdrop","backdropClassName","keyboard","scroll","placement","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onShow","onHide","onEscapeKeyDown","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Zn=r.forwardRef((function(e,t){var n=e.className,i=e.bsPrefix,a=e.backdrop,o=e.backdropClassName,u=e.keyboard,s=e.scroll,c=e.placement,l=e.autoFocus,f=e.enforceFocus,h=e.restoreFocus,d=e.restoreFocusOptions,p=e.onShow,v=e.onHide,m=e.onEscapeKeyDown,y=e.onEnter,g=e.onEntering,k=e.onEntered,b=e.onExit,w=e.onExiting,x=e.onExited,E=re(e,Jn),_=(0,r.useContext)(kt);i=ke(i,"offcanvas");var I="string"===typeof(null==_?void 0:_.expand),S=Pt(I?_.expand:"xs","up");return I&&S?(0,me.jsx)("div",te(te({ref:t},E),{},{className:ae()(n,i,"".concat(i,"-").concat(c))})):(0,me.jsx)(Xn,te({ref:t,show:!(null==_||!_.expanded),bsPrefix:i,backdrop:a,backdropClassName:o,keyboard:u,scroll:s,placement:c,autoFocus:l,enforceFocus:f,restoreFocus:h,restoreFocusOptions:d,onShow:p,onHide:v,onEscapeKeyDown:m,onEnter:y,onEntering:g,onEntered:k,onExit:b,onExiting:w,onExited:x},E))}));Zn.displayName="NavbarOffcanvas";var er=Zn,tr=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],nr=_e("navbar-text",{Component:"span"}),rr=r.forwardRef((function(e,t){var n=fe(e,{expanded:"onToggle"}),i=n.bsPrefix,a=n.expand,o=n.variant,u=n.bg,s=n.fixed,c=n.sticky,l=n.className,f=n.as,h=void 0===f?"nav":f,d=n.expanded,p=n.onToggle,v=n.onSelect,m=n.collapseOnSelect,y=re(n,tr),g=ke(i,"navbar"),k=(0,r.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var b="".concat(g,"-expand");"string"===typeof a&&(b="".concat(b,"-").concat(a));var w=(0,r.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:g,expanded:!!d,expand:a}}),[g,d,a,p]);return(0,me.jsx)(kt.Provider,{value:w,children:(0,me.jsx)(ue.Provider,{value:k,children:(0,me.jsx)(h,te(te({ref:t},y),{},{className:ae()(l,g,a&&b,o&&"".concat(g,"-").concat(o),u&&"bg-".concat(u),c&&"sticky-".concat(c),s&&"fixed-".concat(s))}))})})}));rr.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},rr.displayName="Navbar";var ir=Object.assign(rr,{Brand:Te,Collapse:xt,Offcanvas:er,Text:nr,Toggle:Tt});n(573);function ar(){return(0,r.useReducer)((function(e){return!e}),!1)[1]}var or=r.createContext(null);or.displayName="NavContext";var ur=or,sr=r.createContext(null),cr=["as","disabled"];function lr(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,u=e.tabIndex,s=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var fr=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,cr),a=c(lr(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,me.jsx)(u,Object.assign({},i,o,{ref:t}))}));fr.displayName="Button";var hr=fr,dr=["as","active","eventKey"];function pr(e){var t=e.key,n=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,r.useContext)(ue),c=(0,r.useContext)(ur),l=(0,r.useContext)(sr),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=t?t:null),p=c.getControlledId(null!=t?t:null);h[Kt("event-key")]=t,h.id=d||a,!(f=null==i&&null!=t?c.activeKey===t:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(u&&(h.tabIndex=-1,h["aria-disabled"]=!0),f?h["aria-selected"]=f:h.tabIndex=-1),h.onClick=_t((function(e){u||(null==n||n(e),null!=t&&s&&!e.isPropagationStopped()&&s(t,e))})),[h,{isActive:f}]}var vr=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?hr:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,dr),u=c(pr(Object.assign({key:oe(a,o.href),active:i},o)),2),s=u[0],l=u[1];return s[Kt("active")]=l.isActive,(0,me.jsx)(r,Object.assign({},o,s,{ref:t}))}));vr.displayName="NavItem";var mr=vr,yr=["as","onSelect","activeKey","role","onKeyDown"];var gr=function(){},kr=Kt("event-key"),br=r.forwardRef((function(e,t){var n,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,yr),h=ar(),d=(0,r.useRef)(!1),p=(0,r.useContext)(ue),v=(0,r.useContext)(sr);v&&(c=c||"tablist",s=v.activeKey,n=v.getControlledId,i=v.getControllerId);var m=(0,r.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=Vn(t,"[".concat(kr,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==u||u(e,t),null==p||p(e,t))};(0,r.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(kr,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=ot(t,m);return(0,me.jsx)(ue.Provider,{value:g,children:(0,me.jsx)(ur.Provider,{value:{role:c,activeKey:oe(s),getControlledId:n||gr,getControllerId:i||gr},children:(0,me.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:k,role:c}))})})}));br.displayName="Nav";var wr=Object.assign(br,{Item:mr}),xr=r.createContext(null);xr.displayName="CardHeaderContext";var Er=xr,_r=_e("nav-item");function Ir(){return(0,r.useState)(null)}new WeakMap;var Sr=["onKeyDown"];var Tr=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Sr),a=c(lr(Object.assign({tagName:"a"},i)),1)[0],o=_t((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,me.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,me.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Tr.displayName="Anchor";var Cr=Tr,Nr=["bsPrefix","className","as","active","eventKey"],Ar=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Cr:i,o=e.active,u=e.eventKey,s=re(e,Nr);n=ke(n,"nav-link");var l=c(pr(te({key:oe(u,s.href),active:o},s)),2),f=l[0],h=l[1];return(0,me.jsx)(a,te(te(te({},s),f),{},{ref:t,className:ae()(r,n,s.disabled&&"disabled",h.isActive&&"active")}))}));Ar.displayName="NavLink",Ar.defaultProps={disabled:!1};var Dr=Ar,Or=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Pr=r.forwardRef((function(e,t){var n,i,a,o=fe(e,{activeKey:"onSelect"}),u=o.as,s=void 0===u?"div":u,c=o.bsPrefix,l=o.variant,f=o.fill,h=o.justify,d=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,y=re(o,Or),g=ke(c,"nav"),k=!1,b=(0,r.useContext)(kt),w=(0,r.useContext)(Er);return b?(i=b.bsPrefix,k=null==d||d):w&&(a=w.cardHeaderBsPrefix),(0,me.jsx)(wr,te({as:s,ref:t,activeKey:m,className:ae()(v,(n={},Z(n,g,!k),Z(n,"".concat(i,"-nav"),k),Z(n,"".concat(i,"-nav-scroll"),k&&p),Z(n,"".concat(a,"-").concat(l),!!a),Z(n,"".concat(g,"-").concat(l),!!l),Z(n,"".concat(g,"-fill"),f),Z(n,"".concat(g,"-justified"),h),n))},y))}));Pr.displayName="Nav",Pr.defaultProps={justify:!1,fill:!1};var Rr=Object.assign(Pr,{Item:_r,Link:Dr}),Lr=r.createContext(null);function Mr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var jr=Object.prototype.hasOwnProperty;function Fr(e,t,n){var r,i=Mr(e.keys());try{for(i.s();!(r=i.n()).done;)if(Vr(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function Vr(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Vr(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=Mr(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=Fr(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var u,s=Mr(e);try{for(s.s();!(u=s.n()).done;){if((i=(r=u.value)[0])&&"object"===typeof i&&!(i=Fr(t,i)))return!1;if(!Vr(r[1],t.get(i)))return!1}}catch(c){s.e(c)}finally{s.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(jr.call(e,n)&&++r&&!jr.call(t,n))return!1;if(!(n in t)||!Vr(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var Ur=function(e){var t=Mt();return[e[0],(0,r.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]};function Br(e){return e.split("-")[0]}function qr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zr(e){return e instanceof qr(e).Element||e instanceof Element}function Kr(e){return e instanceof qr(e).HTMLElement||e instanceof HTMLElement}function Wr(e){return"undefined"!==typeof ShadowRoot&&(e instanceof qr(e).ShadowRoot||e instanceof ShadowRoot)}var Gr=Math.max,Hr=Math.min,Qr=Math.round;function Yr(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Kr(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Qr(n.width)/o||1),a>0&&(i=Qr(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function $r(e){var t=Yr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Xr(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Wr(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Jr(e){return e?(e.nodeName||"").toLowerCase():null}function Zr(e){return qr(e).getComputedStyle(e)}function ei(e){return["table","td","th"].indexOf(Jr(e))>=0}function ti(e){return((zr(e)?e.ownerDocument:e.document)||window.document).documentElement}function ni(e){return"html"===Jr(e)?e:e.assignedSlot||e.parentNode||(Wr(e)?e.host:null)||ti(e)}function ri(e){return Kr(e)&&"fixed"!==Zr(e).position?e.offsetParent:null}function ii(e){for(var t=qr(e),n=ri(e);n&&ei(n)&&"static"===Zr(n).position;)n=ri(n);return n&&("html"===Jr(n)||"body"===Jr(n)&&"static"===Zr(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Kr(e)&&"fixed"===Zr(e).position)return null;var n=ni(e);for(Wr(n)&&(n=n.host);Kr(n)&&["html","body"].indexOf(Jr(n))<0;){var r=Zr(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function ai(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function oi(e,t,n){return Gr(e,Hr(t,n))}function ui(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function si(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var ci="top",li="bottom",fi="right",hi="left",di="auto",pi=[ci,li,fi,hi],vi="start",mi="end",yi="viewport",gi="popper",ki=pi.reduce((function(e,t){return e.concat([t+"-"+vi,t+"-"+mi])}),[]),bi=[].concat(pi,[di]).reduce((function(e,t){return e.concat([t,t+"-"+vi,t+"-"+mi])}),[]),wi=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var xi={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=Br(n.placement),s=ai(u),c=[hi,fi].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return ui("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:si(e,pi))}(i.padding,n),f=$r(a),h="y"===s?ci:hi,d="y"===s?li:fi,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=ii(a),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,x=oi(k,w,b),E=s;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Xr(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ei(e){return e.split("-")[1]}var _i={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ii(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=hi,b=ci,w=window;if(c){var x=ii(n),E="clientHeight",_="clientWidth";if(x===qr(n)&&"static"!==Zr(x=ti(n)).position&&"absolute"===u&&(E="scrollHeight",_="scrollWidth"),x=x,i===ci||(i===hi||i===fi)&&a===mi)b=li,v-=(f&&x===w&&w.visualViewport?w.visualViewport.height:x[E])-r.height,v*=s?1:-1;if(i===hi||(i===ci||i===li)&&a===mi)k=fi,d-=(f&&x===w&&w.visualViewport?w.visualViewport.width:x[_])-r.width,d*=s?1:-1}var I,S=Object.assign({position:u},c&&_i),T=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Qr(t*r)/r||0,y:Qr(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=T.x,v=T.y,s?Object.assign({},S,((I={})[b]=g?"0":"",I[k]=y?"0":"",I.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",I)):Object.assign({},S,((t={})[b]=g?v+"px":"",t[k]=y?d+"px":"",t.transform="",t))}var Si={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:Br(t.placement),variation:Ei(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ii(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ii(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Ti={passive:!0};var Ci={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=qr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Ti)})),u&&s.addEventListener("resize",n.update,Ti),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Ti)})),u&&s.removeEventListener("resize",n.update,Ti)}},data:{}},Ni={left:"right",right:"left",bottom:"top",top:"bottom"};function Ai(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ni[e]}))}var Di={start:"end",end:"start"};function Oi(e){return e.replace(/start|end/g,(function(e){return Di[e]}))}function Pi(e){var t=qr(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ri(e){return Yr(ti(e)).left+Pi(e).scrollLeft}function Li(e){var t=Zr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Mi(e){return["html","body","#document"].indexOf(Jr(e))>=0?e.ownerDocument.body:Kr(e)&&Li(e)?e:Mi(ni(e))}function ji(e,t){var n;void 0===t&&(t=[]);var r=Mi(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=qr(r),o=i?[a].concat(a.visualViewport||[],Li(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(ji(ni(o)))}function Fi(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Vi(e,t){return t===yi?Fi(function(e){var t=qr(e),n=ti(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:o+Ri(e),y:u}}(e)):zr(t)?function(e){var t=Yr(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Fi(function(e){var t,n=ti(e),r=Pi(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=Gr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Gr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Ri(e),s=-r.scrollTop;return"rtl"===Zr(i||n).direction&&(u+=Gr(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(ti(e)))}function Ui(e,t,n){var r="clippingParents"===t?function(e){var t=ji(ni(e)),n=["absolute","fixed"].indexOf(Zr(e).position)>=0&&Kr(e)?ii(e):e;return zr(n)?t.filter((function(e){return zr(e)&&Xr(e,n)&&"body"!==Jr(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=Vi(e,n);return t.top=Gr(r.top,t.top),t.right=Hr(r.right,t.right),t.bottom=Hr(r.bottom,t.bottom),t.left=Gr(r.left,t.left),t}),Vi(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Bi(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?Br(i):null,o=i?Ei(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case ci:t={x:u,y:n.y-r.height};break;case li:t={x:u,y:n.y+n.height};break;case fi:t={x:n.x+n.width,y:s};break;case hi:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?ai(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case vi:t[c]=t[c]-(n[l]/2-r[l]/2);break;case mi:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function qi(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,u=n.rootBoundary,s=void 0===u?yi:u,c=n.elementContext,l=void 0===c?gi:c,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=ui("number"!==typeof p?p:si(p,pi)),m=l===gi?"reference":gi,y=e.rects.popper,g=e.elements[h?m:l],k=Ui(zr(g)?g:g.contextElement||ti(e.elements.popper),o,s),b=Yr(e.elements.reference),w=Bi({reference:b,element:y,strategy:"absolute",placement:i}),x=Fi(Object.assign({},y,w)),E=l===gi?x:b,_={top:k.top-E.top+v.top,bottom:E.bottom-k.bottom+v.bottom,left:k.left-E.left+v.left,right:E.right-k.right+v.right},I=e.modifiersData.offset;if(l===gi&&I){var S=I[i];Object.keys(_).forEach((function(e){var t=[fi,li].indexOf(e)>=0?1:-1,n=[ci,li].indexOf(e)>=0?"y":"x";_[e]+=S[n]*t}))}return _}var zi={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=Br(m),g=s||(y===m||!p?[Ai(m)]:function(e){if(Br(e)===di)return[];var t=Ai(e);return[Oi(e),t,Oi(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(Br(n)===di?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?bi:s,l=Ei(r),f=l?u?ki:ki.filter((function(e){return Ei(e)===l})):pi,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=qi(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Br(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,E=!0,_=k[0],I=0;I<k.length;I++){var S=k[I],T=Br(S),C=Ei(S)===vi,N=[ci,li].indexOf(T)>=0,A=N?"width":"height",D=qi(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),O=N?C?fi:hi:C?li:ci;b[A]>w[A]&&(O=Ai(O));var P=Ai(O),R=[];if(a&&R.push(D[T]<=0),u&&R.push(D[O]<=0,D[P]<=0),R.every((function(e){return e}))){_=S,E=!1;break}x.set(S,R)}if(E)for(var L=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ki(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Wi(e){return[ci,fi,li,hi].some((function(t){return e[t]>=0}))}var Gi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=bi.reduce((function(e,n){return e[n]=function(e,t,n){var r=Br(e),i=[hi,ci].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[hi,fi].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var Hi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=qi(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=Br(t.placement),g=Ei(t.placement),k=!g,b=ai(y),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,_=t.rects.popper,I="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"===typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,A="y"===b?ci:hi,D="y"===b?li:fi,O="y"===b?"height":"width",P=x[b],R=P+m[A],L=P-m[D],M=d?-_[O]/2:0,j=g===vi?E[O]:_[O],F=g===vi?-_[O]:-E[O],V=t.elements.arrow,U=d&&V?$r(V):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=B[A],z=B[D],K=oi(0,E[O],U[O]),W=k?E[O]/2-M-K-q-S.mainAxis:j-K-q-S.mainAxis,G=k?-E[O]/2+M+K+z+S.mainAxis:F+K+z+S.mainAxis,H=t.elements.arrow&&ii(t.elements.arrow),Q=H?"y"===b?H.clientTop||0:H.clientLeft||0:0,Y=null!=(N=null==T?void 0:T[b])?N:0,$=P+G-Y,X=oi(d?Hr(R,P+W-Y-Q):R,P,d?Gr(L,$):L);x[b]=X,C[b]=X-P}if(u){var J,Z="x"===b?ci:hi,ee="x"===b?li:fi,te=x[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[ci,hi].indexOf(y),oe=null!=(J=null==T?void 0:T[w])?J:0,ue=ae?re:te-E[ne]-_[ne]-oe+S.altAxis,se=ae?te+E[ne]+_[ne]-oe-S.altAxis:ie,ce=d&&ae?function(e,t,n){var r=oi(e,t,n);return r>n?n:r}(ue,te,se):oi(d?ue:re,te,d?se:ie);x[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function Qi(e,t,n){void 0===n&&(n=!1);var r=Kr(t),i=Kr(t)&&function(e){var t=e.getBoundingClientRect(),n=Qr(t.width)/e.offsetWidth||1,r=Qr(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=ti(t),o=Yr(e,i),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==Jr(t)||Li(a))&&(u=function(e){return e!==qr(e)&&Kr(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Pi(e);var t}(t)),Kr(t)?((s=Yr(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=Ri(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function Yi(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function $i(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Xi={placement:"bottom",modifiers:[],strategy:"absolute"};function Ji(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Zi(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Xi:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xi,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:zr(e)?ji(e):e.contextElement?ji(e.contextElement):[],popper:ji(t)};var l=function(e){var t=Yi(e);return wi.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(Ji(t,n)){i.rects={reference:Qi(t,ii(n),"fixed"===i.options.strategy),popper:$r(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:$i((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!Ji(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var ea=Zi({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=qi(t,{elementContext:"reference"}),u=qi(t,{altBoundary:!0}),s=Ki(o,r),c=Ki(u,i,a),l=Wi(s),f=Wi(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Bi({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Si,Ci,Gi,zi,Hi,xi]}),ta=["enabled","placement","strategy","modifiers"];function na(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ra={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},ia={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},aa=[];var oa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.enabled,a=void 0===i||i,o=n.placement,u=void 0===o?"bottom":o,s=n.strategy,l=void 0===s?"absolute":s,f=n.modifiers,h=void 0===f?aa:f,d=na(n,ta),p=(0,r.useRef)(h),v=(0,r.useRef)(),m=(0,r.useCallback)((function(){var e;null==(e=v.current)||e.update()}),[]),y=(0,r.useCallback)((function(){var e;null==(e=v.current)||e.forceUpdate()}),[]),g=Ur((0,r.useState)({placement:u,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),k=c(g,2),b=k[0],w=k[1],x=(0,r.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),w({state:t,styles:n,attributes:r,update:m,forceUpdate:y,placement:t.placement})}}}),[m,y,w]),E=(0,r.useMemo)((function(){return Vr(p.current,h)||(p.current=h),p.current}),[h]);return(0,r.useEffect)((function(){v.current&&a&&v.current.setOptions({placement:u,strategy:l,modifiers:[].concat(Ut(E),[x,ra])})}),[l,u,x,a,E]),(0,r.useEffect)((function(){if(a&&null!=e&&null!=t)return v.current=ea(e,t,Object.assign({},d,{placement:u,strategy:l,modifiers:[].concat(Ut(E),[ia,x])})),function(){null!=v.current&&(v.current.destroy(),v.current=void 0,w((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,t]),b},ua=n(391),sa=n.n(ua),ca=function(){};function la(e){return 0===e.button}function fa(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var ha=function(e){return e&&("current"in e?e.current:e)},da={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var pa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ca,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.disabled,a=n.clickTrigger,o=void 0===a?"click":a,u=(0,r.useRef)(!1),s=(0,r.useRef)(!1),c=(0,r.useCallback)((function(t){var n=ha(e);sa()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),u.current=!n||fa(t)||!la(t)||!!Lt(n,t.target)||s.current,s.current=!1}),[e]),l=_t((function(t){var n=ha(e);n&&Lt(n,t.target)&&(s.current=!0)})),f=_t((function(e){u.current||t(e)}));(0,r.useEffect)((function(){if(!i&&null!=e){var t=Ce(ha(e)),n=(t.defaultView||window).event,r=null;da[o]&&(r=Je(t,da[o],l,!0));var a=Je(t,o,c,!0),u=Je(t,o,(function(e){e!==n?f(e):n=void 0})),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map((function(e){return Je(e,"mousemove",ca)}))),function(){null==r||r(),a(),u(),s.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function ma(e){var t,n,r,i,a=e.enabled,o=e.enableEvents,u=e.placement,s=e.flip,c=e.offset,l=e.fixed,f=e.containerPadding,h=e.arrowElement,d=e.popperConfig,p=void 0===d?{}:d,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Object.assign({},p,{placement:u,enabled:a,strategy:l?"fixed":p.strategy,modifiers:va(Object.assign({},v,{eventListeners:{enabled:o},preventOverflow:Object.assign({},v.preventOverflow,{options:f?Object.assign({padding:f},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=v.offset)?void 0:r.options)},arrow:Object.assign({},v.arrow,{enabled:!!h,options:Object.assign({},null==(i=v.arrow)?void 0:i.options,{element:h})}),flip:Object.assign({enabled:!!s},v.flip)}))})}var ya=["children"];var ga=function(){};function ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useContext)(Lr),n=Ir(),i=c(n,2),a=i[0],o=i[1],u=(0,r.useRef)(!1),s=e.flip,l=e.offset,f=e.rootCloseEvent,h=e.fixed,d=void 0!==h&&h,p=e.placement,v=e.popperConfig,m=void 0===v?{}:v,y=e.enableEventListeners,g=void 0===y||y,k=e.usePopper,b=void 0===k?!!t:k,w=null==(null==t?void 0:t.show)?!!e.show:t.show;w&&!u.current&&(u.current=!0);var x=function(e){null==t||t.toggle(!1,e)},E=t||{},_=E.placement,I=E.setMenu,S=E.menuElement,T=E.toggleElement,C=oa(T,S,ma({placement:p||_||"bottom-start",enabled:b,enableEvents:null==g?w:g,offset:l,flip:s,fixed:d,arrowElement:a,popperConfig:m})),N=Object.assign({ref:I||ga,"aria-labelledby":null==T?void 0:T.id},C.attributes.popper,{style:C.styles.popper}),A={show:w,placement:_,hasShown:u.current,toggle:null==t?void 0:t.toggle,popper:b?C:null,arrowProps:b?Object.assign({ref:o},C.attributes.arrow,{style:C.styles.arrow}):{}};return pa(S,x,{clickTrigger:f,disabled:!w}),[N,A]}function ba(e){var t=e.children,n=c(ka(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ya)),2),r=n[0],i=n[1];return(0,me.jsx)(me.Fragment,{children:t(r,i)})}ba.displayName="DropdownMenu",ba.defaultProps={usePopper:!0};var wa=ba;function xa(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var Ea={};xa(Ea,"SSRProvider",(function(){return Sa})),xa(Ea,"useSSRSafeId",(function(){return Ca})),xa(Ea,"useIsSSR",(function(){return Na}));var _a={prefix:String(Math.round(1e10*Math.random())),current:0},Ia=r.createContext(_a);function Sa(e){var t=(0,r.useContext)(Ia),n=(0,r.useMemo)((function(){return{prefix:t===_a?"":"".concat(t.prefix,"-").concat(++t.current),current:0}}),[t]);return r.createElement(Ia.Provider,{value:n},e.children)}var Ta=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);function Ca(e){var t=(0,r.useContext)(Ia);return t!==_a||Ta||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,r.useMemo)((function(){return e||"react-aria".concat(t.prefix,"-").concat(++t.current)}),[e])}function Na(){var e=(0,r.useContext)(Ia)!==_a,t=c((0,r.useState)(e),2),n=t[0],i=t[1];return"undefined"!==typeof window&&e&&(0,r.useLayoutEffect)((function(){i(!1)}),[]),n}var Aa=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},Da=function(){};function Oa(){var e=Ca(),t=(0,r.useContext)(Lr)||{},n=t.show,i=void 0!==n&&n,a=t.toggle,o=void 0===a?Da:a,u=t.setToggle,s=t.menuElement,c=(0,r.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:u||Da,onClick:c,"aria-expanded":!!i};return s&&Aa(s)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function Pa(e){var t=e.children,n=c(Oa(),2),r=n[0],i=n[1];return(0,me.jsx)(me.Fragment,{children:t(r,i)})}Pa.displayName="DropdownToggle";var Ra=Pa,La=["eventKey","disabled","onClick","active","as"];function Ma(e){var t=e.key,n=e.href,i=e.active,a=e.disabled,o=e.onClick,u=(0,r.useContext)(ue),s=((0,r.useContext)(ur)||{}).activeKey,c=oe(t,n),l=null==i&&null!=t?oe(s)===c:i;return[Z({onClick:_t((function(e){a||(null==o||o(e),u&&!e.isPropagationStopped()&&u(c,e))})),"aria-disabled":a||void 0,"aria-selected":l},Kt("dropdown-item"),""),{isActive:l}]}var ja=r.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,u=void 0===o?hr:o,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,La),l=c(Ma({key:n,href:s.href,disabled:r,onClick:i,active:a}),1)[0];return(0,me.jsx)(u,Object.assign({},s,{ref:t},l))}));ja.displayName="DropdownItem";var Fa=ja;function Va(){var e=ar(),t=(0,r.useRef)(null),n=(0,r.useCallback)((function(n){t.current=n,e()}),[e]);return[t,n]}function Ua(e){var t=e.defaultShow,n=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,u=void 0===o?"* [".concat(Kt("dropdown-item"),"]"):o,s=e.focusFirstItemOnShow,l=e.placement,f=void 0===l?"bottom-start":l,h=e.children,d=Yt(),p=c(le(n,t,a),2),v=p[0],m=p[1],y=c(Va(),2),g=y[0],k=y[1],b=g.current,w=c(Va(),2),x=w[0],E=w[1],_=x.current,I=Ft(v),S=(0,r.useRef)(null),T=(0,r.useRef)(!1),C=(0,r.useContext)(ue),N=(0,r.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),A=_t((function(e,t){null==i||i(e,t),N(!1,t,"select"),t.isPropagationStopped()||null==C||C(e,t)})),D=(0,r.useMemo)((function(){return{toggle:N,placement:f,show:v,menuElement:b,toggleElement:_,setMenu:k,setToggle:E}}),[N,f,v,b,_,k,E]);b&&I&&!v&&(T.current=b.contains(b.ownerDocument.activeElement));var O=_t((function(){_&&_.focus&&_.focus()})),P=_t((function(){var e=S.current,t=s;if(null==t&&(t=!(!g.current||!Aa(g.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=Vn(g.current,u)[0];n&&n.focus&&n.focus()}}));(0,r.useEffect)((function(){v?P():T.current&&(T.current=!1,O())}),[v,T,O,P]),(0,r.useEffect)((function(){S.current=null}));var R=function(e,t){if(!g.current)return null;var n=Vn(g.current,u),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,t,n,i){void 0===i&&(i=!1);var a=_t(n);(0,r.useEffect)((function(){var n="function"===typeof e?e():e;return n.addEventListener(t,a,i),function(){return n.removeEventListener(t,a,i)}}),[e])}((0,r.useCallback)((function(){return d.document}),[d]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=g.current)?void 0:t.contains(i),o=null==(n=x.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||g.current&&v)){S.current=e.type;var u={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var s=R(i,-1);return s&&s.focus&&s.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=R(i,1);c&&c.focus&&c.focus()}else m(!0,u);return;case"Tab":$e(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=g.current)&&t.contains(e.target)||m(!1,u)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,u)}}})),(0,me.jsx)(ue.Provider,{value:A,children:(0,me.jsx)(Lr.Provider,{value:D,children:h})})}Ua.displayName="Dropdown",Ua.Menu=wa,Ua.Toggle=Ra,Ua.Item=Fa;var Ba=Ua,qa=r.createContext({});qa.displayName="DropdownContext";var za=qa,Ka=["bsPrefix","className","eventKey","disabled","onClick","active","as"],Wa=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,u=e.onClick,s=e.active,l=e.as,f=void 0===l?Cr:l,h=re(e,Ka),d=ke(n,"dropdown-item"),p=c(Ma({key:i,href:h.href,disabled:o,onClick:u,active:s}),2),v=p[0],m=p[1];return(0,me.jsx)(f,te(te(te({},h),v),{},{ref:t,className:ae()(r,d,m.isActive&&"active",o&&"disabled")}))}));Wa.displayName="DropdownItem";var Ga=Wa,Ha=r.createContext(null);Ha.displayName="InputGroupContext";var Qa=Ha;function Ya(e,t){return e}var $a=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function Xa(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var Ja=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.align,o=e.rootCloseEvent,u=e.flip,s=e.show,l=e.renderOnMount,f=e.as,h=void 0===f?"div":f,d=e.popperConfig,p=e.variant,v=re(e,$a),m=!1,y=(0,r.useContext)(kt),g=ke(n,"dropdown-menu"),k=(0,r.useContext)(za),b=k.align,w=k.drop,x=k.isRTL;a=a||b;var E=(0,r.useContext)(Qa),_=[];if(a)if("object"===typeof a){var I=Object.keys(a);if(I.length){var S=I[0],T=a[S];m="start"===T,_.push("".concat(g,"-").concat(S,"-").concat(T))}}else"end"===a&&(m=!0);var C=Xa(m,w,x),N=c(ka({flip:u,rootCloseEvent:o,show:s,usePopper:!y&&0===_.length,offset:[0,2],popperConfig:d,placement:C}),2),A=N[0],D=N[1],O=D.hasShown,P=D.popper,R=D.show,L=D.toggle;if(A.ref=ot(Ya(t),A.ref),Nt((function(){R&&(null==P||P.update())}),[R]),!O&&!l&&!E)return null;"string"!==typeof h&&(A.show=R,A.close=function(){return null==L?void 0:L(!1)},A.align=a);var M=v.style;return null!=P&&P.placement&&(M=te(te({},v.style),A.style),v["x-placement"]=P.placement),(0,me.jsx)(h,te(te(te(te({},v),A),{},{style:M},(_.length||y)&&{"data-bs-popper":"static"}),{},{className:ae().apply(void 0,[i,g,R&&"show",m&&"".concat(g,"-end"),p&&"".concat(g,"-").concat(p)].concat(_))}))}));Ja.displayName="DropdownMenu",Ja.defaultProps={flip:!0};var Za=Ja,eo=["as","bsPrefix","variant","size","active","className"],to=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,u=e.className,s=re(e,eo),l=ke(r,"btn"),f=c(lr(te({tagName:n},s)),2),h=f[0],d=f[1].tagName;return(0,me.jsx)(d,te(te(te({},h),s),{},{ref:t,className:ae()(u,l,o&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),s.href&&s.disabled&&"disabled")}))}));to.displayName="Button",to.defaultProps={variant:"primary",active:!1,disabled:!1};var no=to,ro=["bsPrefix","split","className","childBsPrefix","as"],io=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.split,a=e.className,o=e.childBsPrefix,u=e.as,s=void 0===u?no:u,l=re(e,ro),f=ke(n,"dropdown-toggle"),h=(0,r.useContext)(Lr),d=(0,r.useContext)(Qa);void 0!==o&&(l.bsPrefix=o);var p=c(Oa(),1)[0];return p.ref=ot(p.ref,Ya(t)),(0,me.jsx)(s,te(te({className:ae()(a,f,i&&"".concat(f,"-split"),!!d&&(null==h?void 0:h.show)&&"show")},p),l))}));io.displayName="DropdownToggle";var ao=io,oo=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],uo=_e("dropdown-header",{defaultProps:{role:"heading"}}),so=_e("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),co=_e("dropdown-item-text",{Component:"span"}),lo=r.forwardRef((function(e,t){var n=fe(e,{show:"onToggle"}),i=n.bsPrefix,a=n.drop,o=n.show,u=n.className,s=n.align,c=n.onSelect,l=n.onToggle,f=n.focusFirstItemOnShow,h=n.as,d=void 0===h?"div":h,p=(n.navbar,n.autoClose),v=re(n,oo),m=(0,r.useContext)(Qa),y=ke(i,"dropdown"),g=we(),k=_t((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===p?"click"===n:"inside"===p?"rootClose"!==n:"outside"!==p||"select"!==n)&&(null==l||l(e,t))})),b=Xa("end"===s,a,g),w=(0,r.useMemo)((function(){return{align:s,drop:a,isRTL:g}}),[s,a,g]);return(0,me.jsx)(za.Provider,{value:w,children:(0,me.jsx)(Ba,{placement:b,show:o,onSelect:c,onToggle:k,focusFirstItemOnShow:f,itemSelector:".".concat(y,"-item:not(.disabled):not(:disabled)"),children:m?v.children:(0,me.jsx)(d,te(te({},v),{},{ref:t,className:ae()(u,o&&"show",(!a||"down"===a)&&y,"up"===a&&"dropup","end"===a&&"dropend","start"===a&&"dropstart")}))})})}));lo.displayName="Dropdown",lo.defaultProps={navbar:!1,align:"start",autoClose:!0};var fo=Object.assign(lo,{Toggle:ao,Menu:Za,Item:Ga,ItemText:co,Divider:so,Header:uo}),ho=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],po=r.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,u=e.rootCloseEvent,s=e.menuRole,c=e.disabled,l=e.active,f=e.renderMenuOnMount,h=e.menuVariant,d=re(e,ho),p=ke(void 0,"nav-item");return(0,me.jsxs)(fo,te(te({ref:t},d),{},{className:ae()(o,p),children:[(0,me.jsx)(fo.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:a,as:Dr,children:r}),(0,me.jsx)(fo.Menu,{role:s,renderOnMount:f,rootCloseEvent:u,variant:h,children:i})]}))}));po.displayName="NavDropdown";var vo=Object.assign(po,{Item:fo.Item,ItemText:fo.ItemText,Divider:fo.Divider,Header:fo.Header}),mo=r.createContext();var yo=function(){return(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(mo.Consumer,{children:function(e){return(0,me.jsxs)(ir,{className:"menu",bg:"light",expand:"lg",children:[(0,me.jsx)(ir.Brand,{as:J,to:"/products",children:" Home"}),(0,me.jsx)(ir.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,me.jsx)(ir.Collapse,{id:"basic-navbar-nav",children:(0,me.jsxs)(Rr,{className:"me-auto",children:[!e.userLogin&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(Rr.Link,{as:J,to:"/inicio",children:"Iniciar Sesi\xf3n"}),(0,me.jsx)(Rr.Link,{as:J,to:"/registrar",children:"Registrar"}),(0,me.jsx)(Rr.Link,{as:J,to:"/products",children:"Productos"})]}),e.userLogin&&(0,me.jsxs)(me.Fragment,{children:[(!e.api&&!e.fire||e.api&&e.fire)&&(0,me.jsx)(Rr.Link,{onClick:e.logoutUser,children:"Cerrar Sesion"}),e.fire&&!e.api&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(vo,{title:"Productos",id:"basic-nav-dropdown",children:(0,me.jsx)(vo.Item,{as:J,to:"/products1",children:"Todos"})}),(0,me.jsx)(Rr.Link,{onClick:e.logoutUser,children:"Cerrar Sesion"})]}),e.api&&!e.fire&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)(vo,{title:"Productos",id:"basic-nav-dropdown",children:[(0,me.jsx)(vo.Item,{as:J,to:"/products2",children:"Todos"}),(0,me.jsx)(vo.Item,{as:J,to:"/products/alta",children:"Alta"})]}),(0,me.jsx)(Rr.Link,{onClick:e.logoutUser,children:"Cerrar Sesion"})]})]})]})})]})}})})};var go=function(){var e=(0,r.useContext)(mo);console.log(e);var t=V();return(0,r.useEffect)((function(){e.neutral()})),(0,me.jsxs)("div",{className:"e",children:[(0,me.jsx)("h1",{className:"f",children:"Iniciar con:"}),(0,me.jsx)("br",{}),(0,me.jsx)("br",{}),(0,me.jsxs)("div",{className:"g",children:[(0,me.jsx)("span",{children:(0,me.jsx)(no,{id:"send",variant:"primary",onClick:function(){e.activeFire(),e.activeApi(),t("/products2")},children:"Firebase"})}),(0,me.jsx)("span",{children:" --o-- "}),(0,me.jsx)("span",{children:(0,me.jsx)(no,{variant:"primary",id:"send",onClick:function(){e.activeApi(),e.activeFire(),t("/products1")},children:"Api-rest"})})]})]})},ko=["bsPrefix","className","as"],bo=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=re(e,ko),u=ke(n,"row"),s=be(),c="".concat(u,"-cols"),l=[];return s.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==e?"-".concat(e):"";null!=t&&l.push("".concat(c).concat(r,"-").concat(t))})),(0,me.jsx)(a,te(te({ref:t},o),{},{className:ae().apply(void 0,[r,u].concat(l))}))}));bo.displayName="Row";var wo=bo,xo=["as","bsPrefix","className"],Eo=["className"];var _o=r.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=re(e,xo);n=ke(n,"col");var a=be(),o=[],u=[];return a.forEach((function(e){var t,r,a,s=i[e];delete i[e],"object"===typeof s&&null!=s?(t=s.span,r=s.offset,a=s.order):t=s;var c="xs"!==e?"-".concat(e):"";t&&o.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=a&&u.push("order".concat(c,"-").concat(a)),null!=r&&u.push("offset".concat(c,"-").concat(r))})),[te(te({},i),{},{className:ae().apply(void 0,[r].concat(o,u))}),{as:t,bsPrefix:n,spans:o}]}(e),r=c(n,2),i=r[0],a=i.className,o=re(i,Eo),u=r[1],s=u.as,l=void 0===s?"div":s,f=u.bsPrefix,h=u.spans;return(0,me.jsx)(l,te(te({},o),{},{ref:t,className:ae()(a,!h.length&&f)}))}));_o.displayName="Col";var Io=_o,So=["bsPrefix","className","variant","as"],To=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=re(e,So),s=ke(n,"card-img");return(0,me.jsx)(o,te({ref:t,className:ae()(i?"".concat(s,"-").concat(i):s,r)},u))}));To.displayName="CardImg";var Co=To,No=["bsPrefix","className","as"],Ao=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,u=re(e,No),s=ke(n,"card-header"),c=(0,r.useMemo)((function(){return{cardHeaderBsPrefix:s}}),[s]);return(0,me.jsx)(Er.Provider,{value:c,children:(0,me.jsx)(o,te(te({ref:t},u),{},{className:ae()(i,s)}))})}));Ao.displayName="CardHeader";var Do=Ao,Oo=["bsPrefix","className","bg","text","border","body","children","as"],Po=Tn("h5"),Ro=Tn("h6"),Lo=_e("card-body"),Mo=_e("card-title",{Component:Po}),jo=_e("card-subtitle",{Component:Ro}),Fo=_e("card-link",{Component:"a"}),Vo=_e("card-text",{Component:"p"}),Uo=_e("card-footer"),Bo=_e("card-img-overlay"),qo=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,s=e.children,c=e.as,l=void 0===c?"div":c,f=re(e,Oo),h=ke(n,"card");return(0,me.jsx)(l,te(te({ref:t},f),{},{className:ae()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,me.jsx)(Lo,{children:s}):s}))}));qo.displayName="Card",qo.defaultProps={body:!1};var zo=Object.assign(qo,{Img:Co,Title:Mo,Subtitle:jo,Body:Lo,Link:Fo,Text:Vo,Header:Do,Footer:Uo,ImgOverlay:Bo}),Ko=["bsPrefix","variant","animation","size","as","className"],Wo=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=e.size,o=e.as,u=void 0===o?"div":o,s=e.className,c=re(e,Ko);n=ke(n,"spinner");var l="".concat(n,"-").concat(i);return(0,me.jsx)(u,te(te({ref:t},c),{},{className:ae()(s,l,a&&"".concat(l,"-").concat(a),r&&"text-".concat(r))}))}));Wo.displayName="Spinner";var Go=Wo,Ho={spinner:{position:"fixed",top:"50%",left:"50%"}};var Qo=function(e){var t=e.loading,n=e.children;return t?(0,me.jsx)("div",{children:(0,me.jsx)(Go,{style:Ho.spinner,animation:"grow",variant:"danger"})}):(0,me.jsx)(me.Fragment,{children:n})};var Yo=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1],i=c((0,r.useState)(!0),2),a=i[0],o=i[1],u=c((0,r.useState)("ipod"),2),s=u[0],l=u[1];(0,r.useEffect)((function(){fetch("https://api.mercadolibre.com/sites/MLA/search?q="+s).then((function(e){return e.json()})).then((function(e){n(e.results),o(!1)})).catch((function(e){console.log(e)}))}),[s]);var f=function(){var e=document.getElementById("busqueda").value;console.log(e),l(""===e?"ipod":e)};return(0,me.jsx)(Qo,{loading:a,children:(0,me.jsxs)("div",{className:"b",children:[(0,me.jsx)("h1",{className:"prod",children:"Listado Productos"}),(0,me.jsxs)("div",{className:"d",children:[(0,me.jsx)("input",{type:"search",id:"busqueda",placeholder:"Buscar Productos",onKeyPress:f}),(0,me.jsx)("button",{className:"c",onClick:f,children:"Buscar"})]}),(0,me.jsx)(wo,{children:t.map((function(e){return(0,me.jsx)(Io,{children:(0,me.jsxs)(zo,{id:"card",children:[(0,me.jsx)(zo.Img,{variant:"top",src:e.thumbnail,id:"img"}),(0,me.jsxs)(zo.Body,{children:[(0,me.jsx)(zo.Title,{style:{maxHeight:"50px",overflow:"auto"},children:e.title}),(0,me.jsxs)(zo.Text,{children:["$",e.price]}),(0,me.jsx)(no,{className:"comprar",variant:"primary",as:J,to:"/product1/"+e.id,children:"Ver Detalle"})]})]})},e.id)}))})]})})};function $o(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Xo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){$o(a,r,i,o,u,"next",e)}function u(e){$o(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Jo=n(757),Zo=n.n(Jo);function eu(e,t,n){return eu=Pn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Le(i,n.prototype),i},eu.apply(null,arguments)}function tu(e){var t="function"===typeof Map?new Map:void 0;return tu=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return eu(e,arguments,Nn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Le(n,e)},tu(e)}var nu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ru={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},iu=function(e){return function(e){var t=nu(e);return ru.encodeByteArray(t,!0)}(e).replace(/\./g,"")},au=function(e){try{return ru.decodeString(e,!0)}catch(KL){console.error("base64Decode failed: ",KL)}return null};function ou(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ou(e[n],t[n]));return e}var uu=function(){function e(){var t=this;Bt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return zt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function su(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[iu(JSON.stringify({alg:"none",type:"JWT"})),iu(JSON.stringify(a)),""].join(".")}function cu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function lu(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cu())}function fu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(KL){return!1}}function hu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function du(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function pu(){var e=cu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vu(){return"object"===typeof indexedDB}var mu=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Ln(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ln(a),yu.prototype.create),a}return zt(n)}(tu(Error)),yu=function(){function e(t,n,r){Bt(this,e),this.service=t,this.serviceName=n,this.errors=r}return zt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?gu(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new mu(n,a,t);return o}}]),e}();function gu(e,t){return e.replace(ku,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ku=/\{\$([^}]+)}/g;function bu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(xu(u)&&xu(s)){if(!wu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function xu(e){return null!==e&&"object"===typeof e}function Eu(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function _u(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Iu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Su(e,t){var n=new Tu(e,t);return n.subscribe.bind(n)}var Tu=function(){function e(t,n){var r=this;Bt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return zt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Mr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Cu),void 0===r.error&&(r.error=Cu),void 0===r.complete&&(r.complete=Cu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(KL){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(KL){"undefined"!==typeof console&&console.error&&console.error(KL)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Cu(){}function Nu(e){return e&&e._delegate?e._delegate:e}var Au=function(){function e(t,n,r){Bt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return zt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Du="[DEFAULT]",Ou=function(){function e(t,n){Bt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return zt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new uu;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(KL){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(KL){if(r)return null;throw KL}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Du})}catch(KL){}var t,n=Mr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(KL){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Du;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Xo(Jo.mark((function e(){var t;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ut(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ut(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Du;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Du;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Mr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Mr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(SN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Du?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(SN){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Du;return this.component?this.component.multipleInstances?e:Du:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Pu,Ru,Lu=function(){function e(t){Bt(this,e),this.name=t,this.providers=new Map}return zt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ou(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Mu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ru||(Ru={}));var ju={debug:Ru.DEBUG,verbose:Ru.VERBOSE,info:Ru.INFO,warn:Ru.WARN,error:Ru.ERROR,silent:Ru.SILENT},Fu=Ru.INFO,Vu=(Z(Pu={},Ru.DEBUG,"log"),Z(Pu,Ru.VERBOSE,"log"),Z(Pu,Ru.INFO,"info"),Z(Pu,Ru.WARN,"warn"),Z(Pu,Ru.ERROR,"error"),Pu),Uu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Vu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Bu=function(){function e(t){Bt(this,e),this.name=t,this._logLevel=Fu,this._logHandler=Uu,this._userLogHandler=null,Mu.push(this)}return zt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ru))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ju[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ru.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ru.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ru.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ru.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ru.INFO].concat(t)),this._logHandler.apply(this,[this,Ru.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ru.WARN].concat(t)),this._logHandler.apply(this,[this,Ru.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ru.ERROR].concat(t)),this._logHandler.apply(this,[this,Ru.ERROR].concat(t))}}]),e}();var qu,zu;var Ku=new WeakMap,Wu=new WeakMap,Gu=new WeakMap,Hu=new WeakMap,Qu=new WeakMap;var Yu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Wu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ju(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function $u(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zu||(zu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Zu(this),n),Ju(Ku.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ju(e.apply(Zu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Zu(this),t].concat(r));return Gu.set(a,t.sort?t.sort():[t]),Ju(a)}}function Xu(e){return"function"===typeof e?$u(e):(e instanceof IDBTransaction&&function(e){if(!Wu.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Wu.set(e,t)}}(e),t=e,(qu||(qu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Yu):e);var t}function Ju(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ju(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ku.set(t,e)})).catch((function(){})),Qu.set(t,e),t}(e);if(Hu.has(e))return Hu.get(e);var t=Xu(e);return t!==e&&(Hu.set(e,t),Qu.set(t,e)),t}var Zu=function(e){return Qu.get(e)};var es,ts,ns=["get","getKey","getAll","getAllKeys","count"],rs=["put","add","delete","clear"],is=new Map;function as(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(is.get(t))return is.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=rs.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ns.includes(n))){var a=function(){var e=Xo(Jo.mark((function e(t){var a,o,u,s,c,l,f=arguments;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return is.set(t,a),a}}}Yu=function(e){return te(te({},e),{},{get:function(t,n,r){return as(t,n)||e.get(t,n,r)},has:function(t,n){return!!as(t,n)||e.has(t,n)}})}(Yu);var os=function(){function e(t){Bt(this,e),this.container=t}return zt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var us="@firebase/app",ss="0.7.24",cs=new Bu("@firebase/app"),ls="[DEFAULT]",fs=(Z(es={},us,"fire-core"),Z(es,"@firebase/app-compat","fire-core-compat"),Z(es,"@firebase/analytics","fire-analytics"),Z(es,"@firebase/analytics-compat","fire-analytics-compat"),Z(es,"@firebase/app-check","fire-app-check"),Z(es,"@firebase/app-check-compat","fire-app-check-compat"),Z(es,"@firebase/auth","fire-auth"),Z(es,"@firebase/auth-compat","fire-auth-compat"),Z(es,"@firebase/database","fire-rtdb"),Z(es,"@firebase/database-compat","fire-rtdb-compat"),Z(es,"@firebase/functions","fire-fn"),Z(es,"@firebase/functions-compat","fire-fn-compat"),Z(es,"@firebase/installations","fire-iid"),Z(es,"@firebase/installations-compat","fire-iid-compat"),Z(es,"@firebase/messaging","fire-fcm"),Z(es,"@firebase/messaging-compat","fire-fcm-compat"),Z(es,"@firebase/performance","fire-perf"),Z(es,"@firebase/performance-compat","fire-perf-compat"),Z(es,"@firebase/remote-config","fire-rc"),Z(es,"@firebase/remote-config-compat","fire-rc-compat"),Z(es,"@firebase/storage","fire-gcs"),Z(es,"@firebase/storage-compat","fire-gcs-compat"),Z(es,"@firebase/firestore","fire-fst"),Z(es,"@firebase/firestore-compat","fire-fst-compat"),Z(es,"fire-js","fire-js"),Z(es,"firebase","fire-js-all"),es),hs=new Map,ds=new Map;function ps(e,t){try{e.container.addComponent(t)}catch(KL){cs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),KL)}}function vs(e,t){e.container.addOrOverwriteComponent(t)}function ms(e){var t=e.name;if(ds.has(t))return cs.debug("There were multiple attempts to register component ".concat(t,".")),!1;ds.set(t,e);var n,r=Mr(hs.values());try{for(r.s();!(n=r.n()).done;){ps(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ys(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ls;ys(e,t).clearInstance(n)}function ks(){ds.clear()}var bs=(Z(ts={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Z(ts,"bad-app-name","Illegal App name: '{$appName}"),Z(ts,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Z(ts,"app-deleted","Firebase App named '{$appName}' already deleted"),Z(ts,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Z(ts,"invalid-log-argument","First argument to `onLog` must be null or a function."),Z(ts,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Z(ts,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Z(ts,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Z(ts,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ts),ws=new yu("app","Firebase",bs),xs=function(){function e(t,n,r){var i=this;Bt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Au("app",(function(){return i}),"PUBLIC"))}return zt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}]),e}(),Es="9.8.1";function _s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ls,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ws.create("bad-app-name",{appName:String(i)});var a=hs.get(i);if(a){if(wu(e,a.options)&&wu(r,a.config))return a;throw ws.create("duplicate-app",{appName:i})}var o,u=new Lu(i),s=Mr(ds.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new xs(e,r,u);return hs.set(i,l),l}function Is(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ls,t=hs.get(e);if(!t)throw ws.create("no-app",{appName:e});return t}function Ss(){return Array.from(hs.values())}function Ts(e){return Cs.apply(this,arguments)}function Cs(){return(Cs=Xo(Jo.mark((function e(t){var n;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!hs.has(n)){e.next=6;break}return hs.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ns(e,t,n){var r,i=null!==(r=fs[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void cs.warn(u.join(" "))}ms(new Au("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function As(e,t){if(null!==e&&"function"!==typeof e)throw ws.create("invalid-log-argument");!function(e,t){var n,r=Mr(Mu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ju[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ru[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ds(e){var t;t=e,Mu.forEach((function(e){e.setLogLevel(t)}))}var Os="firebase-heartbeat-store",Ps=null;function Rs(){return Ps||(Ps=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ju(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ju(u.result),e.oldVersion,e.newVersion,Ju(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Os)}}).catch((function(e){throw ws.create("storage-open",{originalErrorMessage:e.message})}))),Ps}function Ls(e){return Ms.apply(this,arguments)}function Ms(){return Ms=Xo(Jo.mark((function e(t){var n;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rs();case 3:return n=e.sent,e.abrupt("return",n.transaction(Os).objectStore(Os).get(Vs(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ws.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ms.apply(this,arguments)}function js(e,t){return Fs.apply(this,arguments)}function Fs(){return Fs=Xo(Jo.mark((function e(t,n){var r,i,a;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rs();case 3:return r=e.sent,i=r.transaction(Os,"readwrite"),a=i.objectStore(Os),e.next=8,a.put(n,Vs(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),ws.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Fs.apply(this,arguments)}function Vs(e){return"".concat(e.name,"!").concat(e.options.appId)}var Us=function(){function e(t){var n=this;Bt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ws(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return zt(e,[{key:"triggerHeartbeat",value:function(){var e=Xo(Jo.mark((function e(){var t,n,r;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Bs(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Xo(Jo.mark((function e(){var t,n,r,i,a;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Bs(),n=qs(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=iu(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bs(){return(new Date).toISOString().substring(0,10)}function qs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Mr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Gs(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Gs(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var zs,Ks,Ws=function(){function e(t){Bt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return zt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Xo(Jo.mark((function e(){return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vu()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Xo(Jo.mark((function e(){var t;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ls(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Xo(Jo.mark((function e(t){var n,r;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",js(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Xo(Jo.mark((function e(t){var n,r;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",js(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ut(r.heartbeats),Ut(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Gs(e){return iu(JSON.stringify({version:2,heartbeats:e})).length}zs="",ms(new Au("platform-logger",(function(e){return new os(e)}),"PRIVATE")),ms(new Au("heartbeat",(function(e){return new Us(e)}),"PRIVATE")),Ns(us,ss,zs),Ns(us,ss,"esm2017"),Ns("fire-js","");var Hs=function(){function e(t,n){var r=this;Bt(this,e),this._delegate=t,this.firebase=n,ps(t,new Au("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return zt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ts(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ls;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ls;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ps(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){vs(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Qs=(Z(Ks={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Z(Ks,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ks),Ys=new yu("app-compat","Firebase",Qs);var $s=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=_s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(bu(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ns,setLogLevel:Ds,onLog:As,apps:null,SDK_VERSION:Es,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ms(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ys.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ou(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!bu(n,e=e||ls))throw Ys.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Hs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ou(n,e)},createSubscribe:Su,ErrorFactory:yu,deepExtend:ou}),n}(),Xs=new Bu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Xs.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Js=self.firebase.SDK_VERSION;Js&&Js.indexOf("LITE")>=0&&Xs.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Zs=$s;!function(e){Ns("@firebase/app-compat","0.1.25",e)}();Zs.registerVersion("firebase","9.8.1","app-compat");function ec(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var tc;Object.create;var nc="facebook.com",rc="github.com",ic="google.com",ac="password",oc="twitter.com",uc="EMAIL_SIGNIN",sc="PASSWORD_RESET",cc="RECOVER_EMAIL",lc="REVERT_SECOND_FACTOR_ADDITION",fc="VERIFY_AND_CHANGE_EMAIL",hc="VERIFY_EMAIL";function dc(){return Z({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var pc=function(){var e;return Z(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Z(e,"argument-error",""),Z(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Z(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Z(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Z(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Z(e,"cordova-not-ready","Cordova framework is not ready."),Z(e,"cors-unsupported","This browser is not supported."),Z(e,"credential-already-in-use","This credential is already associated with a different user account."),Z(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Z(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Z(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Z(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Z(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Z(e,"email-already-in-use","The email address is already in use by another account."),Z(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Z(e,"expired-action-code","The action code has expired."),Z(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Z(e,"internal-error","An internal AuthError has occurred."),Z(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Z(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Z(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Z(e,"invalid-auth-event","An internal AuthError has occurred."),Z(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Z(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Z(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Z(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Z(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Z(e,"invalid-email","The email address is badly formatted."),Z(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Z(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Z(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Z(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Z(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Z(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Z(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Z(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Z(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Z(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Z(e,"wrong-password","The password is invalid or the user does not have a password."),Z(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Z(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Z(e,"invalid-provider-id","The specified provider ID is invalid."),Z(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Z(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Z(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Z(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Z(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Z(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Z(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Z(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Z(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Z(e,"missing-continue-uri","A continue URL must be provided in the request."),Z(e,"missing-iframe-start","An internal AuthError has occurred."),Z(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Z(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Z(e,"missing-multi-factor-info","No second factor identifier is provided."),Z(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Z(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Z(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Z(e,"app-deleted","This instance of FirebaseApp has been deleted."),Z(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Z(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Z(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Z(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Z(e,"no-auth-event","An internal AuthError has occurred."),Z(e,"no-such-provider","User was not linked to an account with the given provider."),Z(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Z(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Z(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Z(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Z(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Z(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Z(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Z(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Z(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Z(e,"rejected-credential","The request contains malformed or mismatching credentials."),Z(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Z(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Z(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Z(e,"timeout","The operation has timed out."),Z(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Z(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Z(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Z(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Z(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Z(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Z(e,"unverified-email","The operation requires a verified email."),Z(e,"user-cancelled","The user did not grant your application the permissions it requested."),Z(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Z(e,"user-disabled","The user account has been disabled by an administrator."),Z(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Z(e,"user-signed-out",""),Z(e,"weak-password","The password must be 6 characters long or more."),Z(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Z(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},vc=dc,mc=new yu("auth","Firebase",dc()),yc=new Bu("@firebase/auth");function gc(e){if(yc.logLevel<=Ru.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yc.error.apply(yc,["Auth (".concat(Es,"): ").concat(e)].concat(n))}}function kc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ec.apply(void 0,[e].concat(n))}function bc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ec.apply(void 0,[e].concat(n))}function wc(e,t,n){var r=Object.assign(Object.assign({},vc()),Z({},t,n));return new yu("auth","Firebase",r).create(t,{appName:e.name})}function xc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&kc(e,"argument-error"),wc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ec(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Ut(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Ut(o)))}return mc.create.apply(mc,[e].concat(n))}function _c(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ec.apply(void 0,[t].concat(r))}}function Ic(e){var t="INTERNAL ASSERTION FAILED: "+e;throw gc(t),new Error(t)}function Sc(e,t){e||Ic(t)}var Tc=new Map;function Cc(e){Sc(e instanceof Function,"Expected a class definition");var t=Tc.get(e);return t?(Sc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Tc.set(e,t),t)}function Nc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ac(){return"http:"===Dc()||"https:"===Dc()}function Dc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Oc=function(){function e(t,n){Bt(this,e),this.shortDelay=t,this.longDelay=n,Sc(n>t,"Short delay should be less than long delay!"),this.isMobile=lu()||du()}return zt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ac()||hu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Pc(e,t){Sc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Rc=function(){function e(){Bt(this,e)}return zt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ic("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ic("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ic("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Lc=(Z(tc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Z(tc,"MISSING_CUSTOM_TOKEN","internal-error"),Z(tc,"INVALID_IDENTIFIER","invalid-email"),Z(tc,"MISSING_CONTINUE_URI","internal-error"),Z(tc,"INVALID_PASSWORD","wrong-password"),Z(tc,"MISSING_PASSWORD","internal-error"),Z(tc,"EMAIL_EXISTS","email-already-in-use"),Z(tc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Z(tc,"INVALID_IDP_RESPONSE","invalid-credential"),Z(tc,"INVALID_PENDING_TOKEN","invalid-credential"),Z(tc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Z(tc,"MISSING_REQ_TYPE","internal-error"),Z(tc,"EMAIL_NOT_FOUND","user-not-found"),Z(tc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Z(tc,"EXPIRED_OOB_CODE","expired-action-code"),Z(tc,"INVALID_OOB_CODE","invalid-action-code"),Z(tc,"MISSING_OOB_CODE","internal-error"),Z(tc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Z(tc,"INVALID_ID_TOKEN","invalid-user-token"),Z(tc,"TOKEN_EXPIRED","user-token-expired"),Z(tc,"USER_NOT_FOUND","user-token-expired"),Z(tc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Z(tc,"INVALID_CODE","invalid-verification-code"),Z(tc,"INVALID_SESSION_INFO","invalid-verification-id"),Z(tc,"INVALID_TEMPORARY_PROOF","invalid-credential"),Z(tc,"MISSING_SESSION_INFO","missing-verification-id"),Z(tc,"SESSION_EXPIRED","code-expired"),Z(tc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Z(tc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Z(tc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Z(tc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Z(tc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Z(tc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Z(tc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Z(tc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Z(tc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Z(tc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Z(tc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),tc),Mc=new Oc(3e4,6e4);function jc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Fc(e,t,n,r){return Vc.apply(this,arguments)}function Vc(){return Vc=Xo(Zo().mark((function e(t,n,r,i){var a,o=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Uc(t,a,Xo(Zo().mark((function e(){var a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Eu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Rc.fetch()(Kc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function Uc(e,t,n){return Bc.apply(this,arguments)}function Bc(){return(Bc=Xo(Zo().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Lc),n),e.prev=2,a=new Wc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Gc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Gc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Gc(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw wc(t,p,d);case 30:kc(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof mu)){e.next=37;break}throw e.t0;case 37:kc(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function qc(e,t,n,r){return zc.apply(this,arguments)}function zc(){return zc=Xo(Zo().mark((function e(t,n,r,i){var a,o,u=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Fc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&kc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function Kc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Pc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Wc=function(){function e(t){var n=this;Bt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(bc(n.auth,"network-request-failed"))}),Mc.get())}))}return zt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Gc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=bc(e,t,r);return i.customData._tokenResponse=n,i}function Hc(e,t){return Qc.apply(this,arguments)}function Qc(){return(Qc=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(e,t){return $c.apply(this,arguments)}function $c(){return($c=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xc(e,t){return Jc.apply(this,arguments)}function Jc(){return(Jc=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(KL){}}function el(){return el=Xo(Zo().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Nu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,_c((a=nl(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Zc(tl(a.auth_time)),issuedAtTime:Zc(tl(a.iat)),expirationTime:Zc(tl(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}function tl(e){return 1e3*Number(e)}function nl(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return gc("JWT malformed, contained fewer than 3 sections"),null;try{var a=au(r);return a?JSON.parse(a):(gc("Failed to decode base64 JWT payload"),null)}catch(KL){return gc("Caught error parsing JWT payload as JSON",KL),null}}function rl(e,t){return il.apply(this,arguments)}function il(){return il=Xo(Zo().mark((function e(t,n){var r=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof mu&&al(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),il.apply(this,arguments)}function al(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ol=function(){function e(t){Bt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return zt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Xo(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ul=function(){function e(t,n){Bt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return zt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function sl(e){return cl.apply(this,arguments)}function cl(){return cl=Xo(Zo().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,rl(t,Xc(r,{idToken:i}));case 6:_c(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?hl(o.providerUserInfo):[],s=fl(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ul(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}function ll(){return(ll=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nu(t),e.next=3,sl(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Ut(n),Ut(t))}function hl(e){return e.map((function(e){var t=e.providerId,n=ec(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function dl(e,t){return pl.apply(this,arguments)}function pl(){return(pl=Xo(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uc(t,{},Xo(Zo().mark((function e(){var r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Kc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Rc.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vl=function(){function e(){Bt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return zt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){_c(e.idToken,"internal-error"),_c("undefined"!==typeof e.idToken,"internal-error"),_c("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=nl(e);return _c(t,"internal-error"),_c("undefined"!==typeof t.exp,"internal-error"),_c("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Xo(Zo().mark((function e(t){var n,r=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],_c(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Xo(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dl(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ic("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(_c("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(_c("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(_c("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ml(e,t){_c("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var yl=function(){function e(t){Bt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ec(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ol(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Ut(a.providerData):[],this.metadata=new ul(a.createdAt||void 0,a.lastLoginAt||void 0)}return zt(e,[{key:"getIdToken",value:function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rl(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(_c(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return el.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ll.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(_c(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){_c(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Xo(Zo().mark((function e(t){var n,r,i=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,sl(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,rl(this,Hc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;_c(k&&E,t,"internal-error");var _=vl.fromJSON(this.name,E);_c("string"===typeof k,t,"internal-error"),ml(f,t.name),ml(h,t.name),_c("boolean"===typeof b,t,"internal-error"),_c("boolean"===typeof w,t,"internal-error"),ml(d,t.name),ml(p,t.name),ml(v,t.name),ml(m,t.name),ml(y,t.name),ml(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Xo(Zo().mark((function t(n,r){var i,a,o,u=arguments;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new vl).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,sl(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),gl=function(){function e(){Bt(this,e),this.type="NONE",this.storage={}}return zt(e,[{key:"_isAvailable",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();gl.type="NONE";var kl=gl;function bl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var wl=function(){function e(t,n,r){Bt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=bl(this.userKey,a.apiKey,o),this.fullPersistenceKey=bl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return zt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?yl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Xo(Zo().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Cc(kl),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Cc(kl),u=bl(i,n.config.apiKey,n.name),s=null,c=Mr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=yl._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function xl(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(El(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cl(t))return"Blackberry";if(Nl(t))return"Webos";if(_l(t))return"Safari";if((t.includes("chrome/")||Il(t))&&!t.includes("edge/"))return"Chrome";if(Tl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function El(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/firefox\//i.test(e)}function _l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/crios\//i.test(e)}function Sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/iemobile/i.test(e)}function Tl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/android/i.test(e)}function Cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/blackberry/i.test(e)}function Nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/webos/i.test(e)}function Al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/iphone|ipad|ipod/i.test(e)}function Dl(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return Al(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ol(){return pu()&&10===document.documentMode}function Pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return Al(e)||Tl(e)||Nl(e)||Cl(e)||/windows phone/i.test(e)||Sl(e)}function Rl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xl(cu());break;case"Worker":t="".concat(xl(cu()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Es,"/").concat(r)}var Ll=function(){function e(t){Bt(this,e),this.auth=t,this.queue=[]}return zt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(KL){r(KL)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Xo(Zo().mark((function e(t){var n,r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Mr(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Mr(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ml=function(){function e(t,n,r){Bt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fl(this),this.idTokenSubscription=new Fl(this),this.beforeStateQueue=new Ll(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return zt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Cc(t)),this._initializationPromise=this.queue(Xo(Zo().mark((function r(){var i,a;return Zo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,wl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Xo(Zo().mark((function e(t){var n,r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return _c(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sl(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Nu(t):null)&&_c(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Xo(Zo().mark((function e(t){var n,r=this,i=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&_c(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Xo(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Cc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new yu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Xo(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return _c(n=t&&Cc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,wl.create(this,[Cc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Xo(Zo().mark((function e(t){var n=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return _c(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return _c(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rl(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Xo(Zo().mark((function e(){var t,n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Z({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jl(e){return Nu(e)}var Fl=function(){function e(t){var n=this;Bt(this,e),this.auth=t,this.observer=null,this.addObserver=Su((function(e){return n.observer=e}))}return zt(e,[{key:"next",get:function(){return _c(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Vl(e,t,n){var r=jl(e);_c(r._canInitEmulator,r,"emulator-config-failed"),_c(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ul(t),o=function(e){var t=Ul(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Bl(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Bl(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ul(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Bl(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ql=function(){function e(t,n){Bt(this,e),this.providerId=t,this.signInMethod=n}return zt(e,[{key:"toJSON",value:function(){return Ic("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ic("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ic("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ic("not implemented")}}]),e}();function zl(e,t){return Kl.apply(this,arguments)}function Kl(){return(Kl=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t,"POST","/v1/accounts:resetPassword",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e,t){return Gl.apply(this,arguments)}function Gl(){return(Gl=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hl(e,t){return Ql.apply(this,arguments)}function Ql(){return(Ql=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t,"POST","/v1/accounts:update",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yl(e,t){return $l.apply(this,arguments)}function $l(){return($l=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qc(t,"POST","/v1/accounts:signInWithPassword",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xl(e,t){return Jl.apply(this,arguments)}function Jl(){return(Jl=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t,"POST","/v1/accounts:sendOobCode",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zl(e,t){return ef.apply(this,arguments)}function ef(){return(ef=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e,t){return nf.apply(this,arguments)}function nf(){return(nf=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rf(e,t){return af.apply(this,arguments)}function af(){return(af=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function of(e,t){return uf.apply(this,arguments)}function uf(){return(uf=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sf(e,t){return cf.apply(this,arguments)}function cf(){return(cf=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qc(t,"POST","/v1/accounts:signInWithEmailLink",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lf(e,t){return ff.apply(this,arguments)}function ff(){return(ff=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qc(t,"POST","/v1/accounts:signInWithEmailLink",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hf=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Bt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return zt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Yl(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",sf(t,{email:this._email,oobCode:this._password}));case 5:kc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",lf(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:kc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ql);function df(e,t){return pf.apply(this,arguments)}function pf(){return(pf=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qc(t,"POST","/v1/accounts:signInWithIdp",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vf=function(e){On(n,e);var t=jn(n);function n(){var e;return Bt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return zt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return df(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,df(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,df(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ec(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ql);function mf(e,t){return yf.apply(this,arguments)}function yf(){return(yf=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t,"POST","/v1/accounts:sendVerificationCode",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gf(){return(gf=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qc(t,"POST","/v1/accounts:signInWithPhoneNumber",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kf(){return(kf=Xo(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(t,"POST","/v1/accounts:signInWithPhoneNumber",jc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Gc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bf=Z({},"USER_NOT_FOUND","user-not-found");function wf(){return(wf=Xo(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",qc(t,"POST","/v1/accounts:signInWithPhoneNumber",jc(t,r),bf));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xf=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return zt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return gf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return kf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return wf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ql);var Ef=function(){function e(t){var n,r,i,a,o,u;Bt(this,e);var s=_u(Iu(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);_c(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return zt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=_u(Iu(e)).link,n=t?_u(Iu(t)).deep_link_id:null,r=_u(Iu(e)).deep_link_id;return(r?_u(Iu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(SN){return null}}}]),e}();var _f=function(){function e(){Bt(this,e),this.providerId=e.PROVIDER_ID}return zt(e,null,[{key:"credential",value:function(e,t){return hf._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ef.parseLink(t);return _c(n,"argument-error"),hf._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();_f.PROVIDER_ID="password",_f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_f.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var If=function(){function e(t){Bt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return zt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Sf=function(e){On(n,e);var t=jn(n);function n(){var e;return Bt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return zt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Ut(this.scopes)}}]),n}(If),Tf=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.apply(this,arguments)}return zt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return _c(e.idToken||e.accessToken,"argument-error"),vf._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return _c("providerId"in t&&"signInMethod"in t,"argument-error"),vf._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(KL){return null}}}]),n}(Sf),Cf=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.call(this,"facebook.com")}return zt(n,null,[{key:"credential",value:function(e){return vf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SN){return null}}}]),n}(Sf);Cf.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cf.PROVIDER_ID="facebook.com";var Nf=function(e){On(n,e);var t=jn(n);function n(){var e;return Bt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return zt(n,null,[{key:"credential",value:function(e,t){return vf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(SN){return null}}}]),n}(Sf);Nf.GOOGLE_SIGN_IN_METHOD="google.com",Nf.PROVIDER_ID="google.com";var Af=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.call(this,"github.com")}return zt(n,null,[{key:"credential",value:function(e){return vf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SN){return null}}}]),n}(Sf);Af.GITHUB_SIGN_IN_METHOD="github.com",Af.PROVIDER_ID="github.com";var Df=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return zt(n,[{key:"_getIdTokenResponse",value:function(e){return df(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,df(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,df(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ql),Of=function(e){On(n,e);var t=jn(n);function n(e){return Bt(this,n),_c(e.startsWith("saml."),"argument-error"),t.call(this,e)}return zt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Df.fromJSON(e);return _c(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Df._create(r,n)}catch(KL){return null}}}]),n}(If),Pf=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.call(this,"twitter.com")}return zt(n,null,[{key:"credential",value:function(e,t){return vf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(SN){return null}}}]),n}(Sf);function Rf(e,t){return Lf.apply(this,arguments)}function Lf(){return(Lf=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qc(t,"POST","/v1/accounts:signUp",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Pf.TWITTER_SIGN_IN_METHOD="twitter.com",Pf.PROVIDER_ID="twitter.com";var Mf=function(){function e(t){Bt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return zt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Xo(Zo().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,yl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=jf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Xo(Zo().mark((function t(n,r,i){var a;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=jf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function jf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ff(){return Ff=Xo(Zo().mark((function e(t){var n,r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Mf({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Rf(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Mf._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}var Vf=function(e){On(n,e);var t=jn(n);function n(e,r,i,a){var o,u;return Bt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Ln(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return zt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(mu);function Uf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Vf._fromErrorAndOperation(e,n,t,r);throw n}))}function Bf(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function qf(e,t){return zf.apply(this,arguments)}function zf(){return zf=Xo(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nu(t),e.next=3,Gf(!0,r,n);case 3:return e.t0=Yc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Bf(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function Kf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=Xo(Zo().mark((function e(t,n){var r,i,a=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=rl,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Mf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Gf(e,t,n){return Hf.apply(this,arguments)}function Hf(){return(Hf=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sl(n);case 2:i=Bf(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",_c(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qf(e,t){return Yf.apply(this,arguments)}function Yf(){return Yf=Xo(Zo().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,rl(t,Uf(i,a,n,t),r);case 6:return _c((o=e.sent).idToken,i,"internal-error"),_c(u=nl(o.idToken),i,"internal-error"),s=u.sub,_c(t.uid===s,i,"user-mismatch"),e.abrupt("return",Mf._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&kc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Yf.apply(this,arguments)}function $f(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=Xo(Zo().mark((function e(t,n){var r,i,a,o,u=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Uf(t,i,n);case 4:return a=e.sent,e.next=7,Mf._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Jf(e,t){return Zf.apply(this,arguments)}function Zf(){return(Zf=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$f(jl(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eh(e,t){return th.apply(this,arguments)}function th(){return(th=Xo(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nu(t),e.next=3,Gf(!1,r,n.providerId);case 3:return e.abrupt("return",Kf(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nh(e,t){return rh.apply(this,arguments)}function rh(){return(rh=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qf(Nu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ih(e,t){return ah.apply(this,arguments)}function ah(){return(ah=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qc(t,"POST","/v1/accounts:signInWithCustomToken",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oh(){return(oh=Xo(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jl(t),e.next=3,ih(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Mf._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uh=function(){function e(t,n){Bt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return zt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?sh._fromServerResponse(e,t):kc(e,"internal-error")}}]),e}(),sh=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return zt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(uh);function ch(e,t,n){var r;_c((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),_c("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_c(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_c(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function lh(){return(lh=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nu(t),a={requestType:"PASSWORD_RESET",email:n},r&&ch(i,a,r),e.next=5,tf(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fh(){return(fh=Xo(Zo().mark((function e(t,n,r){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zl(Nu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hh(){return(hh=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hl(Nu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dh(e,t){return ph.apply(this,arguments)}function ph(){return(ph=Xo(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nu(t),e.next=3,zl(r,{oobCode:n});case 3:i=e.sent,_c(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return _c(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:_c(i.mfaInfo,r,"internal-error");case 13:_c(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=uh._fromServerResponse(jl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vh(){return(vh=Xo(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dh(Nu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(e,t,n){return yh.apply(this,arguments)}function yh(){return(yh=Xo(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jl(t),e.next=3,Rf(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Mf._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gh(){return(gh=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nu(t),a={requestType:"EMAIL_SIGNIN",email:n},_c(r.handleCodeInApp,i,"argument-error"),r&&ch(i,a,r),e.next=6,rf(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kh(){return(kh=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nu(t),_c((a=_f.credentialWithLink(n,r||Nc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Jf(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bh(e,t){return wh.apply(this,arguments)}function wh(){return(wh=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t,"POST","/v1/accounts:createAuthUri",jc(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xh(){return(xh=Xo(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac()?Nc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,bh(Nu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eh(){return(Eh=Xo(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ch(r.auth,a,n),e.next=8,Zl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _h(){return(_h=Xo(Zo().mark((function e(t,n,r){var i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ch(i.auth,o,r),e.next=8,of(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ih(e,t){return Sh.apply(this,arguments)}function Sh(){return(Sh=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(){return(Th=Xo(Zo().mark((function e(t,n){var r,i,a,o,u,s,c;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Nu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,rl(a,Ih(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ch(e,t,n){return Nh.apply(this,arguments)}function Nh(){return(Nh=Xo(Zo().mark((function e(t,n,r){var i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,rl(t,Wl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ah=zt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Bt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Dh=function(e){On(n,e);var t=jn(n);function n(e,r,i,a){var o;return Bt(this,n),(o=t.call(this,e,r,i)).username=a,o}return zt(n)}(Ah),Oh=function(e){On(n,e);var t=jn(n);function n(e,r){return Bt(this,n),t.call(this,e,"facebook.com",r)}return zt(n)}(Ah),Ph=function(e){On(n,e);var t=jn(n);function n(e,r){return Bt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return zt(n)}(Dh),Rh=function(e){On(n,e);var t=jn(n);function n(e,r){return Bt(this,n),t.call(this,e,"google.com",r)}return zt(n)}(Ah),Lh=function(e){On(n,e);var t=jn(n);function n(e,r,i){return Bt(this,n),t.call(this,e,"twitter.com",r,i)}return zt(n)}(Dh);function Mh(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=nl(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ah(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Oh(a,i);case"github.com":return new Ph(a,i);case"google.com":return new Rh(a,i);case"twitter.com":return new Lh(a,i,e.screenName||null);case"custom":case"anonymous":return new Ah(a,null);default:return new Ah(a,r,i)}}(n)}var jh=function(){function e(t,n){Bt(this,e),this.type=t,this.credential=n}return zt(e,[{key:"toJSON",value:function(){return{multiFactorSession:Z({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Fh=function(){function e(t,n,r){Bt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return zt(e,[{key:"resolveSignIn",value:function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=jl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return uh._fromServerResponse(r,e)}));_c(i.mfaPendingCredential,r,"internal-error");var o=jh._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Xo(Zo().mark((function e(t){var a,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Mf._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return _c(n.user,r,"internal-error"),e.abrupt("return",Mf._forOperation(n.user,n.operationType,u));case 17:kc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Vh(e,t){return Fc(e,"POST","/v2/accounts/mfaEnrollment:start",jc(e,t))}var Uh=function(){function e(t){var n=this;Bt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return uh._fromServerResponse(t.auth,e)})))}))}return zt(e,[{key:"getSession",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=jh,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Xo(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,rl(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Xo(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,rl(this.user,Fc(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",jc(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Bh=new WeakMap;var qh="__sak",zh=function(){function e(t,n){Bt(this,e),this.storageRetriever=t,this.type=n}return zt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch(SN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Kh=function(e){On(n,e);var t=jn(n);function n(){var e;return Bt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=cu();return _l(e)||Al(e)}()&&function(){try{return!(!window||window===window.top)}catch(KL){return!1}}(),e.fallbackToPolling=Pl(),e._shouldAllowMigration=!0,e}return zt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ol()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Xo(Zo().mark((function e(t,r){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(Nn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xo(Zo().mark((function e(t){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(Nn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(Nn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(zh);Kh.type="LOCAL";var Wh=Kh,Gh=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return zt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(zh);Gh.type="SESSION";var Hh=Gh;function Qh(e){return Promise.all(e.map(function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Yh=function(){function e(t){Bt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return zt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Xo(Zo().mark((function e(t){var n,r,i,a,o,u,s,c;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Qh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function $h(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Yh.receivers=[];var Xh=function(){function e(t){Bt(this,e),this.target=t,this.handlers=new Set}return zt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Xo(Zo().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=$h("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Jh(){return window}function Zh(){return"undefined"!==typeof Jh().WorkerGlobalScope&&"function"===typeof Jh().importScripts}function ed(){return td.apply(this,arguments)}function td(){return(td=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function nd(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var rd="firebaseLocalStorageDb",id="firebaseLocalStorage",ad="fbase_key",od=function(){function e(t){Bt(this,e),this.request=t}return zt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ud(e,t){return e.transaction([id],t?"readwrite":"readonly").objectStore(id)}function sd(){var e=indexedDB.deleteDatabase(rd);return new od(e).toPromise()}function cd(){var e=indexedDB.open(rd,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(id,{keyPath:ad})}catch(KL){n(KL)}})),e.addEventListener("success",Xo(Zo().mark((function n(){var r;return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(id)){n.next=12;break}return r.close(),n.next=5,sd();case 5:return n.t0=t,n.next=8,cd();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ld(e,t,n){return fd.apply(this,arguments)}function fd(){return fd=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ud(t,!0).put((Z(i={},ad,n),Z(i,"value",r),i)),e.abrupt("return",new od(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),fd.apply(this,arguments)}function hd(e,t){return dd.apply(this,arguments)}function dd(){return dd=Xo(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ud(t,!1).get(n),e.next=3,new od(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}function pd(e,t){var n=ud(e,!0).delete(t);return new od(n).toPromise()}var vd=function(){function e(){Bt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return zt(e,[{key:"_openDb",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,cd();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Xo(Zo().mark((function e(){var t=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Yh._getInstance(Zh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Xo(Zo().mark((function e(n,r){var i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Xo(Zo().mark((function e(){var t,n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ed();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Xh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&nd()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,cd();case 5:return t=e.sent,e.next=8,ld(t,qh,"1");case 8:return e.next=10,pd(t,qh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Xo(Zo().mark((function e(t,n){var r=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ld(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return hd(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Xo(Zo().mark((function e(t){var n=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return pd(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Xo(Zo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ud(e,!1).getAll();return new od(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Mr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Xo(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();vd.type="LOCAL";var md=vd;function yd(e,t){return Fc(e,"POST","/v2/accounts/mfaSignIn:start",jc(e,t))}function gd(e){return kd.apply(this,arguments)}function kd(){return(kd=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=bc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function wd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var xd=1e12,Ed=function(){function e(t){Bt(this,e),this.auth=t,this.counter=xd,this._widgets=new Map}return zt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new _d(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||xd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||xd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||xd,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_d=function(){function e(t,n,r){var i=this;Bt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;_c(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return zt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(KL){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(KL){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Id=wd("rcb"),Sd=new Oc(3e4,6e4),Td="https://www.google.com/recaptcha/api.js?",Cd=function(){function e(){Bt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Jh().grecaptcha}return zt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return _c(Nd(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Jh().grecaptcha):new Promise((function(r,i){var a=Jh().setTimeout((function(){i(bc(e,"network-request-failed"))}),Sd.get());Jh()[Id]=function(){Jh().clearTimeout(a),delete Jh()[Id];var o=Jh().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(bc(e,"internal-error"))},bd("".concat(Td,"?").concat(Eu({onload:Id,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(bc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Jh().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Nd(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ad=function(){function e(){Bt(this,e)}return zt(e,[{key:"load",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ed(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Dd="recaptcha",Od={theme:"light",type:"image"},Pd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Od),r=arguments.length>2?arguments[2]:void 0;Bt(this,e),this.parameters=n,this.type=Dd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jl(r),this.isInvisible="invisible"===this.parameters.size,_c("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;_c(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ad:new Cd,this.validateStartingState()}return zt(e,[{key:"verify",value:function(){var e=Xo(Zo().mark((function e(){var t,n,r,i=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(KL){return Promise.reject(KL)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){_c(!this.parameters.sitekey,this.auth,"argument-error"),_c(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_c("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Jh()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){_c(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Xo(Zo().mark((function e(){var t,n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _c(Ac()&&!Zh(),this.auth,"internal-error"),e.next=3,Rd();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,gd(this.auth);case 8:_c(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return _c(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Rd(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ld=function(){function e(t,n){Bt(this,e),this.verificationId=t,this.onConfirmation=n}return zt(e,[{key:"confirm",value:function(e){var t=xf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Md(){return(Md=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jl(t),e.next=3,Ud(i,n,Nu(r));case 3:return a=e.sent,e.abrupt("return",new Ld(a,(function(e){return Jf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jd(e,t,n){return Fd.apply(this,arguments)}function Fd(){return(Fd=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nu(t),e.next=3,Gf(!1,i,"phone");case 3:return e.next=5,Ud(i.auth,n,Nu(r));case 5:return a=e.sent,e.abrupt("return",new Ld(a,(function(e){return eh(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vd(){return(Vd=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nu(t),e.next=3,Ud(i.auth,n,Nu(r));case 3:return a=e.sent,e.abrupt("return",new Ld(a,(function(e){return nh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ud(e,t,n){return Bd.apply(this,arguments)}function Bd(){return Bd=Xo(Zo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,_c("string"===typeof a,t,"argument-error"),_c(r.type===Dd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return _c("enroll"===u.type,t,"internal-error"),e.next=13,Vh(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return _c("signin"===u.type,t,"internal-error"),_c(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,yd(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,mf(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Bd.apply(this,arguments)}function qd(){return(qd=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kf(Nu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zd=function(){function e(t){Bt(this,e),this.providerId=e.PROVIDER_ID,this.auth=jl(t)}return zt(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ud(this.auth,e,Nu(t))}}],[{key:"credential",value:function(e,t){return xf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?xf._fromTokenResponse(n,r):null}}]),e}();function Kd(e,t){return t?Cc(t):(_c(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zd.PROVIDER_ID="phone",zd.PHONE_SIGN_IN_METHOD="phone";var Wd=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return zt(n,[{key:"_getIdTokenResponse",value:function(e){return df(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return df(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return df(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ql);function Gd(e){return $f(e.auth,new Wd(e),e.bypassAuthState)}function Hd(e){var t=e.auth,n=e.user;return _c(n,t,"internal-error"),Qf(n,new Wd(e),e.bypassAuthState)}function Qd(e){return Yd.apply(this,arguments)}function Yd(){return(Yd=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,_c(r=t.user,n,"internal-error"),e.abrupt("return",Kf(r,new Wd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $d=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Bt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return zt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Xo(Zo().mark((function t(n,r){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Xo(Zo().mark((function e(t){var n,r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gd;case"linkViaPopup":case"linkViaRedirect":return Qd;case"reauthViaPopup":case"reauthViaRedirect":return Hd;default:kc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Sc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Xd=new Oc(2e3,1e4);function Jd(e,t,n){return Zd.apply(this,arguments)}function Zd(){return(Zd=Xo(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jl(t),xc(t,n,If),a=Kd(i,r),o=new rp(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ep(){return(ep=Xo(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc((i=Nu(t)).auth,n,If),a=Kd(i.auth,r),o=new rp(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tp(e,t,n){return np.apply(this,arguments)}function np(){return(np=Xo(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc((i=Nu(t)).auth,n,If),a=Kd(i.auth,r),o=new rp(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rp=function(e){On(n,e);var t=jn(n);function n(e,r,i,a,o){var u;return Bt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Ln(u),u}return zt(n,[{key:"executeNotNull",value:function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return _c(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Xo(Zo().mark((function e(){var t,n=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sc(1===this.filter.length,"Popup operations only handle one event"),t=$h(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(bc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(bc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(bc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Xd.get())}()}}]),n}($d);rp.currentPopupAction=null;var ip=new Map,ap=function(e){On(n,e);var t=jn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Bt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return zt(n,[{key:"execute",value:function(){var e=Xo(Zo().mark((function e(){var t,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ip.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,op(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Dn(Nn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ip.set(this.auth._key(),t);case 21:return this.bypassAuthState||ip.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Xo(Zo().mark((function e(t){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Dn(Nn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Dn(Nn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}($d);function op(e,t){return up.apply(this,arguments)}function up(){return(up=Xo(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hp(n),i=fp(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sp(e,t){return cp.apply(this,arguments)}function cp(){return(cp=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fp(t)._set(hp(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lp(e,t){ip.set(e._key(),t)}function fp(e){return Cc(e._redirectPersistence)}function hp(e){return bl("pendingRedirect",e.config.apiKey,e.name)}function dp(e,t,n){return function(e,t,n){return pp.apply(this,arguments)}(e,t,n)}function pp(){return(pp=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jl(t),xc(t,n,If),a=Kd(i,r),e.next=5,sp(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vp(e,t,n){return function(e,t,n){return mp.apply(this,arguments)}(e,t,n)}function mp(){return(mp=Xo(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc((i=Nu(t)).auth,n,If),a=Kd(i.auth,r),e.next=5,sp(a,i.auth);case 5:return e.next=7,Ep(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yp(e,t,n){return function(e,t,n){return gp.apply(this,arguments)}(e,t,n)}function gp(){return(gp=Xo(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc((i=Nu(t)).auth,n,If),a=Kd(i.auth,r),e.next=5,Gf(!1,i,n.providerId);case 5:return e.next=7,sp(a,i.auth);case 7:return e.next=9,Ep(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kp(e,t){return bp.apply(this,arguments)}function bp(){return(bp=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(t)._initializationPromise;case 2:return e.abrupt("return",wp(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wp(e,t){return xp.apply(this,arguments)}function xp(){return xp=Xo(Zo().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=jl(t),a=Kd(i,n),o=new ap(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),xp.apply(this,arguments)}function Ep(e){return _p.apply(this,arguments)}function _p(){return(_p=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$h("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ip=function(){function e(t){Bt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return zt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Tp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Sp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Sp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Tp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Cp(e){return Np.apply(this,arguments)}function Np(){return Np=Xo(Zo().mark((function e(t){var n,r=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Fc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}var Ap=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dp=/^https?/;function Op(){return(Op=Xo(Zo().mark((function e(t){var n,r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Cp(t);case 4:n=e.sent,r=n.authorizedDomains,i=Mr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Pp(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:kc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Pp(e){var t=Nc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Dp.test(r))return!1;if(Ap.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Rp=new Oc(3e4,6e4);function Lp(){var e=Jh().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Ut(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Mp=null;function jp(e){return Mp=Mp||function(e){return new Promise((function(t,n){var r,i,a;function o(){Lp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Lp(),n(bc(e,"network-request-failed"))},timeout:Rp.get()})}if(null===(i=null===(r=Jh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Jh().gapi)||void 0===a?void 0:a.load)){var u=wd("iframefcb");return Jh()[u]=function(){gapi.load?o():n(bc(e,"network-request-failed"))},bd("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Mp=null,e}))}(e),Mp}var Fp=new Oc(5e3,15e3),Vp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Up=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bp(e){var t=e.config;_c(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Pc(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Es},i=Up.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Eu(r).slice(1))}function qp(e){return zp.apply(this,arguments)}function zp(){return zp=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jp(t);case 2:return n=e.sent,_c(r=Jh().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Bp(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vp,dontclear:!0},(function(e){return new Promise(function(){var n=Xo(Zo().mark((function n(r,i){var a,o,u;return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Jh().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=bc(t,"network-request-failed"),o=Jh().setTimeout((function(){i(a)}),Fp.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),zp.apply(this,arguments)}var Kp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wp="_blank",Gp="http://localhost",Hp=function(){function e(t){Bt(this,e),this.window=t,this.associatedEvent=null}return zt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(KL){}}}]),e}();function Qp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Kp),{width:r.toString(),height:i.toString(),top:a,left:o}),l=cu().toLowerCase();n&&(u=Il(l)?Wp:n),El(l)&&(t=t||Gp,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Dl(l)&&"_self"!==u)return Yp(t||"",u),new Hp(null);var h=window.open(t||"",u,f);_c(h,e,"popup-blocked");try{h.focus()}catch(KL){}return new Hp(h)}function Yp(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var $p="__/auth/handler",Xp="emulator/auth/handler";function Jp(e,t,n,r,i,a){_c(e.config.authDomain,e,"auth-domain-config-required"),_c(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Es,eventId:i};if(t instanceof If){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Sf){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat($p);return Pc(t,Xp)}(e),"?").concat(Eu(p).slice(1))}var Zp="webStorageSupport",ev=function(){function e(){Bt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hh,this._completeRedirectFn=wp,this._overrideRedirectResult=lp}return zt(e,[{key:"_openPopup",value:function(){var e=Xo(Zo().mark((function e(t,n,r,i){var a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Jp(t,n,r,Nc(),i),e.abrupt("return",Qp(t,o,$h()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Xo(Zo().mark((function e(t,n,r,i){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Jp(t,n,r,Nc(),i),Jh().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Sc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qp(t);case 2:return n=e.sent,r=new Ip(t),n.register("authEvent",(function(e){return _c(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Zp,{type:Zp},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),kc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Op.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Pl()||_l()||Al()}}]),e}(),tv=ev,nv=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this,"phone")).credential=e,r}return zt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Fc(e,"POST","/v2/accounts/mfaEnrollment:finalize",jc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Fc(e,"POST","/v2/accounts/mfaSignIn:finalize",jc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Bt(this,e),this.factorId=t}return zt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ic("unexpected MultiFactorSessionType")}}}]),e}()),rv=function(){function e(){Bt(this,e)}return zt(e,null,[{key:"assertion",value:function(e){return nv._fromCredential(e)}}]),e}();rv.FACTOR_ID="phone";var iv,av="@firebase/auth",ov="0.20.1",uv=function(){function e(t){Bt(this,e),this.auth=t,this.internalListeners=new Map}return zt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){_c(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function sv(){return window}iv="Browser",ms(new Au("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){_c(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),_c(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:iv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rl(iv)},i=new Ml(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ms(new Au("auth-internal",(function(e){return function(e){return new uv(e)}(jl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(av,ov,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(iv)),Ns(av,ov,"esm2017");function cv(e,t,n){return lv.apply(this,arguments)}function lv(){return lv=Xo(Zo().mark((function e(t,n,r){var i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sv(),o=a.BuildInfo,Sc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,mv(n.sessionId);case 4:return u=e.sent,s={},Al()?s.ibi=o.packageName:Tl()?s.apn=o.packageName:kc(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Jp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),lv.apply(this,arguments)}function fv(){return(fv=Xo(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sv(),r=n.BuildInfo,i={},Al()?i.iosBundleId=r.packageName:Tl()?i.androidPackageName=r.packageName:kc(t,"operation-not-supported-in-this-environment"),e.next=5,Cp(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hv(e){var t=sv().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function dv(e,t,n){return pv.apply(this,arguments)}function pv(){return pv=Xo(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sv(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(bc(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Tl()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),pv.apply(this,arguments)}function vv(e){var t,n,r,i,a,o,u,s,c,l,f=sv();_c("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_c("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_c("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_c("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_c("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function mv(e){return yv.apply(this,arguments)}function yv(){return(yv=Xo(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gv(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gv(e){if(Sc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var kv=function(e){On(n,e);var t=jn(n);function n(){var e;return Bt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return zt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Dn(Nn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ip);function bv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Iv(),postBody:null,tenantId:e.tenantId,error:bc(e,"no-auth-event")}}function wv(e,t){return Sv()._set(Tv(e),t)}function xv(e){return Ev.apply(this,arguments)}function Ev(){return(Ev=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sv()._get(Tv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Sv()._remove(Tv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _v(e,t){var n,r,i=function(e){var t=Cv(e),n=t.link?decodeURIComponent(t.link):void 0,r=Cv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Cv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Cv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(KL){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?bc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Iv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Sv(){return Cc(Wh)}function Tv(e){return bl("authEvent",e.config.apiKey,e.name)}function Cv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||Vt(t)||u(t)||s();r[0];return _u(r.slice(1).join("?"))}var Nv=function(){function e(){Bt(this,e),this._redirectPersistence=Hh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wp,this._overrideRedirectResult=lp}return zt(e,[{key:"_initialize",value:function(){var e=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new kv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){kc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Xo(Zo().mark((function e(t,n,r,i){var a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vv(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ip.clear(),e.next=10,this._originValidation(t);case 10:return o=bv(t,r,i),e.next=13,wv(t,o);case 13:return e.next=15,cv(t,o,n);case 15:return u=e.sent,e.next=18,hv(u);case 18:return s=e.sent,e.abrupt("return",dv(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=sv(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Xo(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,xv(e);case 2:t.onEvent(Dv());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Xo(Zo().mark((function n(r){var i,a;return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,xv(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=_v(i,r.url)),t.onEvent(a||Dv());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");sv().handleOpenURL=function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(KL){console.error(KL)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Av=Nv;function Dv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bc("no-auth-event")}}function Ov(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Pv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return!("file:"!==Ov()&&"ionic:"!==Ov()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rv(){return pu()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Lv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return/Edge\/\d+/.test(e)}function Mv(){try{var e=self.localStorage,t=$h();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cu();return Rv()||Lv(e)}()||vu()}catch(KL){return jv()&&vu()}return!1}function jv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Fv(){return("http:"===Ov()||"https:"===Ov()||hu()||Pv())&&!(du()||fu())&&Mv()&&!jv()}function Vv(){return Pv()&&"undefined"!==typeof document}function Uv(){return Bv.apply(this,arguments)}function Bv(){return(Bv=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qv={LOCAL:"local",NONE:"none",SESSION:"session"},zv=_c,Kv="persistence";function Wv(e,t){zv(Object.values(qv).includes(t),e,"invalid-persistence-type"),du()?zv(t!==qv.SESSION,e,"unsupported-persistence-type"):fu()?zv(t===qv.NONE,e,"unsupported-persistence-type"):jv()?zv(t===qv.NONE||t===qv.LOCAL&&vu(),e,"unsupported-persistence-type"):zv(t===qv.NONE||Mv(),e,"unsupported-persistence-type")}function Gv(e){return Hv.apply(this,arguments)}function Hv(){return(Hv=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Qv(),r=bl(Kv,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qv(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(KL){return null}}var Yv=_c,$v=function(){function e(){Bt(this,e),this.browserResolver=Cc(tv),this.cordovaResolver=Cc(Av),this.underlyingResolver=null,this._redirectPersistence=Hh,this._completeRedirectFn=wp,this._overrideRedirectResult=lp}return zt(e,[{key:"_initialize",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Xo(Zo().mark((function e(t,n,r,i){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Xo(Zo().mark((function e(t,n,r,i){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Vv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Yv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Uv();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xv(e){return e.unwrap()}function Jv(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new rm(e,function(e,t){var n,r=Nu(e),i=t;return _c(t.customData.operationType,r,"argument-error"),_c(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Fh._fromError(r,i)}(e,t));else if(r){var i=Zv(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Zv(e){var t=(e instanceof mu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof mu)&&"temporaryProof"in t&&"phoneNumber"in t)return zd.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ac)return null;switch(r){case ic:n=Nf;break;case nc:n=Cf;break;case rc:n=Af;break;case oc:n=Pf;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Df._create(r,u):vf._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Tf(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof mu?n.credentialFromError(e):n.credentialFromResult(e)}function em(e,t){return t.catch((function(t){throw t instanceof mu&&Jv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Zv(t)),additionalUserInfo:Mh(e),user:im.getOrCreate(r)}}))}function tm(e,t){return nm.apply(this,arguments)}function nm(){return(nm=Xo(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return em(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rm=function(){function e(t,n){Bt(this,e),this.resolver=n,this.auth=t.wrapped()}return zt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return em(Xv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),im=function(){function e(t){Bt(this,e),this._delegate=t,this.multiFactor=function(e){var t=Nu(e);return Bh.has(t)||Bh.set(t,Uh._fromUser(t)),Bh.get(t)}(t)}return zt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",em(this.auth,eh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tm(this.auth,jd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",em(this.auth,tp(this._delegate,t,$v)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gv(jl(this.auth));case 2:return e.abrupt("return",yp(this._delegate,t,$v));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",em(this.auth,nh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return tm(this.auth,function(e,t,n){return Vd.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return em(this.auth,function(e,t,n){return ep.apply(this,arguments)}(this._delegate,e,$v))}},{key:"reauthenticateWithRedirect",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gv(jl(this.auth));case 2:return e.abrupt("return",vp(this._delegate,t,$v));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Eh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ch(Nu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ch(Nu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return qd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Th.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return _h.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();im.USER_MAP=new WeakMap;var am=_c,om=function(){function e(t,n){if(Bt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;am(r,"invalid-api-key",{appName:t.name}),am(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?$v:void 0;this._delegate=n.initialize({options:{persistence:sm(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(pc),this.linkUnderlyingAuth()}return zt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?im.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Vl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return hh.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return dh(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return fh.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",em(this._delegate,mh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return xh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ef.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return am(Fv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,kp(this._delegate,$v);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",em(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){jl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=um(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=um(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return gh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return lh.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Wv(this._delegate,t),e.t0=t,e.next=e.t0===qv.SESSION?4:e.t0===qv.LOCAL?6:e.t0===qv.NONE?11:13;break;case 4:return n=Hh,e.abrupt("break",14);case 6:return e.next=8,Cc(md)._isAvailable();case 8:return r=e.sent,n=r?md:Wh,e.abrupt("break",14);case 11:return n=kl,e.abrupt("break",14);case 13:return e.abrupt("return",kc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return em(this._delegate,function(e){return Ff.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return em(this._delegate,Jf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return em(this._delegate,function(e,t){return oh.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return em(this._delegate,function(e,t,n){return Jf(Nu(e),_f.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return em(this._delegate,function(e,t,n){return kh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return tm(this._delegate,function(e,t,n){return Md.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return am(Fv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",em(this._delegate,Jd(this._delegate,t,$v)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return am(Fv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Gv(this._delegate);case 3:return e.abrupt("return",dp(this._delegate,t,$v));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return vh.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function um(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&im.getOrCreate(e))},error:t,complete:n}}function sm(e,t){var n=function(e,t){var n=Qv();if(!n)return[];var r=bl(Kv,e,t);switch(n.getItem(r)){case qv.NONE:return[kl];case qv.LOCAL:return[md,Hh];case qv.SESSION:return[Hh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(md)||n.push(md),"undefined"!==typeof window)for(var r=0,i=[Wh,Hh];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(kl)||n.push(kl),n}om.Persistence=qv;var cm=function(){function e(){Bt(this,e),this.providerId="phone",this._delegate=new zd(Xv(Zs.auth()))}return zt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return zd.credential(e,t)}}]),e}();cm.PHONE_SIGN_IN_METHOD=zd.PHONE_SIGN_IN_METHOD,cm.PROVIDER_ID=zd.PROVIDER_ID;var lm,fm=_c,hm=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zs.app();Bt(this,e),fm(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Pd(t,n,i.auth()),this.type=this._delegate.type}return zt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(lm=Zs).INTERNAL.registerComponent(new Au("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new om(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:uc,PASSWORD_RESET:sc,RECOVER_EMAIL:cc,REVERT_SECOND_FACTOR_ADDITION:lc,VERIFY_AND_CHANGE_EMAIL:fc,VERIFY_EMAIL:hc}},EmailAuthProvider:_f,FacebookAuthProvider:Cf,GithubAuthProvider:Af,GoogleAuthProvider:Nf,OAuthProvider:Tf,SAMLAuthProvider:Of,PhoneAuthProvider:cm,PhoneMultiFactorGenerator:rv,RecaptchaVerifier:hm,TwitterAuthProvider:Pf,Auth:om,AuthCredential:ql,Error:mu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),lm.registerVersion("@firebase/auth-compat","0.2.14");var dm,pm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},vm={},mm=mm||{},ym=pm||self;function gm(){}function km(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wm="closure_uid_"+(1e9*Math.random()>>>0),xm=0;function Em(e,t,n){return e.call.apply(e.bind,arguments)}function _m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Im(e,t,n){return(Im=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Em:_m).apply(null,arguments)}function Sm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Tm(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Cm(){this.s=this.s,this.o=this.o}var Nm={};Cm.prototype.s=!1,Cm.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,wm)&&e[wm]||(e[wm]=++xm)}(this);delete Nm[e]}},Cm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Am=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Dm=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Om(e){return Array.prototype.concat.apply([],arguments)}function Pm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Rm(e){return/^[\s\xa0]*$/.test(e)}var Lm,Mm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function jm(e,t){return-1!=e.indexOf(t)}function Fm(e,t){return e<t?-1:e>t?1:0}e:{var Vm=ym.navigator;if(Vm){var Um=Vm.userAgent;if(Um){Lm=Um;break e}}Lm=""}function Bm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function qm(e){var t={};for(var n in e)t[n]=e[n];return t}var zm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Km(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<zm.length;a++)n=zm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Wm(e){return Wm[" "](e),e}Wm[" "]=gm;var Gm,Hm=jm(Lm,"Opera"),Qm=jm(Lm,"Trident")||jm(Lm,"MSIE"),Ym=jm(Lm,"Edge"),$m=Ym||Qm,Xm=jm(Lm,"Gecko")&&!(jm(Lm.toLowerCase(),"webkit")&&!jm(Lm,"Edge"))&&!(jm(Lm,"Trident")||jm(Lm,"MSIE"))&&!jm(Lm,"Edge"),Jm=jm(Lm.toLowerCase(),"webkit")&&!jm(Lm,"Edge");function Zm(){var e=ym.document;return e?e.documentMode:void 0}e:{var ey="",ty=function(){var e=Lm;return Xm?/rv:([^\);]+)(\)|;)/.exec(e):Ym?/Edge\/([\d\.]+)/.exec(e):Qm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Jm?/WebKit\/(\S+)/.exec(e):Hm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ty&&(ey=ty?ty[1]:""),Qm){var ny=Zm();if(null!=ny&&ny>parseFloat(ey)){Gm=String(ny);break e}}Gm=ey}var ry,iy={};function ay(){return function(e){var t=iy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Mm(String(Gm)).split("."),n=Mm("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Fm(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Fm(0==a[2].length,0==o[2].length)||Fm(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ym.document&&Qm){var oy=Zm();ry=oy||(parseInt(Gm,10)||void 0)}else ry=void 0;var uy=ry,sy=function(){if(!ym.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ym.addEventListener("test",gm,t),ym.removeEventListener("test",gm,t)}catch(n){}return e}();function cy(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ly(e,t){if(cy.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xm){e:{try{Wm(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:fy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ly.Z.h.call(this)}}cy.prototype.h=function(){this.defaultPrevented=!0},Tm(ly,cy);var fy={2:"touch",3:"pen",4:"mouse"};ly.prototype.h=function(){ly.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hy="closure_listenable_"+(1e6*Math.random()|0),dy=0;function py(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++dy,this.ca=this.fa=!1}function vy(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function my(e){this.src=e,this.g={},this.h=0}function yy(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Am(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(vy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}my.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=gy(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new py(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ky="closure_lm_"+(1e6*Math.random()|0),by={};function wy(e,t,n,r,i){if(r&&r.once)return Ey(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)wy(e,t[a],n,r,i);return null}return n=Ay(n),e&&e[hy]?e.N(t,n,bm(r)?!!r.capture:!!r,i):xy(e,t,n,!1,r,i)}function xy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bm(i)?!!i.capture:!!i,u=Cy(e);if(u||(e[ky]=u=new my(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ty;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sy||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Sy(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ey(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ey(e,t[a],n,r,i);return null}return n=Ay(n),e&&e[hy]?e.O(t,n,bm(r)?!!r.capture:!!r,i):xy(e,t,n,!0,r,i)}function _y(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_y(e,t[a],n,r,i);else r=bm(r)?!!r.capture:!!r,n=Ay(n),e&&e[hy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gy(a=e.g[t],n,r,i))&&(vy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Cy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gy(t,n,r,i)),(n=-1<e?t[e]:null)&&Iy(n))}function Iy(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[hy])yy(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Sy(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cy(t))?(yy(n,e),0==n.h&&(n.src=null,t[ky]=null)):vy(e)}}}function Sy(e){return e in by?by[e]:by[e]="on"+e}function Ty(e,t){if(e.ca)e=!0;else{t=new ly(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Iy(e),e=n.call(r,t)}return e}function Cy(e){return(e=e[ky])instanceof my?e:null}var Ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ay(e){return"function"===typeof e?e:(e[Ny]||(e[Ny]=function(t){return e.handleEvent(t)}),e[Ny])}function Dy(){Cm.call(this),this.i=new my(this),this.P=this,this.I=null}function Oy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new cy(t,e);else if(t instanceof cy)t.target=t.target||e;else{var i=t;Km(t=new cy(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Py(o,r,!0,t)&&i}if(i=Py(o=t.g=e,r,!0,t)&&i,i=Py(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Py(o=t.g=n[a],r,!1,t)&&i}function Py(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&yy(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Tm(Dy,Cm),Dy.prototype[hy]=!0,Dy.prototype.removeEventListener=function(e,t,n,r){_y(this,e,t,n,r)},Dy.prototype.M=function(){if(Dy.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vy(n[r]);delete t.g[e],t.h--}}this.I=null},Dy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Dy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ry=ym.JSON.stringify;function Ly(){var e=zy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var My,jy=function(){function e(){Bt(this,e),this.h=this.g=null}return zt(e,[{key:"add",value:function(e,t){var n=Fy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Fy=new(function(){function e(t,n){Bt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return zt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Vy}),(function(e){return e.reset()})),Vy=function(){function e(){Bt(this,e),this.next=this.g=this.h=null}return zt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Uy(e){ym.setTimeout((function(){throw e}),0)}function By(e,t){My||function(){var e=ym.Promise.resolve(void 0);My=function(){e.then(Ky)}}(),qy||(My(),qy=!0),zy.add(e,t)}var qy=!1,zy=new jy;function Ky(){for(var e;e=Ly();){try{e.h.call(e.g)}catch(n){Uy(n)}var t=Fy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qy=!1}function Wy(e,t){Dy.call(this),this.h=e||1,this.g=t||ym,this.j=Im(this.kb,this),this.l=Date.now()}function Gy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Hy(e,t,n){if("function"===typeof e)n&&(e=Im(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Im(e.handleEvent,e)}return 2147483647<Number(t)?-1:ym.setTimeout(e,t||0)}function Qy(e){e.g=Hy((function(){e.g=null,e.i&&(e.i=!1,Qy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Tm(Wy,Dy),(dm=Wy.prototype).da=!1,dm.S=null,dm.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oy(this,"tick"),this.da&&(Gy(this),this.start()))}},dm.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dm.M=function(){Wy.Z.M.call(this),Gy(this),delete this.g};var Yy=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return zt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Qy(this)}},{key:"M",value:function(){Dn(Nn(n.prototype),"M",this).call(this),this.g&&(ym.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Cm);function $y(e){Cm.call(this),this.h=e,this.g={}}Tm($y,Cm);var Xy=[];function Jy(e,t,n,r){Array.isArray(n)||(n&&(Xy[0]=n.toString()),n=Xy);for(var i=0;i<n.length;i++){var a=wy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Zy(e){Bm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Iy(e)}),e),e.g={}}function eg(){this.g=!0}function tg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ry(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}$y.prototype.M=function(){$y.Z.M.call(this),Zy(this)},$y.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eg.prototype.Aa=function(){this.g=!1},eg.prototype.info=function(){};var ng={},rg=null;function ig(){return rg=rg||new Dy}function ag(e){cy.call(this,ng.Ma,e)}function og(e){var t=ig();Oy(t,new ag(t,e))}function ug(e,t){cy.call(this,ng.STAT_EVENT,e),this.stat=t}function sg(e){var t=ig();Oy(t,new ug(t,e))}function cg(e,t){cy.call(this,ng.Na,e),this.size=t}function lg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ym.setTimeout((function(){e()}),t)}ng.Ma="serverreachability",Tm(ag,cy),ng.STAT_EVENT="statevent",Tm(ug,cy),ng.Na="timingevent",Tm(cg,cy);var fg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dg(){}function pg(e){return e.h||(e.h=e.i())}function vg(){}dg.prototype.h=null;var mg,yg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gg(){cy.call(this,"d")}function kg(){cy.call(this,"c")}function bg(){}function wg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new $y(this),this.P=Eg,e=$m?125:void 0,this.W=new Wy(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xg}function xg(){this.i=null,this.g="",this.h=!1}Tm(gg,cy),Tm(kg,cy),Tm(bg,dg),bg.prototype.g=function(){return new XMLHttpRequest},bg.prototype.i=function(){return{}},mg=new bg;var Eg=45e3,_g={},Ig={};function Sg(e,t,n){e.K=1,e.v=Yg(zg(t)),e.s=n,e.U=!0,Tg(e,null)}function Tg(e,t){e.F=Date.now(),Dg(e),e.A=zg(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),sk(n.h,"t",r),e.C=0,n=e.l.H,e.h=new xg,e.g=lb(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Yy(Im(e.Ia,e,e.g),e.O)),Jy(e.V,e.g,"readystatechange",e.gb),t=e.H?qm(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),og(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Cg(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ng(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ag(e,n))==Ig){4==t&&(e.o=4,sg(14),i=!1),tg(e.j,e.m,null,"[Incomplete Response]");break}if(r==_g){e.o=4,sg(15),tg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}tg(e.j,e.m,r,null),Mg(e,r)}Cg(e)&&r!=Ig&&r!=_g&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,sg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nb(t),t.L=!0,sg(11))):(tg(e.j,e.m,n,"[Invalid Chunked Response]"),Lg(e),Rg(e))}function Ag(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ig:(n=Number(t.substring(n,r)),isNaN(n)?_g:(r+=1)+n>t.length?Ig:(t=t.substr(r,n),e.C=r+n,t))}function Dg(e){e.Y=Date.now()+e.P,Og(e,e.P)}function Og(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=lg(Im(e.eb,e),t)}function Pg(e){e.B&&(ym.clearTimeout(e.B),e.B=null)}function Rg(e){0==e.l.G||e.I||ab(e.l,e)}function Lg(e){Pg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Gy(e.W),Zy(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||mk(n.i,e)))if(n.I=e.N,!e.J&&mk(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ib(n),Hk(n)}tb(n),sg(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=lg(Im(n.ab,n),6e3));if(1>=vk(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ub(n,11)}else if((e.J||n.g==e)&&ib(n),!Rm(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(jm(l,"spdy")||jm(l,"quic")||jm(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(yk(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Qg(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=cb(r,r.H?r.la:null,r.W),d.J){gk(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Pg(p),Dg(p)),r.g=d}else eb(r);0<n.l.length&&$k(n)}else"stop"!=a[0]&&"close"!=a[0]||ub(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ub(n,7):Gk(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}og(4)}catch(a){}}function jg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(km(e)||"string"===typeof e)Dm(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(km(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(km(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Fg(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Fg)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Vg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ug(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ug(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ug(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(dm=wg.prototype).setTimeout=function(e){this.P=e},dm.gb=function(e){e=e.target;var t=this.L;t&&3==Bk(e)?t.l():this.Ia(e)},dm.Ia=function(e){try{if(e==this.g)e:{var t=Bk(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||$m||this.g&&(this.h.h||this.g.ga()||qk(this.g)))){this.I||4!=t||7==n||og(8==n||0>=r?3:2),Pg(this);var i=this.g.ba();this.N=i;t:if(Cg(this)){var a=qk(this.g);e="";var o=a.length,u=4==Bk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Lg(this),Rg(this);var s="";break t}this.h.i=new ym.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rm(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,sg(12),Lg(this),Rg(this);break e}tg(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mg(this,i)}this.U?(Ng(this,t,s),$m&&this.i&&3==t&&(Jy(this.V,this.W,"tick",this.fb),this.W.start())):(tg(this.j,this.m,s,null),Mg(this,s)),4==t&&Lg(this),this.i&&!this.I&&(4==t?ab(this.l,this):(this.i=!1,Dg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,sg(12)):(this.o=0,sg(13)),Lg(this),Rg(this)}}}catch(t){}},dm.fb=function(){if(this.g){var e=Bk(this.g),t=this.g.ga();this.C<t.length&&(Pg(this),Ng(this,e,t),this.i&&4!=e&&Dg(this))}},dm.cancel=function(){this.I=!0,Lg(this)},dm.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(og(3),sg(17)),Lg(this),this.o=2,Rg(this)):Og(this,this.Y-e)},(dm=Fg.prototype).R=function(){Vg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},dm.T=function(){return Vg(this),this.g.concat()},dm.get=function(e,t){return Ug(this.h,e)?this.h[e]:t},dm.set=function(e,t){Ug(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},dm.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Bg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qg(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof qg){this.g=void 0!==t?t:e.g,Kg(this,e.j),this.s=e.s,Wg(this,e.i),Gg(this,e.m),this.l=e.l,t=e.h;var n=new ik;n.i=t.i,t.g&&(n.g=new Fg(t.g),n.h=t.h),Hg(this,n),this.o=e.o}else e&&(n=String(e).match(Bg))?(this.g=!!t,Kg(this,n[1]||"",!0),this.s=$g(n[2]||""),Wg(this,n[3]||"",!0),Gg(this,n[4]),this.l=$g(n[5]||"",!0),Hg(this,n[6]||"",!0),this.o=$g(n[7]||"")):(this.g=!!t,this.h=new ik(null,this.g))}function zg(e){return new qg(e)}function Kg(e,t,n){e.j=n?$g(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wg(e,t,n){e.i=n?$g(t,!0):t}function Gg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hg(e,t,n){t instanceof ik?(e.h=t,function(e,t){t&&!e.j&&(ak(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ok(this,t),sk(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Xg(t,nk)),e.h=new ik(t,e.g))}function Qg(e,t,n){e.h.set(t,n)}function Yg(e){return Qg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $g(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}qg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xg(t,Zg,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Xg(t,Zg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xg(n,"/"==n.charAt(0)?tk:ek,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xg(n,rk)),e.join("")};var Zg=/[#\/\?@]/g,ek=/[#\?:]/g,tk=/[#\?]/g,nk=/[#\?@]/g,rk=/#/g;function ik(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ak(e){e.g||(e.g=new Fg,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ok(e,t){ak(e),t=ck(e,t),Ug(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ug((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Vg(e)))}function uk(e,t){return ak(e),t=ck(e,t),Ug(e.g.h,t)}function sk(e,t,n){ok(e,t),0<n.length&&(e.i=null,e.g.set(ck(e,t),Pm(n)),e.h+=n.length)}function ck(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(dm=ik.prototype).add=function(e,t){ak(this),this.i=null,e=ck(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},dm.forEach=function(e,t){ak(this),this.g.forEach((function(n,r){Dm(n,(function(n){e.call(t,n,r,this)}),this)}),this)},dm.T=function(){ak(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},dm.R=function(e){ak(this);var t=[];if("string"===typeof e)uk(this,e)&&(t=Om(t,this.g.get(ck(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Om(t,e[n])}return t},dm.set=function(e,t){return ak(this),this.i=null,uk(this,e=ck(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},dm.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},dm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var lk=zt((function e(t,n){Bt(this,e),this.h=t,this.g=n}));function fk(e){this.l=e||dk,ym.PerformanceNavigationTiming?e=0<(e=ym.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ym.g&&ym.g.Ea&&ym.g.Ea()&&ym.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hk,dk=10;function pk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vk(e){return e.h?1:e.g?e.g.size:0}function mk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function yk(e,t){e.g?e.g.add(t):e.h=t}function gk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function kk(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Mr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Pm(e.i)}function bk(){}function wk(){this.g=new bk}function xk(e,t,n){var r=n||"";try{jg(e,(function(e,n){var i=e;bm(e)&&(i=Ry(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(KL){throw t.push(r+"type="+encodeURIComponent("_badmap")),KL}}function Ek(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function _k(e){this.l=e.$b||null,this.j=e.ib||!1}function Ik(e,t){Dy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fk.prototype.cancel=function(){if(this.i=kk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Mr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},bk.prototype.stringify=function(e){return ym.JSON.stringify(e,void 0)},bk.prototype.parse=function(e){return ym.JSON.parse(e,void 0)},Tm(_k,dg),_k.prototype.g=function(){return new Ik(this.l,this.j)},_k.prototype.i=(hk={},function(){return hk}),Tm(Ik,Dy);var Sk=0;function Tk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ck(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Nk(e)}function Nk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(dm=Ik.prototype).open=function(e,t){if(this.readyState!=Sk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Nk(this)},dm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ym).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},dm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ck(this)),this.readyState=Sk},dm.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nk(this)),this.g&&(this.readyState=3,Nk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ym.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},dm.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ck(this):Nk(this),3==this.readyState&&Tk(this)}},dm.Ua=function(e){this.g&&(this.response=this.responseText=e,Ck(this))},dm.Ta=function(e){this.g&&(this.response=e,Ck(this))},dm.ha=function(){this.g&&Ck(this)},dm.setRequestHeader=function(e,t){this.v.append(e,t)},dm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},dm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ik.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ak=ym.JSON.parse;function Dk(e){Dy.call(this),this.headers=new Fg,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ok,this.K=this.L=!1}Tm(Dk,Dy);var Ok="",Pk=/^https?$/i,Rk=["POST","PUT"];function Lk(e){return"content-type"==e.toLowerCase()}function Mk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jk(e),Vk(e)}function jk(e){e.D||(e.D=!0,Oy(e,"complete"),Oy(e,"error"))}function Fk(e){if(e.h&&"undefined"!=typeof mm&&(!e.C[1]||4!=Bk(e)||2!=e.ba()))if(e.v&&4==Bk(e))Hy(e.Fa,0,e);else if(Oy(e,"readystatechange"),4==Bk(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Bg)[1]||null;if(!a&&ym.self&&ym.self.location){var o=ym.self.location.protocol;a=o.substr(0,o.length-1)}i=!Pk.test(a?a.toLowerCase():"")}t=i}if(t)Oy(e,"complete"),Oy(e,"success");else{e.m=6;try{var u=2<Bk(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",jk(e)}}finally{Vk(e)}}}function Vk(e,t){if(e.g){Uk(e);var n=e.g,r=e.C[0]?gm:null;e.g=null,e.C=null,t||Oy(e,"ready");try{n.onreadystatechange=r}catch(KL){}}}function Uk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ym.clearTimeout(e.A),e.A=null)}function Bk(e){return e.g?e.g.readyState:0}function qk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ok:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function zk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Bm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Qg(e,t,n))}function Kk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wk(e){this.za=0,this.l=[],this.h=new eg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kk("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kk("baseRetryDelayMs",5e3,e),this.$a=Kk("retryDelaySeedMs",1e4,e),this.Ya=Kk("forwardChannelMaxRetries",2,e),this.ra=Kk("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new fk(e&&e.concurrentRequestLimit),this.Ca=new wk,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Gk(e){if(Qk(e),3==e.G){var t=e.V++,n=zg(e.F);Qg(n,"SID",e.J),Qg(n,"RID",t),Qg(n,"TYPE","terminate"),Jk(e,n),(t=new wg(e,e.h,t,void 0)).K=2,t.v=Yg(zg(n)),n=!1,ym.navigator&&ym.navigator.sendBeacon&&(n=ym.navigator.sendBeacon(t.v.toString(),"")),!n&&ym.Image&&((new Image).src=t.v,n=!0),n||(t.g=lb(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Dg(t)}sb(e)}function Hk(e){e.g&&(nb(e),e.g.cancel(),e.g=null)}function Qk(e){Hk(e),e.u&&(ym.clearTimeout(e.u),e.u=null),ib(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ym.clearTimeout(e.m),e.m=null)}function Yk(e,t){e.l.push(new lk(e.Za++,t)),3==e.G&&$k(e)}function $k(e){pk(e.i)||e.m||(e.m=!0,By(e.Ha,e),e.C=0)}function Xk(e,t){var n;n=t?t.m:e.V++;var r=zg(e.F);Qg(r,"SID",e.J),Qg(r,"RID",n),Qg(r,"AID",e.U),Jk(e,r),e.o&&e.s&&zk(r,e.o,e.s),n=new wg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Zk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),yk(e.i,n),Sg(n,r,t)}function Jk(e,t){e.j&&jg({},(function(e,n){Qg(t,n,e)}))}function Zk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Im(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{xk(l,o,"req"+c+"_")}catch(Fb){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function eb(e){e.g||e.u||(e.Y=1,By(e.Ga,e),e.A=0)}function tb(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=lg(Im(e.Ga,e),ob(e,e.A)),e.A++,!0)}function nb(e){null!=e.B&&(ym.clearTimeout(e.B),e.B=null)}function rb(e){e.g=new wg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=zg(e.oa);Qg(t,"RID","rpc"),Qg(t,"SID",e.J),Qg(t,"CI",e.N?"0":"1"),Qg(t,"AID",e.U),Jk(e,t),Qg(t,"TYPE","xmlhttp"),e.o&&e.s&&zk(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Yg(zg(t)),n.s=null,n.U=!0,Tg(n,e)}function ib(e){null!=e.v&&(ym.clearTimeout(e.v),e.v=null)}function ab(e,t){var n=null;if(e.g==t){ib(e),nb(e),e.g=null;var r=2}else{if(!mk(e.i,t))return;n=t.D,gk(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Oy(r=ig(),new cg(r,n,t,i)),$k(e)}else eb(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(vk(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=lg(Im(e.Ha,e,t),ob(e,e.C)),e.C++,!0))}(e,t)||2==r&&tb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ub(e,5);break;case 4:ub(e,10);break;case 3:ub(e,6);break;default:ub(e,2)}}function ob(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ub(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Im(e.jb,e);n||(n=new qg("//www.google.com/images/cleardot.gif"),ym.location&&"http"==ym.location.protocol||Kg(n,"https"),Yg(n)),function(e,t){var n=new eg;if(ym.Image){var r=new Image;r.onload=Sm(Ek,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Sm(Ek,n,r,"TestLoadImage: error",!1,t),r.onabort=Sm(Ek,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Sm(Ek,n,r,"TestLoadImage: timeout",!1,t),ym.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sg(2);e.G=0,e.j&&e.j.va(t),sb(e),Qk(e)}function sb(e){e.G=0,e.I=-1,e.j&&(0==kk(e.i).length&&0==e.l.length||(e.i.i.length=0,Pm(e.l),e.l.length=0),e.j.ua())}function cb(e,t,n){var r=function(e){return e instanceof qg?zg(e):new qg(e,void 0)}(n);if(""!=r.i)t&&Wg(r,t+"."+r.i),Gg(r,r.m);else{var i=ym.location;r=function(e,t,n,r){var i=new qg(null,void 0);return e&&Kg(i,e),t&&Wg(i,t),n&&Gg(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Bm(e.aa,(function(e,t){Qg(r,t,e)})),t=e.D,n=e.sa,t&&n&&Qg(r,t,n),Qg(r,"VER",e.ma),Jk(e,r),r}function lb(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Dk(new _k({ib:!0})):new Dk(e.qa)).L=e.H,t}function fb(){}function hb(){if(Qm&&!(10<=Number(uy)))throw Error("Environmental error: no available transport.")}function db(e,t){Dy.call(this),this.g=new Wk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Rm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rm(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new mb(this)}function pb(e){gg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vb(){kg.call(this),this.status=1}function mb(e){this.g=e}(dm=Dk.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mg.g(),this.C=this.u?pg(this.u):pg(mg),this.g.onreadystatechange=Im(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Mk(this,a)}e=n||"";var i=new Fg(this.headers);r&&jg(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Lk,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ym.FormData&&e instanceof ym.FormData,!(0<=Am(Rk,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uk(this),0<this.B&&((this.K=function(e){return Qm&&ay()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Im(this.pa,this)):this.A=Hy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Mk(this,a)}},dm.pa=function(){"undefined"!=typeof mm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oy(this,"timeout"),this.abort(8))},dm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oy(this,"complete"),Oy(this,"abort"),Vk(this))},dm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vk(this,!0)),Dk.Z.M.call(this)},dm.Fa=function(){this.s||(this.F||this.v||this.l?Fk(this):this.cb())},dm.cb=function(){Fk(this)},dm.ba=function(){try{return 2<Bk(this)?this.g.status:-1}catch(hk){return-1}},dm.ga=function(){try{return this.g?this.g.responseText:""}catch(hk){return""}},dm.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ak(t)}},dm.Da=function(){return this.m},dm.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(dm=Wk.prototype).ma=8,dm.G=1,dm.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},dm.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new wg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Km(n=qm(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Zk(this,t,r),Qg(i=zg(this.F),"RID",e),Qg(i,"CVER",22),this.D&&Qg(i,"X-HTTP-Session-Id",this.D),Jk(this,i),this.o&&n&&zk(i,this.o,n),yk(this.i,t),this.Ra&&Qg(i,"TYPE","init"),this.ja?(Qg(i,"$req",r),Qg(i,"SID","null"),t.$=!0,Sg(t,i,null)):Sg(t,i,r),this.G=2}}else 3==this.G&&(e?Xk(this,e):0==this.l.length||pk(this.i)||Xk(this))},dm.Ga=function(){if(this.u=null,rb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=lg(Im(this.bb,this),e)}},dm.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sg(10),Hk(this),rb(this))},dm.ab=function(){null!=this.v&&(this.v=null,Hk(this),tb(this),sg(19))},dm.jb=function(e){e?(this.h.info("Successfully pinged google.com"),sg(2)):(this.h.info("Failed to ping google.com"),sg(1))},(dm=fb.prototype).xa=function(){},dm.wa=function(){},dm.va=function(){},dm.ua=function(){},dm.Oa=function(){},hb.prototype.g=function(e,t){return new db(e,t)},Tm(db,Dy),db.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),By(Im(e.hb,e,t))),sg(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=cb(e,null,e.W),$k(e)},db.prototype.close=function(){Gk(this.g)},db.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Yk(this.g,t)}else this.v?((t={}).__data__=Ry(e),Yk(this.g,t)):Yk(this.g,e)},db.prototype.M=function(){this.g.j=null,delete this.j,Gk(this.g),delete this.g,db.Z.M.call(this)},Tm(pb,gg),Tm(vb,kg),Tm(mb,fb),mb.prototype.xa=function(){Oy(this.g,"a")},mb.prototype.wa=function(e){Oy(this.g,new pb(e))},mb.prototype.va=function(e){Oy(this.g,new vb(e))},mb.prototype.ua=function(){Oy(this.g,"b")},hb.prototype.createWebChannel=hb.prototype.g,db.prototype.send=db.prototype.u,db.prototype.open=db.prototype.m,db.prototype.close=db.prototype.close,fg.NO_ERROR=0,fg.TIMEOUT=8,fg.HTTP_ERROR=6,hg.COMPLETE="complete",vg.EventType=yg,yg.OPEN="a",yg.CLOSE="b",yg.ERROR="c",yg.MESSAGE="d",Dy.prototype.listen=Dy.prototype.N,Dk.prototype.listenOnce=Dk.prototype.O,Dk.prototype.getLastError=Dk.prototype.La,Dk.prototype.getLastErrorCode=Dk.prototype.Da,Dk.prototype.getStatus=Dk.prototype.ba,Dk.prototype.getResponseJson=Dk.prototype.Qa,Dk.prototype.getResponseText=Dk.prototype.ga,Dk.prototype.send=Dk.prototype.ea;var yb=vm.createWebChannelTransport=function(){return new hb},gb=vm.getStatEventTarget=function(){return ig()},kb=vm.ErrorCode=fg,bb=vm.EventType=hg,wb=vm.Event=ng,xb=vm.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Eb=vm.FetchXmlHttpFactory=_k,_b=vm.WebChannel=vg,Ib=vm.XhrIo=Dk,Sb="@firebase/firestore",Tb=function(){function e(t){Bt(this,e),this.uid=t}return zt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Tb.UNAUTHENTICATED=new Tb(null),Tb.GOOGLE_CREDENTIALS=new Tb("google-credentials-uid"),Tb.FIRST_PARTY=new Tb("first-party-uid"),Tb.MOCK_USER=new Tb("mock-user");var Cb="9.8.0",Nb=new Bu("@firebase/firestore");function Ab(){return Nb.logLevel}function Db(e){if(Nb.logLevel<=Ru.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rb);Nb.debug.apply(Nb,["Firestore (".concat(Cb,"): ").concat(e)].concat(Ut(i)))}}function Ob(e){if(Nb.logLevel<=Ru.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rb);Nb.error.apply(Nb,["Firestore (".concat(Cb,"): ").concat(e)].concat(Ut(i)))}}function Pb(e){if(Nb.logLevel<=Ru.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rb);Nb.warn.apply(Nb,["Firestore (".concat(Cb,"): ").concat(e)].concat(Ut(i)))}}function Rb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Lb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Cb,") INTERNAL ASSERTION FAILED: ")+e;throw Ob(t),new Error(t)}function Mb(e,t){e||Lb()}function jb(e,t){return e}var Fb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vb=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return zt(n)}(mu),Ub=zt((function e(){var t=this;Bt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Bb=zt((function e(t,n){Bt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),qb=function(){function e(){Bt(this,e)}return zt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tb.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),zb=function(){function e(t){Bt(this,e),this.token=t,this.changeListener=null}return zt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Kb=function(){function e(t){Bt(this,e),this.t=t,this.currentUser=Tb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return zt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ub;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ub,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Db("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Db("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ub)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Db("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Mb("string"==typeof n.accessToken),new Bb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Mb(null===e||"string"==typeof e),new Tb(e)}}]),e}(),Wb=zt((function e(t,n,r){Bt(this,e),this.type="FirstParty",this.user=Tb.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Gb=function(){function e(t,n,r){Bt(this,e),this.h=t,this.l=n,this.m=r}return zt(e,[{key:"getToken",value:function(){return Promise.resolve(new Wb(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tb.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Hb=zt((function e(t){Bt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Qb=function(){function e(t){Bt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return zt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Db("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Db("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Db("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Db("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Mb("string"==typeof t.token),e.p=t.token,new Hb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Yb=function(){function e(t,n){var r=this;Bt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return zt(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function $b(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Yb.A=-1;var Xb=function(){function e(){Bt(this,e)}return zt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=$b(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Jb(e,t){return e<t?-1:e>t?1:0}function Zb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ew(e){return e+"\0"}var tw=function(){function e(t,n){if(Bt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Vb(Fb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Vb(Fb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Vb(Fb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vb(Fb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return zt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Jb(this.nanoseconds,e.nanoseconds):Jb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),nw=function(){function e(t){Bt(this,e),this.timestamp=t}return zt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new tw(0,0))}},{key:"max",value:function(){return new e(new tw(253402300799,999999999))}}]),e}();function rw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function iw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function aw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ow=function(){function e(t,n,r){Bt(this,e),void 0===n?n=0:n>t.length&&Lb(),void 0===r?r=t.length-n:r>t.length-n&&Lb(),this.segments=t,this.offset=n,this.len=r}return zt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),uw=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.apply(this,arguments)}return zt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Ut(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ow),sw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cw=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.apply(this,arguments)}return zt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return sw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Vb(Fb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Vb(Fb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Vb(Fb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ow),lw=function(){function e(t){Bt(this,e),this.fields=t,t.sort(cw.comparator)}return zt(e,[{key:"covers",value:function(e){var t,n=Mr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Zb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var fw=function(e){function t(e){Bt(this,t),this.binaryString=e}return zt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Jb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();fw.EMPTY_BYTE_STRING=new fw("");var hw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dw(e){if(Mb(!!e),"string"==typeof e){var t=0,n=hw.exec(e);if(Mb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pw(e.seconds),nanos:pw(e.nanos)}}function pw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vw(e){return"string"==typeof e?fw.fromBase64String(e):fw.fromUint8Array(e)}function mw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yw(e){var t=e.mapValue.fields.__previous_value__;return mw(t)?yw(t):t}function gw(e){var t=dw(e.mapValue.fields.__local_write_time__.timestampValue);return new tw(t.seconds,t.nanos)}var kw=zt((function e(t,n,r,i,a,o,u,s){Bt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),bw=function(){function e(t,n){Bt(this,e),this.projectId=t,this.database=n||"(default)"}return zt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ww(e){return null==e}function xw(e){return 0===e&&1/e==-1/0}function Ew(e){return"number"==typeof e&&Number.isInteger(e)&&!xw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _w=function(){function e(t){Bt(this,e),this.path=t}return zt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===uw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(uw.fromString(t))}},{key:"fromName",value:function(t){return new e(uw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(uw.emptyPath())}},{key:"comparator",value:function(e,t){return uw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new uw(t.slice()))}}]),e}(),Iw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sw={nullValue:"NULL_VALUE"};function Tw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mw(e)?4:Bw(e)?9007199254740991:10:Lb()}function Cw(e,t){if(e===t)return!0;var n=Tw(e);if(n!==Tw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gw(e).isEqual(gw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=dw(e.timestampValue),r=dw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vw(e.bytesValue).isEqual(vw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pw(e.geoPointValue.latitude)===pw(t.geoPointValue.latitude)&&pw(e.geoPointValue.longitude)===pw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pw(e.integerValue)===pw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pw(e.doubleValue),r=pw(t.doubleValue);return n===r?xw(n)===xw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zb(e.arrayValue.values||[],t.arrayValue.values||[],Cw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rw(n)!==rw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cw(n[i],r[i])))return!1;return!0}(e,t);default:return Lb()}}function Nw(e,t){return void 0!==(e.values||[]).find((function(e){return Cw(e,t)}))}function Aw(e,t){if(e===t)return 0;var n=Tw(e),r=Tw(t);if(n!==r)return Jb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pw(e.integerValue||e.doubleValue),r=pw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Dw(e.timestampValue,t.timestampValue);case 4:return Dw(gw(e),gw(t));case 5:return Jb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vw(e),r=vw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Jb(n[i],r[i]);if(0!==a)return a}return Jb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Jb(pw(e.latitude),pw(t.latitude));return 0!==n?n:Jb(pw(e.longitude),pw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Aw(n[i],r[i]);if(a)return a}return Jb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Iw.mapValue&&t===Iw.mapValue)return 0;if(e===Iw.mapValue)return 1;if(t===Iw.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Jb(r[o],a[o]);if(0!==u)return u;var s=Aw(n[r[o]],i[a[o]]);if(0!==s)return s}return Jb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Lb()}}function Dw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jb(e,t);var n=dw(e),r=dw(t),i=Jb(n.seconds,r.seconds);return 0!==i?i:Jb(n.nanos,r.nanos)}function Ow(e){return Pw(e)}function Pw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=dw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_w.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Mr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Pw(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Mr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Pw(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Lb();var t,n}function Rw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Lw(e){return!!e&&"integerValue"in e}function Mw(e){return!!e&&"arrayValue"in e}function jw(e){return!!e&&"nullValue"in e}function Fw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vw(e){return!!e&&"mapValue"in e}function Uw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return iw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Uw(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Uw(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Bw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function qw(e){return"nullValue"in e?Sw:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Rw(bw.empty(),_w.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Lb()}function zw(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Rw(bw.empty(),_w.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Iw:Lb()}function Kw(e,t){var n=Aw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ww(e,t){var n=Aw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Gw=function(){function e(t){Bt(this,e),this.value=t}return zt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Vw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uw(t)}},{key:"setAll",value:function(e){var t=this,n=cw.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Uw(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Vw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Cw(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Vw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){iw(t,(function(t,n){return e[t]=n}));var r,i=Mr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Uw(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Hw(e){var t=[];return iw(e.fields,(function(e,n){var r=new cw([e]);if(Vw(n)){var i=Hw(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Mr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new lw(t)}var Qw=function(){function e(t,n,r,i,a,o){Bt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return zt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Gw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Gw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,nw.min(),nw.min(),Gw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,nw.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,nw.min(),Gw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,nw.min(),Gw.empty(),2)}}]),e}(),Yw=zt((function e(t,n,r,i){Bt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function $w(e){return e.fields.find((function(e){return 2===e.kind}))}function Xw(e){return e.fields.filter((function(e){return 2!==e.kind}))}Yw.UNKNOWN_ID=-1;var Jw=zt((function e(t,n){Bt(this,e),this.fieldPath=t,this.kind=n})),Zw=function(){function e(t,n){Bt(this,e),this.sequenceNumber=t,this.offset=n}return zt(e,null,[{key:"empty",value:function(){return new e(0,nx.min())}}]),e}();function ex(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=nw.fromTimestamp(1e9===r?new tw(n+1,0):new tw(n,r));return new nx(i,_w.empty(),t)}function tx(e){return new nx(e.readTime,e.key,-1)}var nx=function(){function e(t,n,r){Bt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return zt(e,null,[{key:"min",value:function(){return new e(nw.min(),_w.empty(),-1)}},{key:"max",value:function(){return new e(nw.max(),_w.empty(),-1)}}]),e}();function rx(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=_w.comparator(e.documentKey,t.documentKey))?n:Jb(e.largestBatchId,t.largestBatchId)}var ix=function(){function e(t,n){Bt(this,e),this.comparator=t,this.root=n||ox.EMPTY}return zt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ox.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ox.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ax(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ax(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ax(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ax(this.root,e,this.comparator,!0)}}]),e}(),ax=function(){function e(t,n,r,i){Bt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return zt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ox=function(){function e(t,n,r,i,a){Bt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return zt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Lb();if(this.right.isRed())throw Lb();var e=this.left.check();if(e!==this.right.check())throw Lb();return e+(this.isRed()?0:1)}}]),e}();ox.EMPTY=null,ox.RED=!0,ox.BLACK=!1,ox.EMPTY=new(function(){function e(){Bt(this,e),this.size=0}return zt(e,[{key:"key",get:function(){throw Lb()}},{key:"value",get:function(){throw Lb()}},{key:"color",get:function(){throw Lb()}},{key:"left",get:function(){throw Lb()}},{key:"right",get:function(){throw Lb()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ox(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ux=function(){function e(t){Bt(this,e),this.comparator=t,this.data=new ix(this.comparator)}return zt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new sx(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new sx(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),sx=function(){function e(t){Bt(this,e),this.iter=t}return zt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function cx(e){return e.hasNext()?e.getNext():void 0}var lx=zt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Bt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function fx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new lx(e,t,n,r,i,a,o)}function hx(e){var t=jb(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ow(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ww(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ow(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ow(e)})).join(",")),t.P=n}return t.P}function dx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Nx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Cw(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Dx(e.startAt,t.startAt)&&Dx(e.endAt,t.endAt)}function px(e){return _w.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function vx(e,t){return e.filters.filter((function(e){return e instanceof gx&&e.field.isEqual(t)}))}function mx(e,t,n){var r,i=Sw,a=!0,o=Mr(vx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Sw,c=!0;switch(u.op){case"<":case"<=":s=qw(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Sw}Kw({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Kw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function yx(e,t,n){var r,i=Iw,a=!0,o=Mr(vx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Iw,c=!0;switch(u.op){case">=":case">":s=zw(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Iw}Ww({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ww({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var gx=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return zt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Aw(t,this.value)):null!==t&&Tw(this.value)===Tw(t)&&this.v(Aw(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lb()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new kx(e,t,r):"array-contains"===t?new Ex(e,r):"in"===t?new _x(e,r):"not-in"===t?new Ix(e,r):"array-contains-any"===t?new Sx(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new bx(e,n):new wx(e,n)}}]),n}(function(){return zt((function e(){Bt(this,e)}))}()),kx=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this,e,r,i)).key=_w.fromName(i.referenceValue),a}return zt(n,[{key:"matches",value:function(e){var t=_w.comparator(e.key,this.key);return this.v(t)}}]),n}(gx),bx=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,e,"in",r)).keys=xx("in",r),i}return zt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gx),wx=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,e,"not-in",r)).keys=xx("not-in",r),i}return zt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gx);function xx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _w.fromName(e.referenceValue)}))}var Ex=function(e){On(n,e);var t=jn(n);function n(e,r){return Bt(this,n),t.call(this,e,"array-contains",r)}return zt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Mw(t)&&Nw(t.arrayValue,this.value)}}]),n}(gx),_x=function(e){On(n,e);var t=jn(n);function n(e,r){return Bt(this,n),t.call(this,e,"in",r)}return zt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Nw(this.value.arrayValue,t)}}]),n}(gx),Ix=function(e){On(n,e);var t=jn(n);function n(e,r){return Bt(this,n),t.call(this,e,"not-in",r)}return zt(n,[{key:"matches",value:function(e){if(Nw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Nw(this.value.arrayValue,t)}}]),n}(gx),Sx=function(e){On(n,e);var t=jn(n);function n(e,r){return Bt(this,n),t.call(this,e,"array-contains-any",r)}return zt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Mw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Nw(t.value.arrayValue,e)}))}}]),n}(gx),Tx=zt((function e(t,n){Bt(this,e),this.position=t,this.inclusive=n})),Cx=zt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Bt(this,e),this.field=t,this.dir=n}));function Nx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ax(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_w.comparator(_w.fromName(o.referenceValue),n.key):Aw(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Dx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Cw(e.position[n],t.position[n]))return!1;return!0}var Ox=zt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Bt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Px(e,t,n,r,i,a,o,u){return new Ox(e,t,n,r,i,a,o,u)}function Rx(e){return new Ox(e)}function Lx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Mx(e){var t,n=Mr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function jx(e){return null!==e.collectionGroup}function Fx(e){var t=jb(e);if(null===t.D){t.D=[];var n=Mx(t),r=Lx(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Cx(n)),t.D.push(new Cx(cw.keyField(),"asc"));else{var i,a=!1,o=Mr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Cx(cw.keyField(),s))}}}return t.D}function Vx(e){var t=jb(e);if(!t.C)if("F"===t.limitType)t.C=fx(t.path,t.collectionGroup,Fx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Mr(Fx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Cx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Tx(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Tx(t.startAt.position,t.startAt.inclusive):null;t.C=fx(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Ux(e,t,n){return new Ox(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bx(e,t){return dx(Vx(e),Vx(t))&&e.limitType===t.limitType}function qx(e){return"".concat(hx(Vx(e)),"|lt:").concat(e.limitType)}function zx(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ow(t.value));var t})).join(", "),"]")),ww(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ow(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ow(e)})).join(",")),"Target(".concat(t,")")}(Vx(e)),"; limitType=").concat(e.limitType,")")}function Kx(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_w.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Mr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Mr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ax(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fx(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ax(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fx(e),t))}(e,t)}function Wx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Gx(e){return function(t,n){var r,i=!1,a=Mr(Fx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Hx(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Hx(e,t,n){var r=e.field.isKeyField()?_w.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Aw(r,i):Lb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Lb()}}function Qx(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xw(t)?"-0":t}}function Yx(e){return{integerValue:""+e}}function $x(e,t){return Ew(t)?Yx(t):Qx(e,t)}var Xx=zt((function e(){Bt(this,e),this._=void 0}));function Jx(e,t,n){return e instanceof tE?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nE?rE(e,t):e instanceof iE?aE(e,t):function(e,t){var n=eE(e,t),r=uE(n)+uE(e.k);return Lw(n)&&Lw(e.k)?Yx(r):Qx(e.M,r)}(e,t)}function Zx(e,t,n){return e instanceof nE?rE(e,t):e instanceof iE?aE(e,t):n}function eE(e,t){return e instanceof oE?Lw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var tE=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.apply(this,arguments)}return zt(n)}(Xx),nE=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this)).elements=e,r}return zt(n)}(Xx);function rE(e,t){var n,r=sE(t),i=Mr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Cw(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var iE=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this)).elements=e,r}return zt(n)}(Xx);function aE(e,t){var n,r=sE(t),i=Mr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Cw(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var oE=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this)).M=e,i.k=r,i}return zt(n)}(Xx);function uE(e){return pw(e.integerValue||e.doubleValue)}function sE(e){return Mw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var cE=zt((function e(t,n){Bt(this,e),this.field=t,this.transform=n}));var lE=zt((function e(t,n){Bt(this,e),this.version=t,this.transformResults=n})),fE=function(){function e(t,n){Bt(this,e),this.updateTime=t,this.exists=n}return zt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function hE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var dE=zt((function e(){Bt(this,e)}));function pE(e,t,n){e instanceof kE?function(e,t,n){var r=e.value.clone(),i=xE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bE?function(e,t,n){if(hE(e.precondition,t)){var r=xE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vE(e,t,n){e instanceof kE?function(e,t,n){if(hE(e.precondition,t)){var r=e.value.clone(),i=EE(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(gE(t),r).setHasLocalMutations()}}(e,t,n):e instanceof bE?function(e,t,n){if(hE(e.precondition,t)){var r=EE(e.fieldTransforms,n,t),i=t.data;i.setAll(wE(e)),i.setAll(r),t.convertToFoundDocument(gE(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){hE(e.precondition,t)&&t.convertToNoDocument(nw.min())}(e,t)}function mE(e,t){var n,r=null,i=Mr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=eE(a.transform,o||null);null!=u&&(null==r&&(r=Gw.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function yE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zb(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nE&&t instanceof nE||e instanceof iE&&t instanceof iE?Zb(e.elements,t.elements,Cw):e instanceof oE&&t instanceof oE?Cw(e.k,t.k):e instanceof tE&&t instanceof tE}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function gE(e){return e.isFoundDocument()?e.version:nw.min()}var kE=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Bt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return zt(n)}(dE),bE=function(e){On(n,e);var t=jn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Bt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return zt(n)}(dE);function wE(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function xE(e,t,n){var r=new Map;Mb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Zx(o,u,n[i]))}return r}function EE(e,t,n){var r,i=new Map,a=Mr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Jx(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var _E,IE,SE=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return zt(n)}(dE),TE=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return zt(n)}(dE),CE=zt((function e(t){Bt(this,e),this.count=t}));function NE(e){switch(e){default:return Lb();case Fb.CANCELLED:case Fb.UNKNOWN:case Fb.DEADLINE_EXCEEDED:case Fb.RESOURCE_EXHAUSTED:case Fb.INTERNAL:case Fb.UNAVAILABLE:case Fb.UNAUTHENTICATED:return!1;case Fb.INVALID_ARGUMENT:case Fb.NOT_FOUND:case Fb.ALREADY_EXISTS:case Fb.PERMISSION_DENIED:case Fb.FAILED_PRECONDITION:case Fb.ABORTED:case Fb.OUT_OF_RANGE:case Fb.UNIMPLEMENTED:case Fb.DATA_LOSS:return!0}}function AE(e){if(void 0===e)return Ob("GRPC error has no .code"),Fb.UNKNOWN;switch(e){case _E.OK:return Fb.OK;case _E.CANCELLED:return Fb.CANCELLED;case _E.UNKNOWN:return Fb.UNKNOWN;case _E.DEADLINE_EXCEEDED:return Fb.DEADLINE_EXCEEDED;case _E.RESOURCE_EXHAUSTED:return Fb.RESOURCE_EXHAUSTED;case _E.INTERNAL:return Fb.INTERNAL;case _E.UNAVAILABLE:return Fb.UNAVAILABLE;case _E.UNAUTHENTICATED:return Fb.UNAUTHENTICATED;case _E.INVALID_ARGUMENT:return Fb.INVALID_ARGUMENT;case _E.NOT_FOUND:return Fb.NOT_FOUND;case _E.ALREADY_EXISTS:return Fb.ALREADY_EXISTS;case _E.PERMISSION_DENIED:return Fb.PERMISSION_DENIED;case _E.FAILED_PRECONDITION:return Fb.FAILED_PRECONDITION;case _E.ABORTED:return Fb.ABORTED;case _E.OUT_OF_RANGE:return Fb.OUT_OF_RANGE;case _E.UNIMPLEMENTED:return Fb.UNIMPLEMENTED;case _E.DATA_LOSS:return Fb.DATA_LOSS;default:return Lb()}}(IE=_E||(_E={}))[IE.OK=0]="OK",IE[IE.CANCELLED=1]="CANCELLED",IE[IE.UNKNOWN=2]="UNKNOWN",IE[IE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",IE[IE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",IE[IE.NOT_FOUND=5]="NOT_FOUND",IE[IE.ALREADY_EXISTS=6]="ALREADY_EXISTS",IE[IE.PERMISSION_DENIED=7]="PERMISSION_DENIED",IE[IE.UNAUTHENTICATED=16]="UNAUTHENTICATED",IE[IE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",IE[IE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",IE[IE.ABORTED=10]="ABORTED",IE[IE.OUT_OF_RANGE=11]="OUT_OF_RANGE",IE[IE.UNIMPLEMENTED=12]="UNIMPLEMENTED",IE[IE.INTERNAL=13]="INTERNAL",IE[IE.UNAVAILABLE=14]="UNAVAILABLE",IE[IE.DATA_LOSS=15]="DATA_LOSS";var DE=function(){function e(t,n){Bt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return zt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Mr(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){iw(this.inner,(function(t,n){var r,i=Mr(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return aw(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),OE=new ix(_w.comparator);function PE(){return OE}var RE=new ix(_w.comparator);function LE(){for(var e=RE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function ME(){return new DE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var jE=new ix(_w.comparator),FE=new ux(_w.comparator);function VE(){for(var e=FE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var UE=new ux(Jb);function BE(){return UE}var qE=function(){function e(t,n,r,i,a){Bt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return zt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,zE.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(nw.min(),r,BE(),PE(),VE())}}]),e}(),zE=function(){function e(t,n,r,i,a){Bt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return zt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(fw.EMPTY_BYTE_STRING,n,VE(),VE(),VE())}}]),e}(),KE=zt((function e(t,n,r,i){Bt(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),WE=zt((function e(t,n){Bt(this,e),this.targetId=t,this.$=n})),GE=zt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fw.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Bt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),HE=function(){function e(){Bt(this,e),this.B=0,this.L=$E(),this.U=fw.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return zt(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=VE(),t=VE(),n=VE();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Lb()}})),new zE(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=$E()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),QE=function(){function e(t){Bt(this,e),this.nt=t,this.st=new Map,this.it=PE(),this.rt=YE(),this.ot=new ux(Jb)}return zt(e,[{key:"ut",value:function(e){var t,n=Mr(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Mr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Lb()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(px(i))if(0===n){var a=new _w(i.path);this.ct(t,a,Qw.newNoDocument(a,nw.min()))}else Mb(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&px(a.target)){var o=new _w(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Qw.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=VE();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new qE(e,n,this.ot,this.it,r);return this.it=PE(),this.rt=YE(),this.ot=new ux(Jb),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new HE,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new ux(Jb),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Db("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new HE),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function YE(){return new ix(_w.comparator)}function $E(){return new ix(_w.comparator)}var XE={asc:"ASCENDING",desc:"DESCENDING"},JE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZE=zt((function e(t,n){Bt(this,e),this.databaseId=t,this.N=n}));function e_(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function t_(e,t){return e.N?t.toBase64():t.toUint8Array()}function n_(e,t){return e_(e,t.toTimestamp())}function r_(e){return Mb(!!e),nw.fromTimestamp(function(e){var t=dw(e);return new tw(t.seconds,t.nanos)}(e))}function i_(e,t){return function(e){return new uw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function a_(e){var t=uw.fromString(e);return Mb(C_(t)),t}function o_(e,t){return i_(e.databaseId,t.path)}function u_(e,t){var n=a_(t);if(n.get(1)!==e.databaseId.projectId)throw new Vb(Fb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vb(Fb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _w(f_(n))}function s_(e,t){return i_(e.databaseId,t)}function c_(e){var t=a_(e);return 4===t.length?uw.emptyPath():f_(t)}function l_(e){return new uw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function f_(e){return Mb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function h_(e,t,n){return{name:o_(e,t),fields:n.value.mapValue.fields}}function d_(e,t,n){var r=u_(e,t.name),i=r_(t.updateTime),a=new Gw({mapValue:{fields:t.fields}}),o=Qw.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function p_(e,t){return"found"in t?function(e,t){Mb(!!t.found),t.found.name,t.found.updateTime;var n=u_(e,t.found.name),r=r_(t.found.updateTime),i=new Gw({mapValue:{fields:t.found.fields}});return Qw.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Mb(!!t.missing),Mb(!!t.readTime);var n=u_(e,t.missing),r=r_(t.readTime);return Qw.newNoDocument(n,r)}(e,t):Lb()}function v_(e,t){var n;if(t instanceof kE)n={update:h_(e,t.key,t.value)};else if(t instanceof SE)n={delete:o_(e,t.key)};else if(t instanceof bE)n={update:h_(e,t.key,t.data),updateMask:T_(t.fieldMask)};else{if(!(t instanceof TE))return Lb();n={verify:o_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof tE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof iE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof oE)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Lb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:n_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Lb()}(e,t.precondition)),n}function m_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?fE.updateTime(r_(e.updateTime)):void 0!==e.exists?fE.exists(e.exists):fE.none()}(t.currentDocument):fE.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Mb("REQUEST_TIME"===t.setToServerValue),n=new tE;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new nE(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new iE(i)}else"increment"in t?n=new oE(e,t.increment):Lb();var a=cw.fromServerFormat(t.fieldPath);return new cE(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=u_(e,t.update.name),a=new Gw({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new lw(t.map((function(e){return cw.fromServerFormat(e)})))}(t.updateMask);return new bE(i,a,o,n,r)}return new kE(i,a,n,r)}if(t.delete){var u=u_(e,t.delete);return new SE(u,n)}if(t.verify){var s=u_(e,t.verify);return new TE(s,n)}return Lb()}function y_(e,t){return{documents:[s_(e,t.path)]}}function g_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=s_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=s_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Fw(e.value))return{unaryFilter:{field:E_(e.field),op:"IS_NAN"}};if(jw(e.value))return{unaryFilter:{field:E_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fw(e.value))return{unaryFilter:{field:E_(e.field),op:"IS_NOT_NAN"}};if(jw(e.value))return{unaryFilter:{field:E_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:E_(e.field),op:x_(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:E_(e.field),direction:w_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||ww(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function k_(e){var t=c_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=b_(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Cx(__(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ww(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Tx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Tx(n,t)}(n.endAt)),Px(t,i,u,o,s,"F",c,l)}function b_(e){return e?void 0!==e.unaryFilter?[S_(e)]:void 0!==e.fieldFilter?[I_(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return b_(e)})).reduce((function(e,t){return e.concat(t)})):Lb():[]}function w_(e){return XE[e]}function x_(e){return JE[e]}function E_(e){return{fieldPath:e.canonicalString()}}function __(e){return cw.fromServerFormat(e.fieldPath)}function I_(e){return gx.create(__(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lb()}}(e.fieldFilter.op),e.fieldFilter.value)}function S_(e){switch(e.unaryFilter.op){case"IS_NAN":var t=__(e.unaryFilter.field);return gx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=__(e.unaryFilter.field);return gx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=__(e.unaryFilter.field);return gx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=__(e.unaryFilter.field);return gx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Lb()}}function T_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function C_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function N_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=D_(t)),t=A_(e.get(n),t);return D_(t)}function A_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function D_(e){return e+"\x01\x01"}function O_(e){var t=e.length;if(Mb(t>=2),2===t)return Mb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),uw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Lb(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Lb()}a=o+2}return new uw(r)}var P_=["userId","batchId"];function R_(e,t){return[e,N_(t)]}function L_(e,t,n){return[e,N_(t),n]}var M_={},j_=["prefixPath","collectionGroup","readTime","documentId"],F_=["prefixPath","collectionGroup","documentId"],V_=["collectionGroup","readTime","prefixPath","documentId"],U_=["canonicalId","targetId"],B_=["targetId","path"],q_=["path","targetId"],z_=["collectionId","parent"],K_=["indexId","uid"],W_=["uid","sequenceNumber"],G_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],H_=["indexId","uid","orderedDocumentKey"],Q_=["userId","collectionPath","documentId"],Y_=["userId","collectionPath","largestBatchId"],$_=["userId","collectionGroup","largestBatchId"],X_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),J_=[].concat(Ut(X_),["documentOverlays"]),Z_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eI=[].concat(Z_,["indexConfiguration","indexState","indexEntries"]),tI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nI=function(){function e(){Bt(this,e),this.onCommittedListeners=[]}return zt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),rI=function(){function e(t){var n=this;Bt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return zt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Lb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Mr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),iI=function(){function e(t,n){var r=this;Bt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Ub,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new uI(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=hI(e.target.error);r.At.reject(new uI(t,n))}}return zt(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Db("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new cI(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new uI(n,t)}}}]),e}(),aI=function(){function e(t,n,r){Bt(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(cu())&&Ob("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return zt(e,[{key:"Nt",value:function(){var e=Xo(Zo().mark((function e(t){var n=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Db("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new uI(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Vb(Fb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Vb(Fb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new uI(t,n))},i.onupgradeneeded=function(e){Db("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Db("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Xo(Zo().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Zo().mark((function e(){var n,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=iI.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),rI.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Db("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Db("SimpleDb","Removing database:",e),lI(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!vu())return!1;if(e.St())return!0;var t=cu(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),oI=function(){function e(t){Bt(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return zt(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return lI(this.Ft.delete())}}]),e}(),uI=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,Fb.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return zt(n)}(Vb);function sI(e){return"IndexedDbTransactionError"===e.name}var cI=function(){function e(t){Bt(this,e),this.store=t}return zt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Db("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Db("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),lI(n)}},{key:"add",value:function(e){return Db("SimpleDb","ADD",this.store.name,e,e),lI(this.store.add(e))}},{key:"get",value:function(e){var t=this;return lI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Db("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Db("SimpleDb","DELETE",this.store.name,e),lI(this.store.delete(e))}},{key:"count",value:function(){return Db("SimpleDb","COUNT",this.store.name),lI(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new rI((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new rI((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Db("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new rI((function(n,r){t.onerror=function(e){var t=hI(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new rI((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new oI(i),o=t(i.primaryKey,i.value,a);if(o instanceof rI){var u=o.catch((function(e){return a.done(),rI.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return rI.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function lI(e){return new rI((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=hI(e.target.error);n(t)}}))}var fI=!1;function hI(e){var t=aI.Vt(cu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Vb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return fI||(fI=!0,setTimeout((function(){throw r}),0)),r}}return e}var dI=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return zt(n)}(nI);function pI(e,t){var n=jb(e);return aI.xt(n.Ht,t)}var vI=function(){function e(t,n,r,i){Bt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return zt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&pE(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Mr(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&vE(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Mr(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&vE(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(nw.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),VE())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Zb(this.mutations,e.mutations,(function(e,t){return yE(e,t)}))&&Zb(this.baseMutations,e.baseMutations,(function(e,t){return yE(e,t)}))}}]),e}(),mI=function(){function e(t,n,r,i){Bt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return zt(e,null,[{key:"from",value:function(t,n,r){Mb(t.mutations.length===r.length);for(var i=jE,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yI=function(){function e(t,n){Bt(this,e),this.largestBatchId=t,this.mutation=n}return zt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),gI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fw.EMPTY_BYTE_STRING;Bt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return zt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),kI=zt((function e(t){Bt(this,e),this.Jt=t}));function bI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:wI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:o_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:e_(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xI(t.version)};else{if(!t.isUnknownDocument())return Lb();r.unknownDocument={path:n.path.toArray(),version:xI(t.version)}}return r}function wI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function EI(e){var t=new tw(e.seconds,e.nanoseconds);return nw.fromTimestamp(t)}function _I(e,t){for(var n=(t.baseMutations||[]).map((function(t){return m_(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return m_(e.Jt,t)})),u=tw.fromMillis(t.localWriteTimeMs);return new vI(t.batchId,u,n,o)}function II(e){var t,n,r=EI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?EI(e.lastLimboFreeSnapshotVersion):nw.min();return void 0!==e.query.documents?(Mb(1===(n=e.query).documents.length),t=Vx(Rx(c_(n.documents[0])))):t=function(e){return Vx(k_(e))}(e.query),new gI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,fw.fromBase64String(e.resumeToken))}function SI(e,t){var n,r=xI(t.snapshotVersion),i=xI(t.lastLimboFreeSnapshotVersion);n=px(t.target)?y_(e.Jt,t.target):g_(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hx(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function TI(e){var t=k_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ux(t,t.limit,"L"):t}function CI(e,t){return new yI(t.largestBatchId,m_(e.Jt,t.overlayMutation))}function NI(e,t){var n=t.path.lastSegment();return[e,N_(t.path.popLast()),n]}var AI=function(){function e(){Bt(this,e)}return zt(e,[{key:"getBundleMetadata",value:function(e,t){return DI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:EI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return DI(e).put({bundleId:(n=t).id,createTime:xI(r_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return OI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:TI(t.bundledQuery),readTime:EI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return OI(e).put(function(e){return{name:e.name,readTime:xI(r_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function DI(e){return pI(e,"bundles")}function OI(e){return pI(e,"namedQueries")}var PI=function(){function e(t,n){Bt(this,e),this.M=t,this.userId=n}return zt(e,[{key:"getOverlay",value:function(e,t){var n=this;return RI(e).get(NI(this.userId,t)).next((function(e){return e?CI(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new yI(t,a);i.push(r.Xt(e,o))})),rI.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(N_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(RI(e).Qt("collectionPathOverlayIndex",i))})),rI.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=ME(),a=N_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return RI(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Mr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=CI(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=ME(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return RI(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=CI(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return RI(e).put(function(e,t,n){var r=c(NI(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:v_(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function RI(e){return pI(e,"documentOverlays")}var LI=function(){function e(){Bt(this,e)}return zt(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(pw(e.integerValue));else if("doubleValue"in e){var n=pw(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),xw(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(vw(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Bw(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Lb()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Mr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),_w.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function MI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function jI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=MI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}LI.fe=new LI;var FI=function(){function e(){Bt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return zt(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Mr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Mr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=jI(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=jI(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),VI=function(){function e(t){Bt(this,e),this.De=t}return zt(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),UI=function(){function e(t){Bt(this,e),this.De=t}return zt(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),BI=function(){function e(){Bt(this,e),this.De=new FI,this.Ce=new VI(this.De),this.xe=new UI(this.De)}return zt(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),qI=function(){function e(t,n,r,i){Bt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return zt(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function zI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=KI(e.arrayValue,t.arrayValue))?n:0!==(n=KI(e.directionalValue,t.directionalValue))?n:_w.comparator(e.documentKey,t.documentKey)}function KI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var WI=function(){function e(t){Bt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Mr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return zt(e,[{key:"$e",value:function(e){var t=$w(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Xw(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Mr(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),GI=function(){function e(){Bt(this,e),this.qe=new HI}return zt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),rI.resolve()}},{key:"getCollectionParents",value:function(e,t){return rI.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return rI.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return rI.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return rI.resolve(null)}},{key:"getIndexType",value:function(e,t){return rI.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return rI.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return rI.resolve(null)}},{key:"getMinOffset",value:function(e,t){return rI.resolve(nx.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return rI.resolve()}},{key:"updateIndexEntries",value:function(e,t){return rI.resolve()}}]),e}(),HI=function(){function e(){Bt(this,e),this.index={}}return zt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ux(uw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ux(uw.comparator)).toArray()}}]),e}(),QI=new Uint8Array(0),YI=function(){function e(t,n){Bt(this,e),this.user=t,this.databaseId=n,this.Ke=new HI,this.Ge=new DE((function(e){return hx(e)}),(function(e,t){return dx(e,t)})),this.uid=t.uid||""}return zt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:N_(i)};return $I(e).put(a)}return rI.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ew(t),""],!1,!0);return $I(e).qt(r).next((function(e){var r,i=Mr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(O_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=JI(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=JI(e),r=ZI(e),i=XI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=XI(e),i=!0,a=new Map;return rI.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=VE(),o=[];return rI.forEach(a,(function(i,a){var u;Db("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(hx(t)));var s=function(e,t){var n=$w(t);if(void 0===n)return null;var r,i=Mr(vx(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Mr(Xw(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Mr(vx(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Mr(Xw(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?mx(e,o.fieldPath,e.startAt):yx(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Tx(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Mr(Xw(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?yx(e,o.fieldPath,e.endAt):mx(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Tx(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return rI.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=_w.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return rI.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):QI,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,Ut(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new qI(e,_w.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new qI(e,_w.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new WI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Mr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return rI.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new ux(cw.comparator),r=!1,i=Mr(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Mr(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new BI,i=Mr(Xw(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);LI.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new BI;return LI.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new BI;return LI.fe.Zt(Rw(this.databaseId,t),n.Ne(function(e){var t=Xw(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new BI);var i,a=0,o=Mr(Xw(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Mr(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Mw(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);LI.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=Ut(e),a=[],o=Mr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Mr(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new BI;f.seed(l.Se()),LI.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof gx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=JI(e),i=ZI(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return rI.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Zw(t.sequenceNumber,new nx(EI(t.readTime),new _w(O_(t.documentKey)),t.largestBatchId)):Zw.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Jw(cw.fromServerFormat(n),r)}));return new Yw(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Jb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=JI(e),a=ZI(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return rI.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:xI(r.readTime),documentKey:N_(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return rI.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?rI.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),rI.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?rI.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return XI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return XI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=XI(e),i=new ux(zI);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new qI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new ux(zI),r=this.Ze(t,e);if(null==r)return n;var i=$w(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Mw(a)){var o,u=Mr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new qI(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new qI(t.indexId,e.key,QI,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Db("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=cx(a),s=cx(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=cx(o)):l?(i(u),u=cx(a)):(u=cx(a),s=cx(o))}}(r,i,zI,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),rI.waitFor(o)}},{key:"rn",value:function(e){var t=1;return ZI(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return zI(e,t)})).filter((function(e,t,n){return!t||0!==zI(e,n[t-1])}));var r=[];r.push(e);var i,a=Mr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=zI(o,e),s=zI(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,QI,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,QI,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return rI.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||rx(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=nx.min()}))})).next((function(){return n}))}}]),e}();function $I(e){return pI(e,"collectionParents")}function XI(e){return pI(e,"indexEntries")}function JI(e){return pI(e,"indexConfiguration")}function ZI(e){return pI(e,"indexState")}var eS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tS=function(){function e(t,n,r){Bt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return zt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function nS(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Mb(1===u)})));var c,l=[],f=Mr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=L_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return rI.waitFor(a).next((function(){return l}))}function rS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Lb();t=e.noDocument}return JSON.stringify(t).length}tS.DEFAULT_COLLECTION_PERCENTILE=10,tS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tS.DEFAULT=new tS(41943040,tS.DEFAULT_COLLECTION_PERCENTILE,tS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tS.DISABLED=new tS(-1,0,0);var iS=function(){function e(t,n,r,i){Bt(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return zt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oS(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=uS(e),o=oS(e);return o.add({}).next((function(u){Mb("number"==typeof u);var s,c=new vI(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return v_(e.Jt,t)})),i=n.mutations.map((function(t){return v_(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new ux((function(e,t){return Jb(e.canonicalString(),t.canonicalString())})),d=Mr(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=L_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,M_))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),rI.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return oS(e).get(t).next((function(e){return e?(Mb(e.userId===n.userId),_I(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?rI.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return oS(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Mb(t.batchId>=r),a=_I(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return oS(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oS(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return _I(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=R_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return uS(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=O_(l);if(s===n.userId&&t.path.isEqual(h))return oS(e).get(f).next((function(e){if(!e)throw Lb();Mb(e.userId===n.userId),a.push(_I(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ux(Jb),i=[];return t.forEach((function(t){var a=R_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=uS(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=O_(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),rI.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=R_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new ux(Jb);return uS(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=O_(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(oS(e).get(t).next((function(e){if(null===e)throw Lb();Mb(e.userId===n.userId),r.push(_I(n.M,e))})))})),rI.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return nS(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),rI.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return rI.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return uS(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=O_(e[1]);i.push(a)}else r.done()})).next((function(){Mb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return aS(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return sS(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Mb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function aS(e,t,n){var r=R_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return uS(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function oS(e){return pI(e,"mutations")}function uS(e){return pI(e,"documentMutations")}function sS(e){return pI(e,"mutationQueues")}var cS=function(){function e(t){Bt(this,e),this.mn=t}return zt(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),lS=function(){function e(t,n){Bt(this,e),this.referenceDelegate=t,this.M=n}return zt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new cS(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return nw.fromTimestamp(new tw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return fS(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Mb(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return fS(e).Wt((function(o,u){var s=II(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return rI.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return fS(e).Wt((function(e,n){var r=II(n);t(r)}))}},{key:"pn",value:function(e){return hS(e).get("targetGlobalKey").next((function(e){return Mb(null!==e),e}))}},{key:"In",value:function(e,t){return hS(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return fS(e).put(SI(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=hx(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fS(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=II(n);dx(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=dS(e);return t.forEach((function(t){var o=N_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),rI.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=dS(e);return rI.forEach(t,(function(t){var a=N_(t.path);return rI.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=dS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dS(e),i=VE();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=O_(e[1]),a=new _w(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=N_(t.path),r=IDBKeyRange.bound([n],[ew(n)],!1,!0),i=0;return dS(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return fS(e).get(t).next((function(e){return e?II(e):null}))}}]),e}();function fS(e){return pI(e,"targets")}function hS(e){return pI(e,"targetGlobal")}function dS(e){return pI(e,"targetDocuments")}function pS(e){return vS.apply(this,arguments)}function vS(){return vS=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Fb.FAILED_PRECONDITION&&t.message===tI){e.next=2;break}throw t;case 2:Db("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function mS(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Jb(r,o);return 0===s?Jb(i,u):s}var yS=function(){function e(t){Bt(this,e),this.An=t,this.buffer=new ux(mS),this.Rn=0}return zt(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();mS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),gS=function(){function e(t,n){Bt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return zt(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Db("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Xo(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!sI(n.t0)){n.next=12;break}Db("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,pS(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),kS=function(){function e(t,n){Bt(this,e),this.Dn=t,this.params=n}return zt(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return rI.resolve(Yb.A);var r=new yS(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Db("LruGarbageCollector","Garbage collection skipped; disabled"),rI.resolve(eS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Db("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),eS):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Db("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Ab()<=Ru.DEBUG&&Db("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),rI.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),bS=function(){function e(t,n){Bt(this,e),this.db=t,this.garbageCollector=function(e,t){return new kS(e,t)}(this,n)}return zt(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return wS(e,n)}},{key:"removeReference",value:function(e,t,n){return wS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return wS(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return sS(e).zt((function(r){return aS(e,r,t).next((function(e){return e&&(n=!0),rI.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,nw.min()),dS(e).delete([0,N_(o.path)])}))}));i.push(s)}})).next((function(){return rI.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return wS(e,t)}},{key:"Mn",value:function(e,t){var n,r=dS(e),i=Yb.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Yb.A&&t(new _w(O_(n)),i),i=s,n=u):i=Yb.A})).next((function(){i!==Yb.A&&t(new _w(O_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function wS(e,t){return dS(e).put(function(e,t){return{targetId:0,path:N_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var xS=function(){function e(){Bt(this,e),this.changes=new DE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return zt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qw.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?rI.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ES=function(){function e(t){Bt(this,e),this.M=t}return zt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return SS(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return SS(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],wI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Qw.newInvalidDocument(t);return SS(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(TS(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Qw.newInvalidDocument(t)};return SS(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(TS(t))},(function(e,i){r={document:n.$n(t,i),size:rS(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=PE();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=PE(),i=new ix(_w.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,rS(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return rI.resolve();var r=new ux(NS);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(TS(r.first()),TS(r.last())),a=r.getIterator(),o=a.getNext();return SS(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=_w.fromSegments([].concat(Ut(t.prefixPath),[t.collectionGroup,t.documentId]));o&&NS(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(TS(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),wI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return SS(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=PE(),i=Mr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(_w.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=PE(),o=CS(t,n),u=CS(t,nx.max());return SS(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(_w.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new _S(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return IS(e).get("remoteDocumentGlobalKey").next((function(e){return Mb(!!e),e}))}},{key:"Fn",value:function(e,t){return IS(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=d_(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=_w.fromSegments(t.noDocument.path),i=EI(t.noDocument.readTime);n=Qw.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Lb();var a=_w.fromSegments(t.unknownDocument.path),o=EI(t.unknownDocument.version);n=Qw.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new tw(e[0],e[1]);return nw.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(nw.min()))return n}return Qw.newInvalidDocument(e)}}]),e}(),_S=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new DE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return zt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ux((function(e,t){return Jb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=bI(t.Kn.M,o);i=i.add(a.path.popLast());var c=rS(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=bI(t.Kn.M,o.convertToNoDocument(nw.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),rI.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(xS);function IS(e){return pI(e,"remoteDocumentGlobal")}function SS(e){return pI(e,"remoteDocumentsV14")}function TS(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function CS(e,t){var n=t.documentKey.path.toArray();return[e,wI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function NS(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Jb(n[a],r[a]))return i;return(i=Jb(n.length,r.length))||((i=Jb(n[n.length-2],r[r.length-2]))||Jb(n[n.length-1],r[r.length-1]))}var AS=function(){function e(t){Bt(this,e),this.M=t}return zt(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new iI("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",P_,{unique:!0}),e.createObjectStore("documentMutations")}(e),DS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=rI.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),DS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",P_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return rI.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Q_});t.createIndex("collectionPathOverlayIndex",Y_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",$_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:j_});t.createIndex("documentKeyIndex",F_),t.createIndex("collectionGroupIndex",V_)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:K_}).createIndex("sequenceNumberIndex",W_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:G_}).createIndex("documentKeyIndex",H_,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=rS(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return rI.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return rI.forEach(r,(function(r){Mb(r.userId===n.userId);var i=_I(t.M,r);return nS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new uw(n),o=function(e){return[0,N_(e)]}(a);r.push(t.get(o).next((function(n){return n?rI.resolve():function(n){return t.put({targetId:0,path:N_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return rI.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:z_});var n=t.store("collectionParents"),r=new HI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:N_(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new uw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],O_(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=II(r),a=SI(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new _w(uw.fromString(i.document.name).popFirst(5)):i.noDocument?_w.fromSegments(i.noDocument.path):i.unknownDocument?_w.fromSegments(i.unknownDocument.path):Lb()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return rI.waitFor(r)}))}}]),e}();function DS(e){e.createObjectStore("targetDocuments",{keyPath:B_}).createIndex("documentTargetsIndex",q_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",U_,{unique:!0}),e.createObjectStore("targetGlobal")}var OS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",PS=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Bt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Vb(Fb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bS(this,i),this.hs=n+"main",this.M=new kI(s),this.ls=new aI(this.hs,this.ts,new AS(this.M)),this.fs=new lS(this.referenceDelegate,this.M),this.ds=function(e){return new ES(e)}(this.M),this._s=new AI,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Ob("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return zt(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Vb(Fb.FAILED_PRECONDITION,OS);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Yb(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Xo(Zo().mark((function n(r){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Xo(Zo().mark((function t(n){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return LS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(sI(t))return Db("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Db("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return RS(e).get("owner").next((function(e){return rI.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return LS(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Xo(Zo().mark((function e(){var t,n,r,i,a=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=pI(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return rI.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=Mr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?rI.resolve(!0):RS(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new Vb(Fb.FAILED_PRECONDITION,OS);return!1}}return!(!t.networkEnabled||!t.inForeground)||LS(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Db("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Xo(Zo().mark((function e(){var t=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new dI(e,Yb.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return LS(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return iS.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new YI(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return PI.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Db("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?eI:13===i?Z_:12===i?J_:11===i?X_:void Lb();return this.ls.runTransaction(e,o,u,(function(i){return a=new dI(i,r.es?r.es.next():Yb.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Ob("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Vb(Fb.FAILED_PRECONDITION,tI);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return RS(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Vb(Fb.FAILED_PRECONDITION,OS)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return RS(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=RS(e);return n.get("owner").next((function(e){return t.Ps(e)?(Db("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):rI.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ob("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!fu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Db("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ob("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Tm){Ob("Failed to set zombie client id.",Tm)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Tm){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return aI.vt()}}]),e}();function RS(e){return pI(e,"owner")}function LS(e){return pI(e,"clientMetadata")}function MS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var jS=function(){function e(t,n,r){Bt(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return zt(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=Mr(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Mr(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return _w.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):jx(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new _w(t)).next((function(e){var t=LE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=LE();return this.indexManager.getCollectionParents(e,i).next((function(o){return rI.forEach(o,(function(o){var u=function(e,t){return new Ox(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Mr(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Mr(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Qw.newInvalidDocument(s),r=r.insert(s,c)),vE(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Kx(t,n)||(r=r.remove(e))})),r}))}}]),e}(),FS=function(){function e(t,n,r,i){Bt(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return zt(e,null,[{key:"Ys",value:function(t,n){var r,i=VE(),a=VE(),o=Mr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),VS=function(){function e(){Bt(this,e),this.Xs=!1}return zt(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return rI.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(nw.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Ab()<=Ru.DEBUG&&Db("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zx(t)),i.ri(e,o,t,ex(r,-1)))}))}},{key:"si",value:function(e,t){var n=new ux(Gx(e));return t.forEach((function(t,r){Kx(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Ab()<=Ru.DEBUG&&Db("QueryEngine","Using full collection scan to execute query:",zx(t)),this.Zs.Qs(e,t,nx.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),US=function(){function e(t,n,r,i){Bt(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new ix(Jb),this.ai=new DE((function(e){return hx(e)}),dx),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return zt(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new jS(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function BS(e,t,n,r){return new US(e,t,n,r)}function qS(e,t){return zS.apply(this,arguments)}function zS(){return zS=Xo(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=VE(),s=Mr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Mr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Mr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Mr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function KS(e,t){var n=jb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=rI.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Mb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function WS(e){var t=jb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function GS(e,t){var n=jb(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(fw.EMPTY_BYTE_STRING,nw.min()).withLastLimboFreeSnapshotVersion(nw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=PE();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(HS(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(nw.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return rI.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function HS(e,t,n){var r=VE();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=PE();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(nw.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Db("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function QS(e,t){var n=jb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function YS(e,t){var n=jb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,rI.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new gI(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function $S(e,t,n){return XS.apply(this,arguments)}function XS(){return XS=Xo(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jb(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),sI(e.t1)){e.next=12;break}throw e.t1;case 12:Db("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),XS.apply(this,arguments)}function JS(e,t,n){var r=jb(e),i=nw.min(),a=VE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=jb(e),i=r.ai.get(n);return void 0!==i?rI.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Vx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:nw.min(),n?a:VE())})).next((function(e){return tT(r,Wx(t),e),{documents:e,_i:a}}))}))}function ZS(e,t){var n=jb(e),r=jb(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function eT(e,t){var n=jb(e),r=n.ci.get(t)||nw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,ex(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return tT(n,t,e),e}))}function tT(e,t,n){var r=nw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function nT(e,t,n,r){return rT.apply(this,arguments)}function rT(){return rT=Xo(Zo().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=jb(t),o=VE(),u=PE(),s=Mr(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,YS(a,function(e){return Vx(Rx(uw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return HS(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return aT=Xo(Zo().mark((function e(t,n){var r,i,a,o=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:VE(),e.next=3,YS(t,Vx(TI(n.bundledQuery)));case 3:return i=e.sent,a=jb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=r_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(fw.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}var oT=function(){function e(t){Bt(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return zt(e,[{key:"getBundleMetadata",value:function(e,t){return rI.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:r_(n.createTime)}),rI.resolve()}},{key:"getNamedQuery",value:function(e,t){return rI.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:TI(e.bundledQuery),readTime:r_(e.readTime)}}(t)),rI.resolve()}}]),e}(),uT=function(){function e(){Bt(this,e),this.overlays=new ix(_w.comparator),this.Ii=new Map}return zt(e,[{key:"getOverlay",value:function(e,t){return rI.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),rI.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),rI.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=ME(),i=t.length+1,a=new _w(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return rI.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ix((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=ME(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=ME(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return rI.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new yI(t,n));var a=this.Ii.get(t);void 0===a&&(a=VE(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),sT=function(){function e(){Bt(this,e),this.Ti=new ux(cT.Ei),this.Ai=new ux(cT.Ri)}return zt(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new cT(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new cT(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new _w(new uw([])),r=new cT(n,e),i=new cT(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new _w(new uw([])),n=new cT(t,e),r=new cT(t,e+1),i=VE();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new cT(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),cT=function(){function e(t,n){Bt(this,e),this.key=t,this.Ci=n}return zt(e,null,[{key:"Ei",value:function(e,t){return _w.comparator(e.key,t.key)||Jb(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Jb(e.Ci,t.Ci)||_w.comparator(e.key,t.key)}}]),e}(),lT=function(){function e(t,n){Bt(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new ux(cT.Ei)}return zt(e,[{key:"checkEmpty",value:function(e){return rI.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new vI(i,t,n,r);this.Bs.push(a);var o,u=Mr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new cT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return rI.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return rI.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return rI.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return rI.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return rI.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new cT(t,0),i=new cT(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),rI.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ux(Jb);return t.forEach((function(e){var t=new cT(e,0),i=new cT(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),rI.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_w.isDocumentKey(i)||(i=i.child(""));var a=new cT(new _w(i),0),o=new ux(Jb);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),rI.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Mb(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return rI.forEach(t.mutations,(function(i){var a=new cT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new cT(t,0),r=this.Ni.firstAfterOrEqual(n);return rI.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,rI.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),fT=function(){function e(t){Bt(this,e),this.$i=t,this.docs=new ix(_w.comparator),this.size=0}return zt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return rI.resolve(n?n.document.mutableCopy():Qw.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=PE();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Qw.newInvalidDocument(e))})),rI.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=PE(),i=new _w(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||rx(tx(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return rI.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Lb()}},{key:"Bi",value:function(e,t){return rI.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new hT(this)}},{key:"getSize",value:function(e){return rI.resolve(this.size)}}]),e}(),hT=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this)).Kn=e,r}return zt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),rI.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(xS),dT=function(){function e(t){Bt(this,e),this.persistence=t,this.Li=new DE((function(e){return hx(e)}),dx),this.lastRemoteSnapshotVersion=nw.min(),this.highestTargetId=0,this.Ui=0,this.qi=new sT,this.targetCount=0,this.Ki=cS.gn()}return zt(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),rI.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return rI.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return rI.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),rI.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),rI.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new cS(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,rI.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),rI.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,rI.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),rI.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return rI.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return rI.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),rI.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),rI.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),rI.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return rI.resolve(n)}},{key:"containsKey",value:function(e,t){return rI.resolve(this.qi.containsKey(t))}}]),e}(),pT=function(){function e(t,n){var r=this;Bt(this,e),this.Gi={},this.overlays={},this.es=new Yb(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new dT(this),this.indexManager=new GI,this.ds=new fT((function(e){return r.referenceDelegate.Qi(e)})),this.M=new kI(n),this._s=new oT(this.M)}return zt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new uT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new lT(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Db("MemoryPersistence","Starting transaction:",e);var i=new vT(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return rI.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),vT=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return zt(n)}(nI),mT=function(){function e(t){Bt(this,e),this.persistence=t,this.Hi=new sT,this.Ji=null}return zt(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw Lb()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),rI.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),rI.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),rI.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rI.forEach(this.Xi,(function(r){var i=_w.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,nw.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return rI.or([function(){return rI.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function yT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function gT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function kT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var bT=function(){function e(t,n,r,i){Bt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return zt(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Vb(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ob("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),wT=function(){function e(t,n,r){Bt(this,e),this.targetId=t,this.state=n,this.error=r}return zt(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Vb(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ob("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),xT=function(){function e(t,n){Bt(this,e),this.clientId=t,this.activeTargetIds=n}return zt(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=BE(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ew(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ob("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ET=function(){function e(t,n){Bt(this,e),this.clientId=t,this.onlineState=n}return zt(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ob("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),_T=function(){function e(){Bt(this,e),this.activeTargetIds=BE()}return zt(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),IT=function(){function e(t,n,r,i,a){Bt(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ix(Jb),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=yT(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new _T),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return zt(e,[{key:"start",value:function(){var e=Xo(Zo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=Mr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(yT(this.persistenceKey,i)))&&(o=xT.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=Mr(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(kT(this.persistenceKey,e));if(n){var r=wT.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(kT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Db("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Db("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Db("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Db("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void Ob("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Xo(Zo().mark((function e(){var r,i,a,o,u,s,c;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=Yb.A;if(null!=e)try{var n=JSON.parse(e);Mb("number"==typeof n),t=n}catch(e){Ob("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Yb.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new bT(this.currentUser,e,t,n),i=gT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=gT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=kT(this.persistenceKey,e),i=new wT(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return xT.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bT.tr(new Tb(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return wT.tr(r,t)}},{key:"pr",value:function(e){return ET.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Db("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=BE();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ST=function(){function e(){Bt(this,e),this.Ur=new _T,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return zt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new _T,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),TT=function(){function e(){Bt(this,e)}return zt(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),CT=function(){function e(){var t=this;Bt(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return zt(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){Db("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Mr(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Db("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Mr(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),NT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},AT=function(){function e(t){Bt(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return zt(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),DT=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return zt(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ib;o.listenOnce(bb.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case kb.NO_ERROR:var t=o.getResponseJson();Db("Connection","XHR received:",JSON.stringify(t)),i(t);break;case kb.TIMEOUT:Db("Connection",'RPC "'+e+'" timed out'),a(new Vb(Fb.DEADLINE_EXCEEDED,"Request time out"));break;case kb.HTTP_ERROR:var n=o.getStatus();if(Db("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Fb).indexOf(t)>=0?t:Fb.UNKNOWN}(r.status);a(new Vb(u,r.message))}else a(new Vb(Fb.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Vb(Fb.UNAVAILABLE,"Connection failed."));break;default:Lb()}}finally{Db("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yb(),a=gb(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Eb({})),this.lo(o.initMessageHeaders,t,n),lu()||du()||cu().indexOf("Electron/")>=0||pu()||cu().indexOf("MSAppHost/")>=0||hu()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Db("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new AT({Jr:function(e){l?Db("Connection","Not sending because WebChannel is closed:",e):(c||(Db("Connection","Opening WebChannel transport."),s.open(),c=!0),Db("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,_b.EventType.OPEN,(function(){l||Db("Connection","WebChannel transport opened.")})),h(s,_b.EventType.CLOSE,(function(){l||(l=!0,Db("Connection","WebChannel transport closed"),f.ro())})),h(s,_b.EventType.ERROR,(function(e){l||(l=!0,Pb("Connection","WebChannel transport errored:",e),f.ro(new Vb(Fb.UNAVAILABLE,"The operation could not be completed")))})),h(s,_b.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Mb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Db("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=_E[e];if(void 0!==t)return AE(t)}(a),u=i.message;void 0===o&&(o=Fb.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new Vb(o,u)),s.close()}else Db("Connection","WebChannel received:",n),f.oo(n)}})),h(a,wb.STAT_EVENT,(function(e){e.stat===xb.PROXY?Db("Connection","Detected buffering proxy"):e.stat===xb.NOPROXY&&Db("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){Bt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return zt(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);Db("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Db("RestConnection","Received: ",e),e}),(function(t){throw Pb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=NT[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function OT(){return"undefined"!=typeof window?window:null}function PT(){return"undefined"!=typeof document?document:null}function RT(e){return new ZE(e,!0)}var LT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Bt(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return zt(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Db("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),MT=function(){function e(t,n,r,i,a,o,u,s){Bt(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new LT(t,n)}return zt(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Fb.RESOURCE_EXHAUSTED?(Ob(n.toString()),Ob("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Fb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new Vb(Fb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(Xo(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Db("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(Db("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),jT=function(e){On(n,e);var t=jn(n);function n(e,r,i,a,o,u){var s;return Bt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return zt(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Lb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Mb(void 0===t||"string"==typeof t),fw.fromBase64String(t||"")):(Mb(void 0===t||t instanceof Uint8Array),fw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Fb.UNKNOWN:AE(e.code);return new Vb(t,e.message||"")}(o);n=new GE(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=u_(e,s.document.name),l=r_(s.document.updateTime),f=new Gw({mapValue:{fields:s.document.fields}}),h=Qw.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new KE(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=u_(e,v.document),y=v.readTime?r_(v.readTime):nw.min(),g=Qw.newNoDocument(m,y),k=v.removedTargetIds||[];n=new KE([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=u_(e,b.document),x=b.removedTargetIds||[];n=new KE([],x,w,null)}else{if(!("filter"in t))return Lb();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new CE(_),S=E.targetId;n=new WE(S,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return nw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?nw.min():t.readTime?r_(t.readTime):nw.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=l_(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=px(r)?{documents:y_(e,r)}:{query:g_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=t_(e,t.resumeToken):t.snapshotVersion.compareTo(nw.min())>0&&(n.readTime=e_(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=l_(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(MT),FT=function(e){On(n,e);var t=jn(n);function n(e,r,i,a,o,u){var s;return Bt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return zt(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,Dn(Nn(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Mb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Mb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?r_(e.updateTime):r_(t);return n.isEqual(nw.min())&&(n=r_(t)),new lE(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=r_(e.commitTime);return this.listener.tu(n,t)}return Mb(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=l_(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return v_(t.M,e)}))};this.Lo(n)}}]),n}(MT),VT=function(e){On(n,e);var t=jn(n);function n(e,r,i,a){var o;return Bt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return zt(n,[{key:"iu",value:function(){if(this.su)throw new Vb(Fb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vb(Fb.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vb(Fb.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return zt((function e(){Bt(this,e)}))}()),UT=function(){function e(t,n){Bt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return zt(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(Ob(t),this.uu=!1):Db("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),BT=zt((function e(t,n,r,i,a){var o=this;Bt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=JT(o),!e.t0){e.next=5;break}return Db("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=jb(t)).wu.add(4),e.next=4,KT(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,qT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new UT(r,i)}));function qT(e){return zT.apply(this,arguments)}function zT(){return zT=Xo(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JT(t)){e.next=18;break}n=Mr(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),zT.apply(this,arguments)}function KT(e){return WT.apply(this,arguments)}function WT(){return WT=Xo(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mr(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),WT.apply(this,arguments)}function GT(e,t){var n=jb(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),XT(n)?$T(n):TC(n).Mo()&&QT(n,t))}function HT(e,t){var n=jb(e),r=TC(n);n._u.delete(t),r.Mo()&&YT(n,t),0===n._u.size&&(r.Mo()?r.$o():JT(n)&&n.yu.set("Unknown"))}function QT(e,t){e.pu.Z(t.targetId),TC(e).Ho(t)}function YT(e,t){e.pu.Z(t),TC(e).Jo(t)}function $T(e){e.pu=new QE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),TC(e).start(),e.yu.au()}function XT(e){return JT(e)&&!TC(e).ko()&&e._u.size>0}function JT(e){return 0===jb(e).wu.size}function ZT(e){e.pu=void 0}function eC(e){return tC.apply(this,arguments)}function tC(){return tC=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){QT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t){return rC.apply(this,arguments)}function rC(){return rC=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ZT(t),XT(t)?(t.yu.lu(n),$T(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e,t,n){return aC.apply(this,arguments)}function aC(){return aC=Xo(Zo().mark((function e(t,n,r){var i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof GE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Xo(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Mr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Db("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,oC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof KE?t.pu.ut(n):n instanceof WE?t.pu._t(n):t.pu.ht(n),r.isEqual(nw.min())){e.next=29;break}return e.prev=14,e.next=17,WS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(fw.EMPTY_BYTE_STRING,n.snapshotVersion)),YT(e,t);var r=new gI(n.target,t,1,n.sequenceNumber);QT(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Db("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,oC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),aC.apply(this,arguments)}function oC(e,t,n){return uC.apply(this,arguments)}function uC(){return uC=Xo(Zo().mark((function e(t,n,r){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sI(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,KT(t);case 5:t.yu.set("Offline"),r||(r=function(){return WS(t.localStore)}),t.asyncQueue.enqueueRetryable(Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Db("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,qT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function sC(e,t){return t().catch((function(n){return oC(e,n,t)}))}function cC(e){return lC.apply(this,arguments)}function lC(){return lC=Xo(Zo().mark((function e(t){var n,r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=jb(t),r=CC(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!fC(n)){e.next=19;break}return e.prev=3,e.next=6,QS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,hC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,oC(n,e.t0);case 17:e.next=2;break;case 19:dC(n)&&pC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),lC.apply(this,arguments)}function fC(e){return JT(e)&&e.du.length<10}function hC(e,t){e.du.push(t);var n=CC(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function dC(e){return JT(e)&&!CC(e).ko()&&e.du.length>0}function pC(e){CC(e).start()}function vC(e){return mC.apply(this,arguments)}function mC(){return mC=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CC(t).nu();case 1:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function yC(e){return gC.apply(this,arguments)}function gC(){return gC=Xo(Zo().mark((function e(t){var n,r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=CC(t),r=Mr(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}function kC(e,t,n){return bC.apply(this,arguments)}function bC(){return bC=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=mI.from(i,n,r),e.next=3,sC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,cC(t);case 5:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function wC(e,t){return xC.apply(this,arguments)}function xC(){return xC=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&CC(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Xo(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!NE(i=n.code)||i===Fb.ABORTED){e.next=7;break}return r=t.du.shift(),CC(t).Fo(),e.next=5,sC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,cC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:dC(t)&&pC(t);case 5:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}function EC(e,t){return _C.apply(this,arguments)}function _C(){return _C=Xo(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=jb(t)).asyncQueue.verifyOperationInProgress(),Db("RemoteStore","RemoteStore received new credentials"),i=JT(r),r.wu.add(3),e.next=6,KT(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,qT(r);case 12:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function IC(e,t){return SC.apply(this,arguments)}function SC(){return SC=Xo(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jb(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,qT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,KT(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),SC.apply(this,arguments)}function TC(e){return e.Iu||(e.Iu=function(e,t,n){var r=jb(e);return r.iu(),new jT(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:eC.bind(null,e),eo:nC.bind(null,e),zo:iC.bind(null,e)}),e.mu.push(function(){var t=Xo(Zo().mark((function t(n){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),XT(e)?$T(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:ZT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function CC(e){return e.Tu||(e.Tu=function(e,t,n){var r=jb(e);return r.iu(),new FT(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:vC.bind(null,e),eo:wC.bind(null,e),eu:yC.bind(null,e),tu:kC.bind(null,e)}),e.mu.push(function(){var t=Xo(Zo().mark((function t(n){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,cC(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Db("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var NC=function(){function e(t,n,r,i,a){Bt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ub,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return zt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vb(Fb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function AC(e,t){if(Ob("AsyncQueue","".concat(t,": ").concat(e)),sI(e))return new Vb(Fb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var DC=function(){function e(t){Bt(this,e),this.comparator=t?function(e,n){return t(e,n)||_w.comparator(e.key,n.key)}:function(e,t){return _w.comparator(e.key,t.key)},this.keyedMap=LE(),this.sortedSet=new ix(this.comparator)}return zt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),OC=function(){function e(){Bt(this,e),this.Eu=new ix(_w.comparator)}return zt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Lb():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),PC=function(){function e(t,n,r,i,a,o,u,s){Bt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return zt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,DC.emptySet(n),a,r,i,!0,!1)}}]),e}(),RC=zt((function e(){Bt(this,e),this.Ru=void 0,this.listeners=[]})),LC=zt((function e(){Bt(this,e),this.queries=new DE((function(e){return qx(e)}),Bx),this.onlineState="Unknown",this.bu=new Set}));function MC(e,t){return jC.apply(this,arguments)}function jC(){return jC=Xo(Zo().mark((function e(t,n){var r,i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new RC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=AC(e.t0,"Initialization of query '".concat(zx(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&qC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),jC.apply(this,arguments)}function FC(e,t){return VC.apply(this,arguments)}function VC(){return VC=Xo(Zo().mark((function e(t,n){var r,i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function UC(e,t){var n,r=jb(e),i=!1,a=Mr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Mr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&qC(r)}function BC(e,t,n){var r=jb(e),i=r.queries.get(t);if(i){var a,o=Mr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function qC(e){e.bu.forEach((function(e){e.next()}))}var zC=function(){function e(t,n,r){Bt(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return zt(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Mr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new PC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=PC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),KC=function(){function e(t,n){Bt(this,e),this.payload=t,this.byteLength=n}return zt(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),WC=function(){function e(t){Bt(this,e),this.M=t}return zt(e,[{key:"wi",value:function(e){return u_(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?d_(this.M,e.document,!1):Qw.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return r_(e)}}]),e}(),GC=function(){function e(t,n,r){Bt(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HC(t)}return zt(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=uw.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new WC(this.M),i=Mr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=Mr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||VE()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Xo(Zo().mark((function e(){var t,n,r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nT(this.localStore,new WC(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=Mr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,iT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function HC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var QC=zt((function e(t){Bt(this,e),this.key=t})),YC=zt((function e(t){Bt(this,e),this.key=t})),$C=function(){function e(t,n){Bt(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=VE(),this.mutatedKeys=VE(),this.Gu=Gx(t),this.Qu=new DC(this.Gu)}return zt(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new OC,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Kx(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lb()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new PC(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new OC,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=VE(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new YC(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new QC(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=VE();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return PC.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),XC=zt((function e(t,n,r){Bt(this,e),this.query=t,this.targetId=n,this.view=r})),JC=zt((function e(t){Bt(this,e),this.key=t,this.na=!1})),ZC=function(){function e(t,n,r,i,a,o){Bt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new DE((function(e){return qx(e)}),Bx),this.ra=new Map,this.oa=new Set,this.ua=new ix(_w.comparator),this.aa=new Map,this.ca=new sT,this.ha={},this.la=new Map,this.fa=cS.yn(),this.onlineState="Unknown",this.da=void 0}return zt(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function eN(e,t){return tN.apply(this,arguments)}function tN(){return tN=Xo(Zo().mark((function e(t,n){var r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=HN(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,YS(r.localStore,Vx(n));case 8:return u=e.sent,r.isPrimaryClient&&GT(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,nN(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),tN.apply(this,arguments)}function nN(e,t,n,r){return rN.apply(this,arguments)}function rN(){return rN=Xo(Zo().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=Xo(Zo().mark((function e(t,n,r,i){var a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,JS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(EN(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,JS(t.localStore,n,!0);case 3:return a=e.sent,o=new $C(n,a._i),u=o.Wu(a.documents),s=zE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),EN(t,r,c.Xu),l=new XC(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),rN.apply(this,arguments)}function iN(e,t){return aN.apply(this,arguments)}function aN(){return aN=Xo(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jb(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Bx(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,$S(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),HT(r.remoteStore,i.targetId),wN(r,i.targetId)})).catch(pS);case 9:e.next=14;break;case 11:return wN(r,i.targetId),e.next=14,$S(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),aN.apply(this,arguments)}function oN(e,t,n){return uN.apply(this,arguments)}function uN(){return uN=Xo(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QN(t),e.prev=1,e.next=4,function(e,t){var n,r=jb(e),i=tw.now(),a=t.reduce((function(e,t){return e.add(t.key)}),VE());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=Mr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=mE(c,n.get(c.key));null!=l&&u.push(new bE(c.key,l,Hw(l.value.mapValue),fE.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new ix(Jb)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,SN(i,a.changes);case 9:return e.next=11,cC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=AC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),uN.apply(this,arguments)}function sN(e,t){return cN.apply(this,arguments)}function cN(){return cN=Xo(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jb(t),e.prev=1,e.next=4,GS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(Mb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?Mb(n.na):e.removedDocuments.size>0&&(Mb(n.na),n.na=!1))})),e.next=8,SN(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,pS(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),cN.apply(this,arguments)}function lN(e,t,n){var r=jb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=jb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Mr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&qC(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fN(e,t,n){return hN.apply(this,arguments)}function hN(){return hN=Xo(Zo().mark((function e(t,n,r){var i,a,o,u,s,c;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=jb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ix(_w.comparator)).insert(o,Qw.newNoDocument(o,nw.min())),s=VE().add(o),c=new qE(nw.min(),new Map,new ux(Jb),u,s),e.next=9,sN(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),IN(i),e.next=16;break;case 14:return e.next=16,$S(i.localStore,n,!1).then((function(){return wN(i,n,r)})).catch(pS);case 16:case"end":return e.stop()}}),e)}))),hN.apply(this,arguments)}function dN(e,t){return pN.apply(this,arguments)}function pN(){return pN=Xo(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jb(t),i=n.batch.batchId,e.prev=1,e.next=4,KS(r.localStore,n);case 4:return a=e.sent,bN(r,i,null),kN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,SN(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,pS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pN.apply(this,arguments)}function vN(e,t,n){return mN.apply(this,arguments)}function mN(){return mN=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jb(t),e.prev=1,e.next=4,function(e,t){var n=jb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Mb(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,bN(i,n,r),kN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,SN(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,pS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mN.apply(this,arguments)}function yN(e,t){return gN.apply(this,arguments)}function gN(){return gN=Xo(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JT((r=jb(t)).remoteStore)||Db("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=jb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=AC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),gN.apply(this,arguments)}function kN(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function bN(e,t,n){var r=jb(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function wN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Mr(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||xN(e,t)}))}function xN(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(HT(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),IN(e))}function EN(e,t,n){var r,i=Mr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof QC?(e.ca.addReference(a.key,t),_N(e,a)):a instanceof YC?(Db("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||xN(e,a.key)):Lb()}}catch(o){i.e(o)}finally{i.f()}}function _N(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(Db("SyncEngine","New document in limbo: "+n),e.oa.add(r),IN(e))}function IN(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new _w(uw.fromString(t)),r=e.fa.next();e.aa.set(r,new JC(n)),e.ua=e.ua.insert(n,r),GT(e.remoteStore,new gI(Vx(Rx(n.path)),r,2,Yb.A))}}function SN(e,t,n){return TN.apply(this,arguments)}function TN(){return TN=Xo(Zo().mark((function e(t,n,r){var i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jb(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=FS.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=Xo(Zo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return rI.forEach(n,(function(t){return rI.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return rI.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),sI(e.t0)){e.next=10;break}throw e.t0;case 10:Db("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Mr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),TN.apply(this,arguments)}function CN(e,t){return NN.apply(this,arguments)}function NN(){return NN=Xo(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=jb(t)).currentUser.isEqual(n)){e.next=11;break}return Db("SyncEngine","User change. New user:",n.toKey()),e.next=5,qS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Vb(Fb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,SN(r,i.di);case 11:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}function AN(e,t){var n=jb(e),r=n.aa.get(t);if(r&&r.na)return VE().add(r.key);var i=VE(),a=n.ra.get(t);if(!a)return i;var o,u=Mr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function DN(e,t){return ON.apply(this,arguments)}function ON(){return ON=Xo(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jb(t),e.next=3,JS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&EN(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),ON.apply(this,arguments)}function PN(e,t){return RN.apply(this,arguments)}function RN(){return RN=Xo(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jb(t),e.abrupt("return",eT(r.localStore,n).then((function(e){return SN(r,e)})));case 2:case"end":return e.stop()}}),e)}))),RN.apply(this,arguments)}function LN(e,t,n,r){return MN.apply(this,arguments)}function MN(){return MN=Xo(Zo().mark((function e(t,n,r,i){var a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jb(t),e.next=3,function(e,t){var n=jb(e),r=jb(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):rI.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,cC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(bN(a,n,i||null),kN(a,n),function(e,t){jb(jb(e).Bs)._n(t)}(a.localStore,n)):Lb();case 11:return e.next=13,SN(a,o);case 13:e.next=16;break;case 15:Db("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),MN.apply(this,arguments)}function jN(e,t){return FN.apply(this,arguments)}function FN(){return FN=Xo(Zo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HN(r=jb(t)),QN(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,VN(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,IC(r.remoteStore,!0);case 9:o=Mr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,GT(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return wN(r,t),$S(r.localStore,t,!0)})),HT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,VN(r,c);case 21:return function(e){var t=jb(e);t.aa.forEach((function(e,n){HT(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new ix(_w.comparator)}(r),r.da=!1,e.next=25,IC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),FN.apply(this,arguments)}function VN(e,t,n){return UN.apply(this,arguments)}function UN(){return UN=Xo(Zo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=jb(t),a=[],o=[],u=Mr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,YS(i.localStore,Vx(f[0]));case 11:l=e.sent,h=Mr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,DN(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ZS(i.localStore,c);case 36:return y=e.sent,e.next=39,YS(i.localStore,y);case 39:return l=e.sent,e.next=42,nN(i,BN(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),UN.apply(this,arguments)}function BN(e){return Px(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qN(e){var t=jb(e);return jb(jb(t.localStore).persistence).Fs()}function zN(e,t,n,r){return KN.apply(this,arguments)}function KN(){return KN=Xo(Zo().mark((function e(t,n,r,i){var a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=jb(t)).da){e.next=3;break}return e.abrupt("return",void Db("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,eT(a.localStore,Wx(o[0]));case 10:return u=e.sent,s=qE.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,SN(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,$S(a.localStore,n,!0);case 17:return wN(a,n,i),e.abrupt("break",20);case 19:Lb();case 20:case"end":return e.stop()}}),e)}))),KN.apply(this,arguments)}function WN(e,t,n){return GN.apply(this,arguments)}function GN(){return GN=Xo(Zo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=HN(t)).da){e.next=45;break}a=Mr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return Db("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ZS(i.localStore,u);case 12:return s=e.sent,e.next=15,YS(i.localStore,s);case 15:return c=e.sent,e.next=18,nN(i,BN(s),c.targetId,!1);case 18:GT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Mr(r),e.prev=30,h=Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,$S(i.localStore,t,!1).then((function(){HT(i.remoteStore,t),wN(i,t)})).catch(pS);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),GN.apply(this,arguments)}function HN(e){var t=jb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fN.bind(null,t),t.sa.zo=UC.bind(null,t.eventManager),t.sa.wa=BC.bind(null,t.eventManager),t}function QN(e){var t=jb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vN.bind(null,t),t}function YN(e,t,n){var r=jb(e);(function(){var e=Xo(Zo().mark((function e(t,n,r){var i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=jb(e),r=r_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(HC(i)),a=new GC(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,SN(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=jb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Pb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var $N=function(){function e(){Bt(this,e),this.synchronizeTabs=!1}return zt(e,[{key:"initialize",value:function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=RT(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return BS(this.persistence,new VS,e.initialUser,this.M)}},{key:"ya",value:function(e){return new pT(mT.Yi,this.M)}},{key:"ga",value:function(e){return new ST}},{key:"terminate",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),XN=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return zt(n,[{key:"initialize",value:function(){var e=Xo(Zo().mark((function e(t){var r=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(Nn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,QN(this.Ta.syncEngine);case 6:return e.next=8,cC(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return BS(this.persistence,new VS,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new gS(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=MS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?tS.withCacheSize(this.cacheSizeBytes):tS.DEFAULT;return new PS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,OT(),PT(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new ST}}]),n}($N),JN=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return zt(n,[{key:"initialize",value:function(){var e=Xo(Zo().mark((function e(t){var r,i=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(Nn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof IT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:LN.bind(null,r),Br:zN.bind(null,r),Lr:WN.bind(null,r),Fs:qN.bind(null,r),Fr:PN.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jN(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=OT();if(!IT.vt(t))throw new Vb(Fb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=MS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(XN),ZN=function(){function e(){Bt(this,e)}return zt(e,[{key:"initialize",value:function(){var e=Xo(Zo().mark((function e(t,n){var r=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return lN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=CN.bind(null,this.syncEngine),e.next=12,IC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new LC}},{key:"createDatastore",value:function(e){var t,n=RT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new DT(t));return function(e,t,n,r){return new VT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return lN(o.syncEngine,e,0)},a=CT.vt()?new CT:new TT,new BT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ZC(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jb(t),Db("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,KT(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function eA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Xo(Zo().mark((function r(){var i;return Zo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var tA=function(){function e(t){Bt(this,e),this.observer=t,this.muted=!1}return zt(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),nA=function(){function e(t,n){var r=this;Bt(this,e),this.Ra=t,this.M=n,this.metadata=new Ub,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return zt(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=Xo(Zo().mark((function e(){var t,n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new KC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=Xo(Zo().mark((function e(){var t,n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=Xo(Zo().mark((function e(){var t,n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),rA=function(){function e(t){Bt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return zt(e,[{key:"lookup",value:function(){var e=Xo(Zo().mark((function e(t){var n,r=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Vb(Fb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Xo(Zo().mark((function e(t,n){var r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jb(t),i=l_(r.M)+"/documents",a={documents:n.map((function(e){return o_(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=p_(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Mb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new SE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Xo(Zo().mark((function e(){var t,n=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=_w.fromPath(t);n.mutations.push(new TE(r,n.precondition(r)))})),e.next=7,function(){var e=Xo(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jb(t),i=l_(r.M)+"/documents",a={writes:n.map((function(e){return v_(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Lb();t=nw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Vb(Fb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fE.updateTime(t):fE.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(nw.min()))throw new Vb(Fb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fE.updateTime(t)}return fE.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),iA=function(){function e(t,n,r,i,a){Bt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new LT(this.asyncQueue,"transaction_retry")}return zt(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(Xo(Zo().mark((function t(){var n,r;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new rA(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!ww(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!NE(t)}return!1}}]),e}(),aA=function(){function e(t,n,r,i){var a=this;Bt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tb.UNAUTHENTICATED,this.clientId=Xb.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Db("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Db("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return zt(e,[{key:"getConfiguration",value:function(){var e=Xo(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Vb(Fb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ub;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Xo(Zo().mark((function n(){var r;return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=AC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function oA(e,t){return uA.apply(this,arguments)}function uA(){return uA=Xo(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Db("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,qS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),uA.apply(this,arguments)}function sA(e,t){return cA.apply(this,arguments)}function cA(){return cA=Xo(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,lA(t);case 3:return r=e.sent,Db("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return EC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return EC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e){return fA.apply(this,arguments)}function fA(){return fA=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Db("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,oA(t,new $N);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e){return dA.apply(this,arguments)}function dA(){return dA=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Db("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,sA(t,new ZN);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e){return lA(e).then((function(e){return e.persistence}))}function vA(e){return lA(e).then((function(e){return e.localStore}))}function mA(e){return hA(e).then((function(e){return e.remoteStore}))}function yA(e){return hA(e).then((function(e){return e.syncEngine}))}function gA(e){return kA.apply(this,arguments)}function kA(){return kA=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=eN.bind(null,n.syncEngine),r.onUnlisten=iN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}function bA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ub;return e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function i(){return Zo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new tA({next:function(a){t.enqueueAndForget((function(){return FC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Vb(Fb.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Vb(Fb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new zC(Rx(n.path),a,{includeMetadataChanges:!0,ku:!0});return MC(e,o)},i.next=3,gA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function wA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ub;return e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function i(){return Zo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new tA({next:function(n){t.enqueueAndForget((function(){return FC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Vb(Fb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new zC(n,a,{includeMetadataChanges:!0,ku:!0});return MC(e,o)},i.next=3,gA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var xA=new Map;function EA(e,t,n){if(!n)throw new Vb(Fb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function _A(e,t,n,r){if(!0===t&&!0===r)throw new Vb(Fb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function IA(e){if(!_w.isDocumentKey(e))throw new Vb(Fb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function SA(e){if(_w.isDocumentKey(e))throw new Vb(Fb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function TA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Lb()}function CA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vb(Fb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=TA(e);throw new Vb(Fb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function NA(e,t){if(t<=0)throw new Vb(Fb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var AA=function(){function e(t){var n;if(Bt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Vb(Fb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vb(Fb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,_A("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return zt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),DA=function(){function e(t,n,r){Bt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AA({}),this._settingsFrozen=!1,t instanceof bw?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vb(Fb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bw(e.options.projectId)}(t))}return zt(e,[{key:"app",get:function(){if(!this._app)throw new Vb(Fb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Vb(Fb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qb;switch(e.type){case"gapi":var t=e.client;return Mb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Gb(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Vb(Fb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=xA.get(e);t&&(Db("ComponentProvider","Removing Datastore"),xA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function OA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=CA(e,DA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Pb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Tb.MOCK_USER;else{o=su(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Vb(Fb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Tb(s)}e._authCredentials=new zb(new Bb(o,u))}}var PA=function(){function e(t,n,r){Bt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return zt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new LA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),RA=function(){function e(t,n,r){Bt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return zt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),LA=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this,e,r,Rx(i)))._path=i,a.type="collection",a}return zt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new PA(this.firestore,null,new _w(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(RA);function MA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nu(e),EA("collection","path",t),e instanceof DA){var a=uw.fromString.apply(uw,[t].concat(r));return SA(a),new LA(e,null,a)}if(!(e instanceof PA||e instanceof LA))throw new Vb(Fb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(uw.fromString.apply(uw,[t].concat(r)));return SA(o),new LA(e.firestore,null,o)}function jA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nu(e),1===arguments.length&&(t=Xb.R()),EA("doc","path",t),e instanceof DA){var a=uw.fromString.apply(uw,[t].concat(r));return IA(a),new PA(e,null,new _w(a))}if(!(e instanceof PA||e instanceof LA))throw new Vb(Fb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(uw.fromString.apply(uw,[t].concat(r)));return IA(o),new PA(e.firestore,e instanceof LA?e.converter:null,new _w(o))}function FA(e,t){return e=Nu(e),t=Nu(t),(e instanceof PA||e instanceof LA)&&(t instanceof PA||t instanceof LA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VA(e,t){return e=Nu(e),t=Nu(t),e instanceof RA&&t instanceof RA&&e.firestore===t.firestore&&Bx(e._query,t._query)&&e.converter===t.converter}var UA=function(){function e(){var t=this;Bt(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new LT(this,"async_queue_retry"),this.Qa=function(){var e=PT();e&&Db("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=PT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return zt(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=PT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new Ub;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=Xo(Zo().mark((function e(){var t=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),sI(e.t0)){e.next=12;break}throw e.t0;case 12:Db("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ob("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=NC.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&Lb()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=Mr(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Mr(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function BA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Mr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var qA=function(){function e(){Bt(this,e),this._progressObserver={},this._taskCompletionResolver=new Ub,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return zt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),zA=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new UA,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return zt(n,[{key:"_terminate",value:function(){return this._firestoreClient||WA(this),this._firestoreClient.terminate()}}]),n}(DA);function KA(e){return e._firestoreClient||WA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WA(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new kw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new aA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function GA(e,t,n){var r=new Ub;return e.asyncQueue.enqueue(Xo(Zo().mark((function i(){return Zo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,oA(e,n);case 3:return i.next=5,sA(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Fb.FAILED_PRECONDITION||e.code===Fb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function HA(e){return function(e){return e.asyncQueue.enqueue(Xo(Zo().mark((function t(){var n,r;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pA(e);case 2:return n=t.sent,t.next=5,mA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=jb(e);return t.wu.delete(0),qT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(KA(e=CA(e,zA)))}function QA(e){return function(e){return e.asyncQueue.enqueue(Xo(Zo().mark((function t(){var n,r;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pA(e);case 2:return n=t.sent,t.next=5,mA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=jb(t)).wu.add(0),e.next=4,KT(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(KA(e=CA(e,zA)))}function YA(e,t){var n=KA(e=CA(e,zA)),r=new qA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new nA(e,t)}(function(e,t){if(e instanceof Uint8Array)return eA(e,t);if(e instanceof ArrayBuffer)return eA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,RT(t));e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=YN,t.next=3,yA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function $A(e,t){return function(e,t){return e.asyncQueue.enqueue(Xo(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=jb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,vA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(KA(e=CA(e,zA)),t).then((function(t){return t?new RA(e,null,t.query):null}))}function XA(e){if(e._initialized||e._terminated)throw new Vb(Fb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var JA=function(){function e(){Bt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cw(n)}return zt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ZA=function(){function e(t){Bt(this,e),this._byteString=t}return zt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(fw.fromBase64String(t))}catch(t){throw new Vb(Fb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(fw.fromUint8Array(t))}}]),e}(),eD=zt((function e(t){Bt(this,e),this._methodName=t})),tD=function(){function e(t,n){if(Bt(this,e),!isFinite(t)||t<-90||t>90)throw new Vb(Fb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Vb(Fb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return zt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Jb(this._lat,e._lat)||Jb(this._long,e._long)}}]),e}(),nD=/^__.*__$/,rD=function(){function e(t,n,r){Bt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return zt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new bE(e,this.data,this.fieldMask,t,this.fieldTransforms):new kE(e,this.data,t,this.fieldTransforms)}}]),e}(),iD=function(){function e(t,n,r){Bt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return zt(e,[{key:"toMutation",value:function(e,t){return new bE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function aD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lb()}}var oD=function(){function e(t,n,r,i,a,o){Bt(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return zt(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return SD(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(aD(this.ec)&&nD.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),uD=function(){function e(t,n,r){Bt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||RT(t)}return zt(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new oD({ec:e,methodName:t,hc:n,path:cw.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function sD(e){var t=e._freezeSettings(),n=RT(e._databaseId);return new uD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cD(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);xD("Data must be an object, but it was:",o,r);var u,s,c=bD(r,o);if(a.merge)u=new lw(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Mr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=ED(t,d,n);if(!o.contains(p))throw new Vb(Fb.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));TD(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new lw(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new rD(new Gw(c),u,s)}var lD=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.apply(this,arguments)}return zt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eD);function fD(e,t,n){return new oD({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var hD=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.apply(this,arguments)}return zt(n,[{key:"_toFieldTransform",value:function(e){return new cE(e.path,new tE)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eD),dD=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,e)).fc=r,i}return zt(n,[{key:"_toFieldTransform",value:function(e){var t=fD(this,e,!0),n=this.fc.map((function(e){return kD(e,t)})),r=new nE(n);return new cE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eD),pD=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,e)).fc=r,i}return zt(n,[{key:"_toFieldTransform",value:function(e){var t=fD(this,e,!0),n=this.fc.map((function(e){return kD(e,t)})),r=new iE(n);return new cE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eD),vD=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,e)).dc=r,i}return zt(n,[{key:"_toFieldTransform",value:function(e){var t=new oE(e.M,$x(e.M,this.dc));return new cE(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eD);function mD(e,t,n,r){var i=e.lc(1,t,n);xD("Data must be an object, but it was:",i,r);var a=[],o=Gw.empty();iw(r,(function(e,r){var u=ID(t,e,n);r=Nu(r);var s=i.oc(u);if(r instanceof lD)a.push(u);else{var c=kD(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new lw(a);return new iD(o,u,i.fieldTransforms)}function yD(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[ED(t,r,n)],s=[i];if(a.length%2!=0)throw new Vb(Fb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(ED(t,a[c])),s.push(a[c+1]);for(var l=[],f=Gw.empty(),h=u.length-1;h>=0;--h)if(!TD(l,u[h])){var d=u[h],p=s[h];p=Nu(p);var v=o.oc(d);if(p instanceof lD)l.push(d);else{var m=kD(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new lw(l);return new iD(f,y,o.fieldTransforms)}function gD(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kD(n,e.lc(r?4:3,t))}function kD(e,t){if(wD(e=Nu(e)))return xD("Unsupported field value:",t,e),bD(e,t);if(e instanceof eD)return function(e,t){if(!aD(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Mr(e);try{for(a.s();!(n=a.n()).done;){var o=kD(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Nu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $x(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=tw.fromDate(e);return{timestampValue:e_(t.M,n)}}if(e instanceof tw){var r=new tw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:e_(t.M,r)}}if(e instanceof tD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZA)return{bytesValue:t_(t.M,e._byteString)};if(e instanceof PA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:i_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(TA(e)))}(e,t)}function bD(e,t){var n={};return aw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):iw(e,(function(e,r){var i=kD(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function wD(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof tw||e instanceof tD||e instanceof ZA||e instanceof PA||e instanceof eD)}function xD(e,t,n){if(!wD(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=TA(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function ED(e,t,n){if((t=Nu(t))instanceof JA)return t._internalPath;if("string"==typeof t)return ID(e,t);throw SD("Field path arguments must be of type string or ",e,!1,void 0,n)}var _D=new RegExp("[~\\*/\\[\\]]");function ID(e,t,n){if(t.search(_D)>=0)throw SD("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return eu(JA,Ut(t.split(".")))._internalPath}catch(r){throw SD("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function SD(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Vb(Fb.INVALID_ARGUMENT,u+e+s)}function TD(e,t){return e.some((function(e){return e.isEqual(t)}))}var CD=function(){function e(t,n,r,i,a){Bt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return zt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new PA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new ND(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(AD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),ND=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.apply(this,arguments)}return zt(n,[{key:"data",value:function(){return Dn(Nn(n.prototype),"data",this).call(this)}}]),n}(CD);function AD(e,t){return"string"==typeof t?ID(e,t):t instanceof JA?t._internalPath:t._delegate._internalPath}var DD=function(){function e(t,n){Bt(this,e),this.hasPendingWrites=t,this.fromCache=n}return zt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),OD=function(e){On(n,e);var t=jn(n);function n(e,r,i,a,o,u){var s;return Bt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return zt(n,[{key:"exists",value:function(){return Dn(Nn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new PD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(AD("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(CD),PD=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.apply(this,arguments)}return zt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dn(Nn(n.prototype),"data",this).call(this,e)}}]),n}(OD),RD=function(){function e(t,n,r,i){Bt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new DD(i.hasPendingWrites,i.fromCache),this.query=r}return zt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new PD(n._firestore,n._userDataWriter,r.key,r,new DD(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vb(Fb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new PD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new PD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:LD(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function LD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lb()}}function MD(e,t){return e instanceof OD&&t instanceof OD?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof RD&&t instanceof RD&&e._firestore===t._firestore&&VA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function jD(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Vb(Fb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var FD=zt((function e(){Bt(this,e)}));function VD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var UD=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return zt(n,[{key:"_apply",value:function(e){var t=sD(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){XD(o,a);var s,c=[],l=Mr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push($D(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=$D(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||XD(o,a),u=gD(n,"where",o,"in"===a||"not-in"===a);var h=gx.create(i,a,u);return function(e,t){if(t.S()){var n=Mx(e);if(null!==n&&!n.isEqual(t.field))throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Lx(e);null!==r&&JD(e,t.field,r)}var i=function(e,t){var n,r=Mr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Vb(Fb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Vb(Fb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new RA(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ox(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(FD);var BD=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return zt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Cx(t,n);return function(e,t){if(null===Lx(e)){var n=Mx(e);null!==n&&JD(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new RA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ox(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(FD);var qD=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return zt(n,[{key:"_apply",value:function(e){return new RA(e.firestore,e.converter,Ux(e._query,this.yc,this.Ic))}}]),n}(FD);var zD=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return zt(n,[{key:"_apply",value:function(e){var t=YD(e,this.type,this.Tc,this.Ec);return new RA(e.firestore,e.converter,function(e,t){return new Ox(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(FD);function KD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zD("startAt",t,!0)}function WD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zD("startAfter",t,!1)}var GD=function(e){On(n,e);var t=jn(n);function n(e,r,i){var a;return Bt(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return zt(n,[{key:"_apply",value:function(e){var t=YD(e,this.type,this.Tc,this.Ec);return new RA(e.firestore,e.converter,function(e,t){return new Ox(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(FD);function HD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GD("endBefore",t,!1)}function QD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GD("endAt",t,!0)}function YD(e,t,n,r){if(n[0]=Nu(n[0]),n[0]instanceof CD)return function(e,t,n,r,i){if(!r)throw new Vb(Fb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Mr(Fx(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Rw(t,r.key));else{var c=r.data.field(s.field);if(mw(c))throw new Vb(Fb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Tx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=sD(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Vb(Fb.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!jx(e)&&-1!==c.indexOf("/"))throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(uw.fromString(c));if(!_w.isDocumentKey(l))throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new _w(l);u.push(Rw(t,f))}else{var h=gD(n,r,c);u.push(h)}}return new Tx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function $D(e,t,n){if("string"==typeof(n=Nu(n))){if(""===n)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jx(t)&&-1!==n.indexOf("/"))throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(uw.fromString(n));if(!_w.isDocumentKey(r))throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Rw(e,new _w(r))}if(n instanceof PA)return Rw(e,n._key);throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(TA(n),"."))}function XD(e,t){if(!Array.isArray(e)||0===e.length)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function JD(e,t,n){if(!n.isEqual(t))throw new Vb(Fb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ZD={maxAttempts:5},eO=function(){function e(){Bt(this,e)}return zt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Tw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lb()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return iw(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new tD(pw(e.latitude),pw(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=yw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gw(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=dw(e);return new tw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=uw.fromString(e);Mb(C_(n));var r=new bw(n.get(1),n.get(3)),i=new _w(n.popFirst(5));return r.isEqual(t)||Ob("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function tO(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var nO=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this)).firestore=e,r}return zt(n,[{key:"convertBytes",value:function(e){return new ZA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new PA(this.firestore,null,t)}}]),n}(eO),rO=function(){function e(t,n){Bt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sD(t)}return zt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=iO(e,this._firestore),i=tO(r.converter,t,n),a=cD(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,fE.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=iO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nu(t))||t instanceof JA?yD(this._dataReader,"WriteBatch.update",i._key,t,n,o):mD(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,fE.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=iO(e,this._firestore);return this._mutations=this._mutations.concat(new SE(t._key,fE.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Vb(Fb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function iO(e,t){if((e=Nu(e)).firestore!==t)throw new Vb(Fb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var aO=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this)).firestore=e,r}return zt(n,[{key:"convertBytes",value:function(e){return new ZA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new PA(this.firestore,null,t)}}]),n}(eO);function oO(e){e=CA(e,PA);var t=CA(e.firestore,zA),n=KA(t),r=new aO(t);return function(e,t){var n=new Ub;return e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function r(){return Zo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Xo(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=jb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Vb(Fb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=AC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new OD(t,r,e._key,n,new DD(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function uO(e){e=CA(e,RA);var t=CA(e.firestore,zA),n=KA(t),r=new aO(t);return function(e,t){var n=new Ub;return e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function r(){return Zo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Xo(Zo().mark((function e(t,n,r){var i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JS(t,n,!0);case 3:i=e.sent,a=new $C(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=AC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new RD(t,r,e,n)}))}function sO(e,t,n){e=CA(e,PA);var r=CA(e.firestore,zA),i=tO(e.converter,t,n);return hO(r,[cD(sD(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fE.none())])}function cO(e,t,n){e=CA(e,PA);for(var r=CA(e.firestore,zA),i=sD(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return hO(r,[("string"==typeof(t=Nu(t))||t instanceof JA?yD(i,"updateDoc",e._key,t,n,o):mD(i,"updateDoc",e._key,t)).toMutation(e._key,fE.exists(!0))])}function lO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Nu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||BA(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(BA(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof PA)l=CA(e.firestore,zA),f=Rx(e._key.path),c={next:function(t){n[s]&&n[s](dO(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=CA(e,RA);l=CA(p.firestore,zA),f=p._query;var v=new aO(l);c={next:function(e){n[s]&&n[s](new RD(l,v,p,e))},error:n[s+1],complete:n[s+2]},jD(e._query)}return function(e,t,n,r){var i=new tA(r),a=new zC(t,i,n);return e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MC,t.next=3,gA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=FC,t.next=3,gA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KA(l),f,h,c)}function fO(e,t){return function(e,t){var n=new tA(t);return e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){jb(e).bu.add(t),t.next()},t.next=3,gA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){jb(e).bu.delete(t)},t.next=3,gA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KA(e=CA(e,zA)),BA(t)?t:{next:t})}function hO(e,t){return function(e,t){var n=new Ub;return e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function r(){return Zo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=oN,r.next=3,yA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(KA(e),t)}function dO(e,t,n){var r=n.docs.get(t._key),i=new aO(e);return new OD(e,i,t._key,r,new DD(n.hasPendingWrites,n.fromCache),t.converter)}var pO=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,e,r))._firestore=e,i}return zt(n,[{key:"get",value:function(e){var t=this,r=iO(e,this._firestore),i=new aO(this._firestore);return Dn(Nn(n.prototype),"get",this).call(this,e).then((function(e){return new OD(t._firestore,i,r._key,e._document,new DD(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Bt(this,e),this._firestore=t,this._transaction=n,this._dataReader=sD(t)}return zt(e,[{key:"get",value:function(e){var t=this,n=iO(e,this._firestore),r=new nO(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Lb();var i=e[0];if(i.isFoundDocument())return new CD(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new CD(t._firestore,r,n._key,null,n.converter);throw Lb()}))}},{key:"set",value:function(e,t,n){var r=iO(e,this._firestore),i=tO(r.converter,t,n),a=cD(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=iO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nu(t))||t instanceof JA?yD(this._dataReader,"Transaction.update",i._key,t,n,o):mD(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=iO(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function vO(e,t,n){e=CA(e,zA);var r=Object.assign(Object.assign({},ZD),n);return function(e){if(e.maxAttempts<1)throw new Vb(Fb.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ub;return e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function i(){var a;return Zo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return hA(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new iA(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(KA(e),(function(n){return t(new pO(e,n))}),r)}function mO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dD("arrayUnion",t)}function yO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pD("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cb=e}(Es),ms(new Au("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new zA(i,new Kb(e.getProvider("auth-internal")),new Qb(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ns(Sb,"3.4.9",e),Ns(Sb,"3.4.9","esm2017")}();function gO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Vb("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function kO(){if("undefined"===typeof Uint8Array)throw new Vb("unimplemented","Uint8Arrays are not available in this environment.")}function bO(){if("undefined"==typeof atob)throw new Vb("unimplemented","Blobs are unavailable in Firestore in this environment.")}var wO=function(){function e(t){Bt(this,e),this._delegate=t}return zt(e,[{key:"toBase64",value:function(){return bO(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return kO(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return bO(),new e(ZA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return kO(),new e(ZA.fromUint8Array(t))}}]),e}();function xO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Mr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var EO=function(){function e(){Bt(this,e)}return zt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){XA(e=CA(e,zA));var n=KA(e),r=e._freezeSettings(),i=new ZN;return GA(n,i,new XN(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){XA(e=CA(e,zA));var t=KA(e),n=e._freezeSettings(),r=new ZN;return GA(t,r,new JN(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Vb(Fb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ub;return e._queue.enqueueAndForgetEvenWhileRestricted(Xo(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(aI.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,aI.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(MS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),_O=function(){function e(t,n,r){var i=this;Bt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof bw||(this._appCompat=t)}return zt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Pb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};OA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return HA(this._delegate)}},{key:"disableNetwork",value:function(){return QA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&_A("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ub;return e.asyncQueue.enqueueAndForget(Xo(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=yN,n.next=3,yA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(KA(e=CA(e,zA)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return fO(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Vb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new FO(this,MA(this._delegate,e))}catch(KL){throw AO(KL,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new NO(this,jA(this._delegate,e))}catch(KL){throw AO(KL,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new LO(this,function(e,t){if(e=CA(e,DA),EA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Vb(Fb.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new RA(e,null,function(e){return new Ox(uw.emptyPath(),e)}(t))}(this._delegate,e))}catch(KL){throw AO(KL,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return vO(this._delegate,(function(n){return e(new SO(t,n))}))}},{key:"batch",value:function(){var e=this;return KA(this._delegate),new TO(new rO(this._delegate,(function(t){return hO(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return YA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return $A(this._delegate,e).then((function(e){return e?new LO(t,e):null}))}}]),e}(),IO=function(e){On(n,e);var t=jn(n);function n(e){var r;return Bt(this,n),(r=t.call(this)).firestore=e,r}return zt(n,[{key:"convertBytes",value:function(e){return new wO(new ZA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return NO.forKey(t,this.firestore,null)}}]),n}(eO);var SO=function(){function e(t,n){Bt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new IO(t)}return zt(e,[{key:"get",value:function(e){var t=this,n=VO(e);return this._delegate.get(n).then((function(e){return new PO(t._firestore,new OD(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=VO(e);return n?(gO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VO(e);return this._delegate.delete(t),this}}]),e}(),TO=function(){function e(t){Bt(this,e),this._delegate=t}return zt(e,[{key:"set",value:function(e,t,n){var r=VO(e);return n?(gO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),CO=function(){function e(t,n,r){Bt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return zt(e,[{key:"fromFirestore",value:function(e,t){var n=new PD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new RO(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new IO(t),n),i.set(n,a)),a}}]),e}();CO.INSTANCES=new WeakMap;var NO=function(){function e(t,n){Bt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IO(t)}return zt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new FO(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new FO(this.firestore,MA(this._delegate,e))}catch(KL){throw AO(KL,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Nu(e))instanceof PA&&FA(this._delegate,e)}},{key:"set",value:function(e,t){t=gO("DocumentReference.set",t);try{return t?sO(this._delegate,e,t):sO(this._delegate,e)}catch(KL){throw AO(KL,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?cO(this._delegate,e):cO.apply(void 0,[this._delegate,e,t].concat(r))}catch(KL){throw AO(KL,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return hO(CA(e.firestore,zA),[new SE(e._key,fE.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=DO(n),a=OO(n,(function(t){return new PO(e.firestore,new OD(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return lO(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?oO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CA(e,PA);var t=CA(e.firestore,zA);return bA(KA(t),e._key,{source:"server"}).then((function(n){return dO(t,e,n)}))}(this._delegate):function(e){e=CA(e,PA);var t=CA(e.firestore,zA);return bA(KA(t),e._key).then((function(n){return dO(t,e,n)}))}(this._delegate),t.then((function(e){return new PO(n.firestore,new OD(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(CO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Vb("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new PA(n._delegate,r,new _w(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new PA(n._delegate,r,t))}}]),e}();function AO(e,t,n){return e.message=e.message.replace(t,n),e}function DO(e){var t,n=Mr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!xO(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function OO(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=xO(e[0])?e[0]:xO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var PO=function(){function e(t,n){Bt(this,e),this._firestore=t,this._delegate=n}return zt(e,[{key:"ref",get:function(){return new NO(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return MD(this._delegate,e._delegate)}}]),e}(),RO=function(e){On(n,e);var t=jn(n);function n(){return Bt(this,n),t.apply(this,arguments)}return zt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Lb()}(void 0!==t),t}}]),n}(PO),LO=function(){function e(t,n){Bt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IO(t)}return zt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,VD(this._delegate,function(e,t,n){var r=t,i=AD("where",e);return new UD(i,r,n)}(t,n,r)))}catch(KL){throw AO(KL,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,VD(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=AD("orderBy",e);return new BD(n,t)}(t,n)))}catch(KL){throw AO(KL,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,VD(this._delegate,function(e){return NA("limit",e),new qD("limit",e,"F")}(t)))}catch(KL){throw AO(KL,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,VD(this._delegate,function(e){return NA("limitToLast",e),new qD("limitToLast",e,"L")}(t)))}catch(KL){throw AO(KL,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,VD(this._delegate,KD.apply(void 0,arguments)))}catch(KL){throw AO(KL,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,VD(this._delegate,WD.apply(void 0,arguments)))}catch(KL){throw AO(KL,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,VD(this._delegate,HD.apply(void 0,arguments)))}catch(KL){throw AO(KL,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,VD(this._delegate,QD.apply(void 0,arguments)))}catch(KL){throw AO(KL,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return VA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CA(e,RA);var t=CA(e.firestore,zA),n=KA(t),r=new aO(t);return wA(n,e._query,{source:"server"}).then((function(n){return new RD(t,r,e,n)}))}(this._delegate):function(e){e=CA(e,RA);var t=CA(e.firestore,zA),n=KA(t),r=new aO(t);return jD(e._query),wA(n,e._query).then((function(n){return new RD(t,r,e,n)}))}(this._delegate),t.then((function(e){return new jO(n.firestore,new RD(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=DO(n),a=OO(n,(function(t){return new jO(e.firestore,new RD(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return lO(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(CO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),MO=function(){function e(t,n){Bt(this,e),this._firestore=t,this._delegate=n}return zt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new RO(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),jO=function(){function e(t,n){Bt(this,e),this._firestore=t,this._delegate=n}return zt(e,[{key:"query",get:function(){return new LO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new RO(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new MO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new RO(n._firestore,r))}))}},{key:"isEqual",value:function(e){return MD(this._delegate,e._delegate)}}]),e}(),FO=function(e){On(n,e);var t=jn(n);function n(e,r){var i;return Bt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return zt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new NO(this.firestore,e):null}},{key:"doc",value:function(e){try{return new NO(this.firestore,void 0===e?jA(this._delegate):jA(this._delegate,e))}catch(KL){throw AO(KL,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=CA(e.firestore,zA),r=jA(e),i=tO(e.converter,t);return hO(n,[cD(sD(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fE.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new NO(t.firestore,e)}))}},{key:"isEqual",value:function(e){return FA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(CO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(LO);function VO(e){return CA(e,PA)}var UO=function(){function e(){Bt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=eu(JA,n)}return zt(e,[{key:"isEqual",value:function(e){return(e=Nu(e))instanceof JA&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(cw.keyField().canonicalString())}}]),e}(),BO=function(){function e(t){Bt(this,e),this._delegate=t}return zt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new hD("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new lD("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=mO.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=yO.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new vD("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),qO={Firestore:_O,GeoPoint:tD,Timestamp:tw,Blob:wO,Transaction:SO,WriteBatch:TO,DocumentReference:NO,DocumentSnapshot:PO,Query:LO,QueryDocumentSnapshot:RO,QuerySnapshot:jO,CollectionReference:FO,FieldPath:UO,FieldValue:BO,setLogLevel:function(e){!function(e){Nb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Au("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},qO)))}(e,(function(e,t){return new _O(e,t,new EO)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(Zs);Zs.initializeApp({apiKey:"AIzaSyAtWaxmrQ3tblF_3ImUNESCpZ0OBVuqiLM",authDomain:"proyect-25cbe.firebaseapp.com",projectId:"proyect-25cbe",storageBucket:"proyect-25cbe.appspot.com",messagingSenderId:"502703780711",appId:"1:502703780711:web:a4fd135178395b506735c2"});var zO=Zs;function KO(e){return WO.apply(this,arguments)}function WO(){return(WO=Xo(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,zO.firestore().collection("productos").orderBy("title").get();case 3:if((r=e.sent).docs.length>0)for(i=0;i<r.docs.length;i++)r.docs[i].data().info.search(t)>=0&&n.push(r.docs[i]);return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GO(e){return HO.apply(this,arguments)}function HO(){return HO=Xo(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zO.firestore().doc("productos/"+t).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),HO.apply(this,arguments)}function QO(e,t){return YO.apply(this,arguments)}function YO(){return YO=Xo(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zO.firestore().doc("productos/"+t).set(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),YO.apply(this,arguments)}var $O=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1],i=c((0,r.useState)(!0),2),a=i[0],o=i[1],u=c((0,r.useState)(""),2),s=u[0],l=u[1];(0,r.useEffect)((function(){var e=function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,KO(s);case 4:t=e.sent,console.log("response",t),n(t),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),o(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[s]);var f=function(e){var t=e.target.value;l(t)};return(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(mo.Consumer,{children:function(e){return(0,me.jsxs)("div",{className:"b",children:[(0,me.jsx)("h1",{className:"prod",children:"Listado Productos"}),(0,me.jsxs)("div",{className:"d",children:[(0,me.jsx)("input",{type:"search",id:"busqueda",placeholder:"Buscar Productos",onChange:f}),(0,me.jsx)("button",{className:"c",onClick:f,children:"Buscar"})]}),(0,me.jsx)(Qo,{loading:a,children:(0,me.jsx)(wo,{children:t.map((function(t){return(0,me.jsx)(Io,{children:(0,me.jsxs)(zo,{id:"card",children:[(0,me.jsx)(zo.Img,{variant:"top",src:t.data().thumbnail,id:"img",height:"225px"}),(0,me.jsxs)(zo.Body,{children:[(0,me.jsx)(zo.Title,{style:{maxHeight:"50px",overflow:"auto"},children:t.data().title}),(0,me.jsxs)(zo.Text,{children:["$",t.data().price]}),(0,me.jsx)(no,{className:"comprar",variant:"primary",as:J,to:"/product2/"+t.id,children:"Ver Detalle"}),e.userLogin&&(0,me.jsx)(no,{variant:"secondary",as:J,to:"/products/modificar/"+t.id,children:"Modificar"})]})]})},t.id)}))})})]})}})})},XO=["bsPrefix","fluid","as","className"],JO=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=re(e,XO),s=ke(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,me.jsx)(a,te(te({ref:t},u),{},{className:ae()(o,r?"".concat(s).concat(c):s)}))}));JO.displayName="Container",JO.defaultProps={fluid:!1};var ZO=JO;var eP=function(e,t){var n=(0,r.useRef)(!0);(0,r.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)},tP=Math.pow(2,31)-1;function nP(e,t,n){var r=n-Date.now();e.current=r<=tP?setTimeout(t,r):setTimeout((function(){return nP(e,t,n)}),tP)}function rP(){var e=Mt(),t=(0,r.useRef)();return jt((function(){return clearTimeout(t.current)})),(0,r.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(n(),i<=tP?t.current=setTimeout(r,i):nP(t,r,Date.now()+i))},clear:n}}),[])}var iP=_e("carousel-caption"),aP=["as","bsPrefix","className"],oP=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=re(e,aP),u=ae()(a,ke(i,"carousel-item"));return(0,me.jsx)(r,te(te({ref:t},o),{},{className:u}))}));oP.displayName="CarouselItem";var uP=oP;function sP(e,t){var n=0;return r.Children.map(e,(function(e){return r.isValidElement(e)?t(e,n++):e}))}var cP=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],lP={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,me.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,me.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var fP=r.forwardRef((function(e,t){var n=fe(e,{activeIndex:"onSelect"}),i=n.as,a=void 0===i?"div":i,o=n.bsPrefix,u=n.slide,s=n.fade,l=n.controls,f=n.indicators,h=n.indicatorLabels,d=n.activeIndex,p=n.onSelect,v=n.onSlide,m=n.onSlid,y=n.interval,g=n.keyboard,k=n.onKeyDown,b=n.pause,w=n.onMouseOver,x=n.onMouseOut,E=n.wrap,_=n.touch,I=n.onTouchStart,S=n.onTouchMove,T=n.onTouchEnd,C=n.prevIcon,N=n.prevLabel,A=n.nextIcon,D=n.nextLabel,O=n.variant,P=n.className,R=n.children,L=re(n,cP),M=ke(o,"carousel"),j=we(),F=(0,r.useRef)(null),V=c((0,r.useState)("next"),2),U=V[0],B=V[1],q=c((0,r.useState)(!1),2),z=q[0],K=q[1],W=c((0,r.useState)(!1),2),G=W[0],H=W[1],Q=c((0,r.useState)(d||0),2),Y=Q[0],$=Q[1];(0,r.useEffect)((function(){G||d===Y||(F.current?B(F.current):B((d||0)>Y?"next":"prev"),u&&H(!0),$(d||0))}),[d,G,Y,u]),(0,r.useEffect)((function(){F.current&&(F.current=null)}));var X,J=0;!function(e,t){var n=0;r.Children.forEach(e,(function(e){r.isValidElement(e)&&t(e,n++)}))}(R,(function(e,t){++J,t===d&&(X=e.props.interval)}));var Z=Et(X),ee=(0,r.useCallback)((function(e){if(!G){var t=Y-1;if(t<0){if(!E)return;t=J-1}F.current="prev",null==p||p(t,e)}}),[G,Y,p,E,J]),ne=_t((function(e){if(!G){var t=Y+1;if(t>=J){if(!E)return;t=0}F.current="next",null==p||p(t,e)}})),ie=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{element:ie.current,prev:ee,next:ne}}));var oe=_t((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ie.current)&&(j?ee():ne())})),ue="next"===U?"start":"end";eP((function(){u||(null==v||v(Y,ue),null==m||m(Y,ue))}),[Y]);var se="".concat(M,"-item-").concat(U),ce="".concat(M,"-item-").concat(ue),le=(0,r.useCallback)((function(e){it(e),null==v||v(Y,ue)}),[v,Y,ue]),he=(0,r.useCallback)((function(){H(!1),null==m||m(Y,ue)}),[m,Y,ue]),de=(0,r.useCallback)((function(e){if(g&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(j?ne(e):ee(e));case"ArrowRight":return e.preventDefault(),void(j?ee(e):ne(e))}null==k||k(e)}),[g,k,ee,ne,j]),pe=(0,r.useCallback)((function(e){"hover"===b&&K(!0),null==w||w(e)}),[b,w]),ve=(0,r.useCallback)((function(e){K(!1),null==x||x(e)}),[x]),ye=(0,r.useRef)(0),ge=(0,r.useRef)(0),be=rP(),xe=(0,r.useCallback)((function(e){ye.current=e.touches[0].clientX,ge.current=0,"hover"===b&&K(!0),null==I||I(e)}),[b,I]),Ee=(0,r.useCallback)((function(e){e.touches&&e.touches.length>1?ge.current=0:ge.current=e.touches[0].clientX-ye.current,null==S||S(e)}),[S]),_e=(0,r.useCallback)((function(e){if(_){var t=ge.current;Math.abs(t)>40&&(t>0?ee(e):ne(e))}"hover"===b&&be.set((function(){K(!1)}),y||void 0),null==T||T(e)}),[_,b,ee,ne,be,y,T]),Ie=null!=y&&!z&&!G,Se=(0,r.useRef)();(0,r.useEffect)((function(){var e,t;if(Ie){var n=j?ee:ne;return Se.current=window.setInterval(document.visibilityState?oe:n,null!=(e=null!=(t=Z.current)?t:y)?e:void 0),function(){null!==Se.current&&clearInterval(Se.current)}}}),[Ie,ee,ne,Z,y,oe,j]);var Te=(0,r.useMemo)((function(){return f&&Array.from({length:J},(function(e,t){return function(e){null==p||p(t,e)}}))}),[f,J,p]);return(0,me.jsxs)(a,te(te({ref:ie},L),{},{onKeyDown:de,onMouseOver:pe,onMouseOut:ve,onTouchStart:xe,onTouchMove:Ee,onTouchEnd:_e,className:ae()(P,M,u&&"slide",s&&"".concat(M,"-fade"),O&&"".concat(M,"-").concat(O)),children:[f&&(0,me.jsx)("div",{className:"".concat(M,"-indicators"),children:sP(R,(function(e,t){return(0,me.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=h&&h.length?h[t]:"Slide ".concat(t+1),className:t===Y?"active":void 0,onClick:Te?Te[t]:void 0,"aria-current":t===Y},t)}))}),(0,me.jsx)("div",{className:"".concat(M,"-inner"),children:sP(R,(function(e,t){var n=t===Y;return u?(0,me.jsx)(lt,{in:n,onEnter:n?le:void 0,onEntered:n?he:void 0,addEndListener:nt,children:function(t,i){return r.cloneElement(e,te(te({},i),{},{className:ae()(e.props.className,n&&"entered"!==t&&se,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&ce)}))}}):r.cloneElement(e,{className:ae()(e.props.className,n&&"active")})}))}),l&&(0,me.jsxs)(me.Fragment,{children:[(E||0!==d)&&(0,me.jsxs)(Cr,{className:"".concat(M,"-control-prev"),onClick:ee,children:[C,N&&(0,me.jsx)("span",{className:"visually-hidden",children:N})]}),(E||d!==J-1)&&(0,me.jsxs)(Cr,{className:"".concat(M,"-control-next"),onClick:ne,children:[A,D&&(0,me.jsx)("span",{className:"visually-hidden",children:D})]})]})]}))}));fP.displayName="Carousel",fP.defaultProps=lP;var hP=Object.assign(fP,{Caption:iP,Item:uP}),dP=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],pP=Tn("h4");pP.displayName="DivStyledAsH4";var vP=_e("alert-heading",{Component:pP}),mP=_e("alert-link",{Component:Cr}),yP={variant:"primary",show:!0,transition:sn,closeLabel:"Close alert"},gP=r.forwardRef((function(e,t){var n=fe(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=n.closeLabel,o=n.closeVariant,u=n.className,s=n.children,c=n.variant,l=n.onClose,f=n.dismissible,h=n.transition,d=re(n,dP),p=ke(r,"alert"),v=_t((function(e){l&&l(!1,e)})),m=!0===h?sn:h,y=(0,me.jsxs)("div",te(te({role:"alert"},m?void 0:d),{},{ref:t,className:ae()(u,p,c&&"".concat(p,"-").concat(c),f&&"".concat(p,"-dismissible")),children:[f&&(0,me.jsx)(bn,{onClick:v,"aria-label":a,variant:o}),s]}));return m?(0,me.jsx)(m,te(te({unmountOnExit:!0},d),{},{ref:void 0,in:i,children:y})):i?y:null}));gP.displayName="Alert",gP.defaultProps=yP;var kP=Object.assign(gP,{Link:mP,Heading:vP});var bP=function(){var e=U().id,t=c((0,r.useState)({}),2),n=t[0],i=t[1],a=c((0,r.useState)(!0),2),o=a[0],u=a[1],s=c((0,r.useState)(""),2),l=s[0],f=s[1],h=c((0,r.useState)(""),2),d=h[0],p=h[1],v=c((0,r.useState)(""),2),m=v[0],y=v[1];(0,r.useEffect)((function(){var t=function(){var t=Xo(Zo().mark((function t(){var n,r,a,o;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!0),t.next=4,fetch("https://api.mercadolibre.com/items/"+e);case 4:return n=t.sent,t.next=7,n.json();case 7:return r=t.sent,t.next=10,fetch("https://api.mercadolibre.com/items/"+e+"/description");case 10:return a=t.sent,t.next=13,a.json();case 13:o=t.sent,y(o.plain_text),i(r),p(r.available_quantity),u(!1),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0),u(!1);case 24:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var g=function(){d>0?(f("Gracias por su compra!"),p(d-1)):f("Sin Stock")};return(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(mo.Consumer,{children:function(e){var t;return(0,me.jsx)(Qo,{loading:o,children:(0,me.jsxs)(ZO,{className:"b",children:[(0,me.jsx)("h1",{className:"prod",children:n.title}),(0,me.jsxs)(wo,{children:[(0,me.jsxs)(Io,{sm:8,className:"descripcion",children:[(0,me.jsx)("label",{children:"Descripcion: "}),(0,me.jsxs)("div",{children:[(0,me.jsxs)("li",{children:["Condicion: ",n.condition]}),(0,me.jsx)("li",{children:m})]})]}),(0,me.jsx)(Io,{sm:4,className:"imagen",children:(0,me.jsx)(hP,{variant:"dark",children:null===(t=n.pictures)||void 0===t?void 0:t.map((function(e,t){return(0,me.jsx)(hP.Item,{children:(0,me.jsx)("img",{className:"d-block w-100",src:e.url,width:"225px",height:"300px",alt:"imagenes"})},t)}))})})]}),(0,me.jsxs)(wo,{className:"precio",children:[(0,me.jsxs)("label",{children:["$ ",n.price]}),(0,me.jsx)("span",{})]}),(0,me.jsxs)(wo,{className:"cant",children:[(0,me.jsxs)("label",{children:["Cantidad disponible: ",d]}),(0,me.jsx)("span",{})]}),e.userLogin&&(0,me.jsx)(no,{id:"comprar",onClick:g,variant:"primary",children:"Comprar"}),(0,me.jsx)(kP,{className:"estado",variant:"warning",children:l})]})})}})})};var wP=function(){var e=U().id,t=c((0,r.useState)({}),2),n=t[0],i=t[1],a=c((0,r.useState)([]),2),o=a[0],u=a[1],s=c((0,r.useState)(!0),2),l=s[0],f=s[1],h=c((0,r.useState)(""),2),d=h[0],p=h[1],v=c((0,r.useState)(""),2),m=v[0],y=v[1];(0,r.useEffect)((function(){var t=function(){var t=Xo(Zo().mark((function t(){var n,r;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(!0),t.next=4,GO(e);case 4:n=t.sent,console.log("response",n),r=[n.data().photo1,n.data().photo2,n.data().photo3],u(r),y(n.data().stock),i(n.data()),f(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),f(!1);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var g=function(){m>0?(p("Gracias por su compra!"),y(m-1)):p("Sin Stock")};return(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(mo.Consumer,{children:function(e){return(0,me.jsx)(Qo,{loading:l,children:(0,me.jsxs)(ZO,{className:"b",children:[(0,me.jsx)("h1",{className:"prod",children:n.title}),(0,me.jsxs)(wo,{children:[(0,me.jsxs)(Io,{sm:8,className:"descripcion",children:[(0,me.jsx)("label",{children:"Descripcion: "}),(0,me.jsxs)("div",{children:[(0,me.jsxs)("li",{children:["Condicion: ",n.condition]}),(0,me.jsx)("li",{children:n.description})]})]}),(0,me.jsx)(Io,{sm:4,className:"imagen",children:(0,me.jsx)(hP,{variant:"dark",children:o.map((function(e){return(0,me.jsx)(hP.Item,{children:(0,me.jsx)("img",{className:"d-block w-100",src:e,width:"225px",height:"300px",alt:"imagenes"})},e)}))})})]}),(0,me.jsxs)(wo,{className:"precio",children:[(0,me.jsxs)("label",{children:["$ ",n.price]}),(0,me.jsx)("span",{})]}),(0,me.jsxs)(wo,{className:"cant",children:[(0,me.jsxs)("label",{children:["Cantidad disponible: ",m]}),(0,me.jsx)("span",{})]}),e.userLogin&&(0,me.jsx)(no,{id:"comprar",onClick:g,variant:"primary",children:"Comprar"}),(0,me.jsx)(kP,{className:"estado",variant:"warning",children:d})]})})}})})},xP=["name"],EP=["_f"],_P=["_f"],IP=function(e){return"checkbox"===e.type},SP=function(e){return e instanceof Date},TP=function(e){return null==e},CP=function(e){return"object"===typeof e},NP=function(e){return!TP(e)&&!Array.isArray(e)&&CP(e)&&!SP(e)},AP=function(e){return NP(e)&&e.target?IP(e.target)?e.target.checked:e.target.value:e},DP=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},OP=function(e){return Array.isArray(e)?e.filter(Boolean):[]},PP=function(e){return void 0===e},RP=function(e,t,n){if(!t||!NP(e))return n;var r=OP(t.split(/[,[\].]+?/)).reduce((function(e,t){return TP(e)?e:e[t]}),e);return PP(r)||r===e?PP(e[t])?n:e[t]:r},LP="blur",MP="focusout",jP="onBlur",FP="onChange",VP="onSubmit",UP="onTouched",BP="all",qP="max",zP="min",KP="maxLength",WP="minLength",GP="pattern",HP="required",QP="validate",YP=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t[i]!==BP&&(t[i]=!r||BP),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),$P=function(e){return NP(e)&&!Object.keys(e).length},XP=function(e,t,n){e.name;var r=re(e,xP);return $P(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||BP)}))},JP=function(e){return Array.isArray(e)?e:[e]};function ZP(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return function(){return function(e){e&&e.unsubscribe()}(n)}}),[e.disabled])}var eR=function(e){return"string"===typeof e},tR=function(e,t,n,r){var i=Array.isArray(e);return eR(e)?(r&&t.watch.add(e),RP(n,e)):i?e.map((function(e){return r&&t.watch.add(e),RP(n,e)})):(r&&(t.watchAll=!0),n)},nR=function(e){return"function"===typeof e},rR=function(e){for(var t in e)if(nR(e[t]))return!0;return!1};var iR=function(e,t,n,r,i){return t?te(te({},n[e]),{},{types:te(te({},n[e]&&n[e].types?n[e].types:{}),{},Z({},r,i||!0))}):{}},aR=function(e){return/^\w*$/.test(e)},oR=function(e){return OP(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function uR(e,t,n){for(var r=-1,i=aR(t)?[t]:oR(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=NP(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var sR=function e(t,n,r){var i,a=Mr(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=RP(t,o);if(u){var s=u._f,c=re(u,EP);if(s&&n(s.name)){if(s.ref.focus&&PP(s.ref.focus()))break;if(s.refs){s.refs[0].focus();break}}else NP(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},cR=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||Ut(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))};function lR(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(!n&&!NP(e))return e;for(var r in t=n?[]:{},e){if(nR(e[r])){t=e;break}t[r]=lR(e[r])}}return t}function fR(){var e=[];return{get observers(){return e},next:function(t){var n,r=Mr(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var hR=function(e){return TP(e)||!CP(e)};function dR(e,t){if(hR(e)||hR(t))return e===t;if(SP(e)&&SP(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(SP(u)&&SP(s)||NP(u)&&NP(s)||Array.isArray(u)&&Array.isArray(s)?!dR(u,s):u!==s)return!1}}return!0}var pR=function(e){return{isOnSubmit:!e||e===VP,isOnBlur:e===jP,isOnChange:e===FP,isOnAll:e===BP,isOnTouch:e===UP}},vR=function(e){return"boolean"===typeof e},mR=function(e){return"file"===e.type},yR=function(e){return e instanceof HTMLElement},gR=function(e){return"select-multiple"===e.type},kR=function(e){return"radio"===e.type},bR=function(e){return kR(e)||IP(e)},wR="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document,xR=function(e){return yR(e)&&e.isConnected};function ER(e,t){var n,r=aR(t)?[t]:oR(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=PP(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var u=-1,s=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(NP(s)&&$P(s)||Array.isArray(s)&&!s.filter((function(e){return!PP(e)})).length)&&(n?delete n[f]:delete e[f]),n=s}}return e}function _R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(NP(e)||n)for(var r in e)Array.isArray(e[r])||NP(e[r])&&!rR(e[r])?(t[r]=Array.isArray(e[r])?[]:{},_R(e[r],t[r])):TP(e[r])||(t[r]=!0);return t}function IR(e,t,n){var r=Array.isArray(e);if(NP(e)||r)for(var i in e)Array.isArray(e[i])||NP(e[i])&&!rR(e[i])?PP(t)||hR(n[i])?n[i]=Array.isArray(e[i])?_R(e[i],[]):te({},_R(e[i])):IR(e[i],TP(t)?{}:t[i],n[i]):n[i]=!dR(e[i],t[i]);return n}var SR=function(e,t){return IR(e,t,_R(t))},TR={value:!1,isValid:!1},CR={value:!0,isValid:!0},NR=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!PP(e[0].attributes.value)?PP(e[0].value)||""===e[0].value?CR:{value:e[0].value,isValid:!0}:CR:TR}return TR},AR=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return PP(e)?e:n?""===e?NaN:+e:r&&eR(e)?new Date(e):i?i(e):e},DR={isValid:!1,value:null},OR=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),DR):DR};function PR(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return mR(t)?t.files:kR(t)?OR(e.refs).value:gR(t)?Ut(t.selectedOptions).map((function(e){return e.value})):IP(t)?NR(e.refs).value:AR(PP(t.value)?e.ref.value:t.value,e)}var RR=function(e,t,n,r){var i,a={},o=Mr(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=RP(t,u);s&&uR(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:Ut(e),fields:a,shouldUseNativeValidation:r}},LR=function(e){return e instanceof RegExp},MR=function(e){return PP(e)?void 0:LR(e)?e.source:NP(e)?LR(e.value)?e.value.source:e.value:e},jR=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function FR(e,t,n){var r=RP(e,n);if(r||aR(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=RP(t,a),u=RP(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var VR=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},UR=function(e,t){return!OP(RP(e,t)).length&&ER(e,t)},BR=function(e){return eR(e)||r.isValidElement(e)};function qR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(BR(e)||Array.isArray(e)&&e.every(BR)||vR(e)&&!e)return{type:n,message:BR(e)?e:"",ref:t}}var zR=function(e){return NP(e)&&!LR(e)?e:{value:e,message:""}},KR=function(){var e=Xo(Jo.mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p,v,m,y,g,k,b,w,x,E,_,I,S,T,C,N,A,D,O,P,R,L,M,j,F,V,U,B,q,z,K,W,G,H,Q;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._f,o=a.ref,u=a.refs,s=a.required,c=a.maxLength,l=a.minLength,f=a.min,h=a.max,d=a.pattern,p=a.validate,v=a.name,m=a.valueAsNumber,y=a.mount,g=a.disabled,y&&!g){e.next=3;break}return e.abrupt("return",{});case 3:if(k=u?u[0]:o,b=function(e){i&&k.reportValidity&&(k.setCustomValidity(vR(e)?"":e||" "),k.reportValidity())},w={},x=kR(o),E=IP(o),_=x||E,I=(m||mR(o))&&!o.value||""===n||Array.isArray(n)&&!n.length,S=iR.bind(null,v,r,w),T=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:KP,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:WP,a=e?t:n;w[v]=te({type:e?r:i,message:a,ref:o},S(e?r:i,a))},!s||!(!_&&(I||TP(n))||vR(n)&&!n||E&&!NR(u).isValid||x&&!OR(u).isValid)){e.next=19;break}if(C=BR(s)?{value:!!s,message:s}:zR(s),N=C.value,A=C.message,!N){e.next=19;break}if(w[v]=te({type:HP,message:A,ref:k},S(HP,A)),r){e.next=19;break}return b(A),e.abrupt("return",w);case 19:if(I||TP(f)&&TP(h)){e.next=28;break}if(P=zR(h),R=zR(f),isNaN(n)?(M=o.valueAsDate||new Date(n),eR(P.value)&&(D=M>new Date(P.value)),eR(R.value)&&(O=M<new Date(R.value))):(L=o.valueAsNumber||+n,TP(P.value)||(D=L>P.value),TP(R.value)||(O=L<R.value)),!D&&!O){e.next=28;break}if(T(!!D,P.message,R.message,qP,zP),r){e.next=28;break}return b(w[v].message),e.abrupt("return",w);case 28:if(!c&&!l||I||!eR(n)){e.next=38;break}if(j=zR(c),F=zR(l),V=!TP(j.value)&&n.length>j.value,U=!TP(F.value)&&n.length<F.value,!V&&!U){e.next=38;break}if(T(V,j.message,F.message),r){e.next=38;break}return b(w[v].message),e.abrupt("return",w);case 38:if(!d||I||!eR(n)){e.next=45;break}if(B=zR(d),q=B.value,z=B.message,!LR(q)||n.match(q)){e.next=45;break}if(w[v]=te({type:GP,message:z,ref:o},S(GP,z)),r){e.next=45;break}return b(z),e.abrupt("return",w);case 45:if(!p){e.next=79;break}if(!nR(p)){e.next=58;break}return e.next=49,p(n);case 49:if(K=e.sent,!(W=qR(K,k))){e.next=56;break}if(w[v]=te(te({},W),S(QP,W.message)),r){e.next=56;break}return b(W.message),e.abrupt("return",w);case 56:e.next=79;break;case 58:if(!NP(p)){e.next=79;break}G={},e.t0=Jo.keys(p);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(H=e.t1.value,$P(G)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=qR,e.next=68,p[H](n);case 68:e.t3=e.sent,e.t4=k,e.t5=H,(Q=(0,e.t2)(e.t3,e.t4,e.t5))&&(G=te(te({},Q),S(H,Q.message)),b(Q.message),r&&(w[v]=G)),e.next=61;break;case 75:if($P(G)){e.next=79;break}if(w[v]=te({ref:k},G),r){e.next=79;break}return e.abrupt("return",w);case 79:return b(!0),e.abrupt("return",w);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),WR={mode:VP,reValidateMode:FP,shouldFocusError:!0};function GR(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=te(te({},WR),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},a=lR(n.defaultValues)||{},o=n.shouldUnregister?{}:lR(a),u={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l=0,f={},h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={watch:fR(),array:fR(),state:fR()},p=pR(n.mode),v=pR(n.reValidateMode),m=n.criteriaMode===BP,y=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];clearTimeout(l),l=window.setTimeout((function(){return e.apply(void 0,r)}),t)}},g=function(){var e=Xo(Jo.mark((function e(t){var a;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!h.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=$P,e.next=6,_();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,S(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,d.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(s&&n){if(u.action=!0,l&&Array.isArray(RP(i,e))){var f=n(RP(i,e),s.argA,s.argB);c&&uR(i,e,f)}if(h.errors&&l&&Array.isArray(RP(r.errors,e))){var p=n(RP(r.errors,e),s.argA,s.argB);c&&uR(r.errors,e,p),UR(r.errors,e)}if(h.touchedFields&&l&&Array.isArray(RP(r.touchedFields,e))){var v=n(RP(r.touchedFields,e),s.argA,s.argB);c&&uR(r.touchedFields,e,v)}h.dirtyFields&&(r.dirtyFields=SR(a,o)),d.state.next({isDirty:C(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else uR(o,e,t)},b=function(e,t){return uR(r.errors,e,t),d.state.next({errors:r.errors})},w=function(e,t,n,r){var s=RP(i,e);if(s){var c=RP(o,e,PP(n)?RP(a,e):n);PP(c)||r&&r.defaultChecked||t?uR(o,e,t?c:PR(s._f)):D(e,c),u.mount&&g()}},x=function(e,t,n,i,o){var u=!1,s={name:e},c=RP(r.touchedFields,e);if(h.isDirty){var l=r.isDirty;r.isDirty=s.isDirty=C(),u=l!==s.isDirty}if(h.dirtyFields&&(!n||i)){var f=RP(r.dirtyFields,e);dR(RP(a,e),t)?ER(r.dirtyFields,e):uR(r.dirtyFields,e,!0),s.dirtyFields=r.dirtyFields,u=u||f!==RP(r.dirtyFields,e)}return n&&!c&&(uR(r.touchedFields,e,n),s.touchedFields=r.touchedFields,u=u||h.touchedFields&&c!==n),u&&o&&d.state.next(s),u?s:{}},E=function(){var n=Xo(Jo.mark((function n(i,a,o,u,s){var c,p,v;return Jo.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=RP(r.errors,a),p=h.isValid&&r.isValid!==o,t.delayError&&u?(e=e||y(b,t.delayError))(a,u):(clearTimeout(l),u?uR(r.errors,a,u):ER(r.errors,a)),(u?dR(c,u):!c)&&$P(s)&&!p||i||(v=te(te(te({},s),p?{isValid:o}:{}),{},{errors:r.errors,name:a}),r=te(te({},r),v),d.state.next(v)),f[a]--,h.isValidating&&!Object.values(f).some((function(e){return e}))&&(d.state.next({isValidating:!1}),f={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i,a){return n.apply(this,arguments)}}(),_=function(){var e=Xo(Jo.mark((function e(t){return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(te({},o),n.context,RR(t||s.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Xo(Jo.mark((function e(t){var n,i,a,o,u,s;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(n=e.sent,i=n.errors,t){a=Mr(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=RP(i,u))?uR(r.errors,u,s):ER(r.errors,u)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Xo(Jo.mark((function e(t,i){var a,u,s,c,l,f,h=arguments;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=h.length>2&&void 0!==h[2]?h[2]:{valid:!0},e.t0=Jo.keys(t);case 2:if((e.t1=e.t0()).done){e.next=22;break}if(u=e.t1.value,!(s=t[u])){e.next=20;break}if(c=s._f,l=re(s,_P),!c){e.next=16;break}return e.next=10,KR(s,RP(o,c.name),m,n.shouldUseNativeValidation);case 10:if(!(f=e.sent)[c.name]){e.next=15;break}if(a.valid=!1,!i){e.next=15;break}return e.abrupt("break",22);case 15:i||(f[c.name]?uR(r.errors,c.name,f[c.name]):ER(r.errors,c.name));case 16:if(e.t2=l,!e.t2){e.next=20;break}return e.next=20,S(l,i,a);case 20:e.next=2;break;case 22:return e.abrupt("return",a.valid);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e,t=Mr(s.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=RP(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!xR(e)})):!xR(r._f.ref))&&B(n)}}catch(a){t.e(a)}finally{t.f()}s.unMount=new Set},C=function(e,t){return e&&t&&uR(o,e,t),!dR(M(),a)},N=function(e,t,n){var r=te({},u.mount?o:PP(t)?a:eR(e)?Z({},e,t):t);return tR(e,s,r,n)},A=function(e){return OP(RP(u.mount?o:a,e,t.shouldUnregister?RP(a,e,[]):[]))},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=RP(i,e),a=t;if(r){var u=r._f;u&&(!u.disabled&&uR(o,e,AR(t,u)),a=wR&&yR(u.ref)&&TP(t)?"":t,gR(u.ref)?Ut(u.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):u.refs?IP(u.ref)?u.refs.length>1?u.refs.forEach((function(e){return!e.disabled&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):u.refs[0]&&(u.refs[0].checked=!!a):u.refs.forEach((function(e){return e.checked=e.value===a})):mR(u.ref)?u.ref.value="":(u.ref.value=a,u.ref.type||d.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&x(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&L(e)},O=function e(t,n,r){for(var a in n){var o=n[a],u="".concat(t,".").concat(a),c=RP(i,u);!s.array.has(t)&&hR(o)&&(!c||c._f)||SP(o)?D(u,o,r):e(u,o,r)}},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=RP(i,e),c=s.array.has(e),l=lR(t);uR(o,e,l),c?(d.array.next({name:e,values:o}),(h.isDirty||h.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=SR(a,o),d.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:C(e,l)}))):!u||u._f||TP(l)?D(e,l,n):O(e,l,n),cR(e,s)&&d.state.next({}),d.watch.next({name:e})},R=function(){var e=Xo(Jo.mark((function e(t){var a,u,c,l,h,y,k,b,w,I,S,T,C,N,A;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target,u=a.name,!(c=RP(i,u))){e.next=39;break}if(y=a.type?PR(c._f):AP(t),k=t.type===LP||t.type===MP,b=!jR(c._f)&&!n.resolver&&!RP(r.errors,u)&&!c._f.deps||VR(k,RP(r.touchedFields,u),r.isSubmitted,v,p),w=cR(u,s,k),uR(o,u,y),k?c._f.onBlur&&c._f.onBlur(t):c._f.onChange&&c._f.onChange(t),I=x(u,y,k,!1),S=!$P(I)||w,!k&&d.watch.next({name:u,type:t.type}),!b){e.next=15;break}return e.abrupt("return",S&&d.state.next(te({name:u},w?{}:I)));case 15:if(!k&&w&&d.state.next({}),f[u]=(f[u],1),d.state.next({isValidating:!0}),!n.resolver){e.next=30;break}return e.next=21,_([u]);case 21:T=e.sent,C=T.errors,N=FR(r.errors,i,u),A=FR(C,i,N.name||u),l=A.error,u=A.name,h=$P(C),e.next=37;break;case 30:return e.next=32,KR(c,RP(o,u),m,n.shouldUseNativeValidation);case 32:return e.t0=u,l=e.sent[e.t0],e.next=36,g(!0);case 36:h=e.sent;case 37:c._f.deps&&L(c._f.deps),E(!1,u,h,l,I);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Xo(Jo.mark((function e(t){var a,o,u,c,l,f=arguments;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>1&&void 0!==f[1]?f[1]:{},c=JP(t),d.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,I(PP(t)?t:c);case 6:l=e.sent,o=$P(l),u=t?!c.some((function(e){return RP(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=Xo(Jo.mark((function e(t){var n;return Jo.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=RP(i,t),e.next=3,S(n&&n._f?Z({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||r.isValid)&&g(),e.next=21;break;case 18:return e.next=20,S(i);case 20:u=o=e.sent;case 21:return d.state.next(te(te(te({},!eR(t)||h.isValid&&o!==r.isValid?{}:{name:t}),n.resolver?{isValid:o}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!u&&sR(i,(function(e){return RP(r.errors,e)}),t?c:s.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=te(te({},a),u.mount?o:{});return PP(e)?t:eR(e)?RP(t,e):e.map((function(e){return RP(t,e)}))},j=function(e,t){return{invalid:!!RP((t||r).errors,e),isDirty:!!RP((t||r).dirtyFields,e),isTouched:!!RP((t||r).touchedFields,e),error:RP((t||r).errors,e)}},F=function(e){e?JP(e).forEach((function(e){return ER(r.errors,e)})):r.errors={},d.state.next({errors:r.errors})},V=function(e,t,n){var a=(RP(i,e,{_f:{}})._f||{}).ref;uR(r.errors,e,te(te({},t),{},{ref:a})),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},U=function(e,t){return nR(e)?d.watch.subscribe({next:function(n){return e(N(void 0,t),n)}}):N(e,t,!0)},B=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Mr(e?JP(e):s.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;s.mount.delete(l),s.array.delete(l),RP(i,l)&&(u.keepValue||(ER(i,l),ER(o,l)),!u.keepError&&ER(r.errors,l),!u.keepDirty&&ER(r.dirtyFields,l),!u.keepTouched&&ER(r.touchedFields,l),!n.shouldUnregister&&!u.keepDefaultValue&&ER(a,l))}}catch(f){c.e(f)}finally{c.f()}d.watch.next({}),d.state.next(te(te({},r),u.keepDirty?{isDirty:C()}:{})),!u.keepIsValid&&g()},q=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=RP(i,t),l=vR(r.disabled);return uR(i,t,{_f:te(te({},c&&c._f?c._f:{ref:{name:t}}),{},{name:t,mount:!0},r)}),s.mount.add(t),c?l&&uR(o,t,r.disabled?void 0:RP(o,t,PR(c._f))):w(t,!0,r.value),te(te(te({},l?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:MR(r.min),max:MR(r.max),minLength:MR(r.minLength),maxLength:MR(r.maxLength),pattern:MR(r.pattern)}:{}),{},{name:t,onChange:R,onBlur:R,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(o){if(o){e(t,r),c=RP(i,t);var l=PP(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,f=bR(l),h=c._f.refs||[];if(f?h.find((function(e){return e===l})):l===c._f.ref)return;uR(i,t,{_f:te(te({},c._f),f?{refs:[].concat(Ut(h.filter(xR)),[l],Ut(Array.isArray(RP(a,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),w(t,!1,void 0,l)}else(c=RP(i,t,{}))._f&&(c._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!DP(s.array,t)||!u.action)&&s.unMount.add(t)}))})},z=function(e,t){return function(){var a=Xo(Jo.mark((function a(u){var c,l,f,h,p;return Jo.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),c=!0,l=lR(o),d.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,_();case 8:f=a.sent,h=f.errors,p=f.values,r.errors=h,l=p,a.next=17;break;case 15:return a.next=17,S(i);case 17:if(!$P(r.errors)||!Object.keys(r.errors).every((function(e){return RP(l,e)}))){a.next=23;break}return d.state.next({errors:{},isSubmitting:!0}),a.next=21,e(l,u);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(te({},r.errors),u);case 26:n.shouldFocusError&&sR(i,(function(e){return RP(r.errors,e)}),s.mount);case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),c=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$P(r.errors)&&c,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};RP(i,e)&&(PP(t.defaultValue)?P(e,RP(a,e)):(P(e,t.defaultValue),uR(a,e,t.defaultValue)),t.keepTouched||ER(r.touchedFields,e),t.keepDirty||(ER(r.dirtyFields,e),r.isDirty=t.defaultValue?C(e,RP(a,e)):C()),t.keepError||(ER(r.errors,e),h.isValid&&g()),d.state.next(te({},r)))},W=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e||a,f=lR(l),p=e&&!$P(e)?f:a;if(n.keepDefaultValues||(a=l),!n.keepValues){if(wR&&PP(e)){var v,m=Mr(s.mount);try{for(m.s();!(v=m.n()).done;){var y=v.value,g=RP(i,y);if(g&&g._f){var k=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;try{yR(k)&&k.closest("form").reset();break}catch(SN){}}}}catch(b){m.e(b)}finally{m.f()}}o=t.shouldUnregister?n.keepDefaultValues?lR(a):{}:f,i={},d.array.next({values:p}),d.watch.next({values:p})}s={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!h.isValid||!!n.keepIsValid,u.watch=!!t.shouldUnregister,d.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty?r.isDirty:!!n.keepDefaultValues&&!dR(e,a),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty?r.dirtyFields:n.keepDefaultValues&&e?Object.entries(e).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return te(te({},e),{},Z({},r,i!==RP(a,r)))}),{}):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=RP(i,e)._f,r=n.refs?n.refs[0]:n.ref;t.shouldSelect?r.select():r.focus()};return{control:{register:q,unregister:B,getFieldState:j,_executeSchema:_,_getWatch:N,_getDirty:C,_updateValid:g,_removeUnmounted:T,_updateFieldArray:k,_getFieldArray:A,_subjects:d,_proxyFormState:h,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return u},set _stateFlags(e){u=e},get _defaultValues(){return a},get _names(){return s},set _names(e){s=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=te(te({},n),e)}},trigger:L,register:q,handleSubmit:z,watch:U,setValue:P,getValues:M,reset:W,resetField:K,clearErrors:F,unregister:B,setError:V,setFocus:G,getFieldState:j}}function HR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=r.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),i=c(n,2),a=i[0],o=i[1];t.current?t.current.control._options=e:t.current=te(te({},GR(e)),{},{formState:a});var u=t.current.control,s=r.useCallback((function(e){XP(e,u._proxyFormState,!0)&&(u._formState=te(te({},u._formState),e),o(te({},u._formState)))}),[u]);return ZP({subject:u._subjects.state,callback:s}),r.useEffect((function(){u._stateFlags.mount||(u._proxyFormState.isValid&&u._updateValid(),u._stateFlags.mount=!0),u._stateFlags.watch&&(u._stateFlags.watch=!1,u._subjects.state.next({})),u._removeUnmounted()})),t.current.formState=YP(a,u._proxyFormState),t.current}var QR=["as","className","type","tooltip"],YR={type:mn().string,tooltip:mn().bool,as:mn().elementType},$R=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,c=re(e,QR);return(0,me.jsx)(r,te(te({},c),{},{ref:t,className:ae()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));$R.displayName="Feedback",$R.propTypes=YR;var XR=$R,JR=r.createContext({}),ZR=["id","bsPrefix","className","type","isValid","isInvalid","as"],eL=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=re(e,ZR),v=(0,r.useContext)(JR).controlId;return i=ke(i,"form-check-input"),(0,me.jsx)(d,te(te({},p),{},{ref:t,type:u,id:n||v,className:ae()(a,i,c&&"is-valid",f&&"is-invalid")}))}));eL.displayName="FormCheckInput";var tL=eL,nL=["bsPrefix","className","htmlFor"],rL=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=re(e,nL),u=(0,r.useContext)(JR).controlId;return n=ke(n,"form-check-label"),(0,me.jsx)("label",te(te({},o),{},{ref:t,htmlFor:a||u,className:ae()(i,n)}))}));rL.displayName="FormCheckLabel";var iL=rL,aL=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],oL=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.disabled,c=void 0!==s&&s,l=e.isValid,f=void 0!==l&&l,h=e.isInvalid,d=void 0!==h&&h,p=e.feedbackTooltip,v=void 0!==p&&p,m=e.feedback,y=e.feedbackType,g=e.className,k=e.style,b=e.title,w=void 0===b?"":b,x=e.type,E=void 0===x?"checkbox":x,_=e.label,I=e.children,S=e.as,T=void 0===S?"input":S,C=re(e,aL);i=ke(i,"form-check"),a=ke(a,"form-switch");var N=(0,r.useContext)(JR).controlId,A=(0,r.useMemo)((function(){return{controlId:n||N}}),[N,n]),D=!I&&null!=_&&!1!==_||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(I,iL),O=(0,me.jsx)(tL,te(te({},C),{},{type:"switch"===E?"checkbox":E,ref:t,isValid:f,isInvalid:d,disabled:c,as:T}));return(0,me.jsx)(JR.Provider,{value:A,children:(0,me.jsx)("div",{style:k,className:ae()(g,D&&i,u&&"".concat(i,"-inline"),"switch"===E&&a),children:I||(0,me.jsxs)(me.Fragment,{children:[O,D&&(0,me.jsx)(iL,{title:w,children:_}),m&&(0,me.jsx)(XR,{type:y,tooltip:v,children:m})]})})})}));oL.displayName="FormCheck";var uL=Object.assign(oL,{Input:tL,Label:iL}),sL=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],cL=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,u=e.size,s=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=re(e,sL),b=(0,r.useContext)(JR).controlId;(a=ke(a,"form-control"),v)?n=Z({},"".concat(a,"-plaintext"),!0):(Z(i={},a,!0),Z(i,"".concat(a,"-").concat(u),u),n=i);return(0,me.jsx)(g,te(te({},k),{},{type:o,size:s,ref:t,readOnly:m,id:c||b,className:ae()(l,n,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));cL.displayName="FormControl";var lL=Object.assign(cL,{Feedback:XR}),fL=_e("form-floating"),hL=["controlId","as"],dL=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=re(e,hL),u=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,me.jsx)(JR.Provider,{value:u,children:(0,me.jsx)(a,te(te({},o),{},{ref:t}))})}));dL.displayName="FormGroup";var pL=dL,vL=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],mL=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,u=e.visuallyHidden,s=e.className,c=e.htmlFor,l=re(e,vL),f=(0,r.useContext)(JR).controlId;a=ke(a,"form-label");var h="col-form-label";"string"===typeof o&&(h="".concat(h," ").concat(h,"-").concat(o));var d=ae()(s,a,u&&"visually-hidden",o&&h);return c=c||f,o?(0,me.jsx)(Io,te({ref:t,as:"label",className:d,htmlFor:c},l)):(0,me.jsx)(i,te({ref:t,className:d,htmlFor:c},l))}));mL.displayName="FormLabel",mL.defaultProps={column:!1,visuallyHidden:!1};var yL=mL,gL=["bsPrefix","className","id"],kL=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=re(e,gL),u=(0,r.useContext)(JR).controlId;return n=ke(n,"form-range"),(0,me.jsx)("input",te(te({},o),{},{type:"range",ref:t,className:ae()(i,n),id:a||u}))}));kL.displayName="FormRange";var bL=kL,wL=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],xL=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=re(e,wL),d=(0,r.useContext)(JR).controlId;return n=ke(n,"form-select"),(0,me.jsx)("select",te(te({},h),{},{size:a,ref:t,className:ae()(o,n,i&&"".concat(n,"-").concat(i),s&&"is-valid",l&&"is-invalid"),id:f||d}))}));xL.displayName="FormSelect";var EL=xL,_L=["bsPrefix","className","as","muted"],IL=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=re(e,_L);return n=ke(n,"form-text"),(0,me.jsx)(a,te(te({},u),{},{ref:t,className:ae()(r,n,o&&"text-muted")}))}));IL.displayName="FormText";var SL=IL,TL=r.forwardRef((function(e,t){return(0,me.jsx)(uL,te(te({},e),{},{ref:t,type:"switch"}))}));TL.displayName="Switch";var CL=Object.assign(TL,{Input:uL.Input,Label:uL.Label}),NL=["bsPrefix","className","children","controlId","label"],AL=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=re(e,NL);return n=ke(n,"form-floating"),(0,me.jsxs)(pL,te(te({ref:t,className:ae()(r,n),controlId:a},u),{},{children:[i,(0,me.jsx)("label",{htmlFor:a,children:o})]}))}));AL.displayName="FloatingLabel";var DL=AL,OL=["className","validated","as"],PL={_ref:mn().any,validated:mn().bool,as:mn().elementType},RL=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=re(e,OL);return(0,me.jsx)(a,te(te({},o),{},{ref:t,className:ae()(n,r&&"was-validated")}))}));RL.displayName="Form",RL.propTypes=PL;var LL=Object.assign(RL,{Group:pL,Control:lL,Floating:fL,Check:uL,Switch:CL,Label:yL,Text:SL,Range:bL,Select:EL,FloatingLabel:DL});var ML=function(){var e=HR(),t=e.register,n=e.handleSubmit,i=e.formState.errors,a=c((0,r.useState)({variant:"",text:""}),2),o=a[0],u=a[1],s=function(){var e=Xo(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Form",t),t.password1===t.password2){e.next=5;break}u({variant:"danger",text:"No es la misma contrase\xf1a"}),e.next=22;break;case 5:return e.prev=5,e.next=8,zO.auth().createUserWithEmailAndPassword(t.email,t.password1);case 8:if(n=e.sent,console.log("responseUser",n),!n.user.uid){e.next=15;break}return e.next=13,zO.firestore().collection("usuarios").add({name:t.nombre,lastname:t.apellido,number:t.telefono,userId:n.user.uid});case 13:r=e.sent,console.log("document",r);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0);case 20:u({variant:"success",text:"Formulario enviado con exito!"}),setInterval((function(){window.open("/inicio","_self")}),1e3);case 22:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,me.jsxs)("div",{className:"a",children:[(0,me.jsx)("h1",{className:"titulo",children:"Datos de Registro:"}),(0,me.jsxs)(LL,{onSubmit:n(s),className:"form",children:[(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,me.jsx)(LL.Label,{children:"Nombre"}),(0,me.jsx)(LL.Control,te({type:"text"},t("nombre",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicLastName",children:[(0,me.jsx)(LL.Label,{children:"Apellido"}),(0,me.jsx)(LL.Control,te({type:"text"},t("apellido",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,me.jsx)(LL.Label,{children:"Email"}),(0,me.jsx)(LL.Control,te({type:"email"},t("email",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,me.jsx)(LL.Label,{children:"Telefono"}),(0,me.jsx)(LL.Control,te({type:"number"},t("telefono",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",children:[(0,me.jsx)(LL.Label,{children:"Password"}),(0,me.jsx)(LL.Control,te({id:"password1Id",type:"password"},t("password1",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",children:[(0,me.jsx)(LL.Label,{children:"Confirmar Password"}),(0,me.jsx)(LL.Control,te({id:"password2Id",type:"password"},t("password2",{required:!0})))]}),(i.password1||i.password2||i.nombre||i.apellido||i.email||i.telefono)&&(0,me.jsx)(kP,{variant:"danger",children:"Todos los campos son obligatorios"}),(0,me.jsx)(kP,{variant:o.variant,children:o.text}),(0,me.jsx)(no,{type:"submit",id:"send",variant:"primary",children:"Registrarme"})]})]})};var jL=function(){var e=HR(),t=e.register,n=e.handleSubmit,i=e.formState.errors,a=c((0,r.useState)({variant:"",text:""}),2),o=a[0],u=a[1],s=(0,r.useContext)(mo),l={"auth/user-not-found":"El email no existe","auth/wrong-password":"La contrase\xf1a es incorrecta"},f=function(){var e=Xo(Zo().mark((function e(t){var n,r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Form",t),e.prev=1,e.next=4,zO.auth().signInWithEmailAndPassword(t.email,t.password);case 4:if(n=e.sent,console.log("responseUser",n),!n.user.uid){e.next=12;break}return e.next=9,zO.firestore().collection("usuarios").where("userId","==",n.user.uid).get();case 9:(r=e.sent)&&(a=null===(i=r.docs[0])||void 0===i?void 0:i.data().name,u({variant:"success",text:"Bienvenido! "+(a||"")}),s.loginUser(!0)),setInterval((function(){window.open("/products","_self")}),1e3);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),u({variant:"danger",text:l[e.t0.code]||"Usuario no encontrado, registrese por favor"});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,me.jsxs)("div",{className:"a",children:[(0,me.jsx)(kP,{variant:o.variant,children:o.text}),(0,me.jsx)("h1",{className:"titulo",children:"Datos de Inicio:"}),(0,me.jsxs)(LL,{onSubmit:n(f),className:"form",children:[(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,me.jsx)(LL.Label,{children:"Email"}),(0,me.jsx)(LL.Control,te({type:"email"},t("email",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,me.jsx)(LL.Label,{children:"Password"}),(0,me.jsx)(LL.Control,te({type:"password"},t("password",{required:!0})))]}),(i.password||i.email)&&(0,me.jsx)("div",{children:"Todos los campos son obligatorios"}),(0,me.jsx)("br",{}),(0,me.jsx)("span",{children:(0,me.jsx)(no,{type:"submit",id:"send",variant:"primary",children:"Ingresar"})}),(0,me.jsx)("span",{children:" --o-- "}),(0,me.jsx)("span",{children:(0,me.jsx)(no,{variant:"primary",id:"send",as:J,to:"/registrar",children:"Registrar"})})]})]})};var FL=function(){var e=HR(),t=e.register,n=e.handleSubmit,i=e.formState.errors,a=c((0,r.useState)({variant:"",text:""}),2),o=a[0],u=a[1],s=function(){var e=Xo(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Form",t),n=t.title+t.price+t.description+t.condition,r=n.toLowerCase()+t.title.toUpperCase(),e.prev=3,e.next=6,zO.firestore().collection("productos").add({info:r,title:t.title,price:t.price,description:t.description,thumbnail:t.thumbnail,stock:t.stock,condition:t.condition,photo1:t.photo1,photo2:t.photo2,photo3:t.photo3});case 6:i=e.sent,console.log(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:u({variant:"success",text:"Formulario enviado con exito!"}),setInterval((function(){window.open("/products2","_self")}),1e3);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,me.jsxs)("div",{className:"a",children:[(0,me.jsx)("h1",{className:"titulo",children:"Datos de Productos:"}),(0,me.jsxs)(LL,{onSubmit:n(s),className:"form",children:[(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,me.jsx)(LL.Label,{children:"Nombre"}),(0,me.jsx)(LL.Control,te({type:"text"},t("title",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicPrice",children:[(0,me.jsx)(LL.Label,{children:"Precio"}),(0,me.jsx)(LL.Control,te({type:"number"},t("price",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,me.jsx)(LL.Label,{children:"Stock"}),(0,me.jsx)(LL.Control,te({type:"number"},t("stock",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicimage",children:[(0,me.jsx)(LL.Label,{children:"Thumbnail"}),(0,me.jsx)(LL.Control,te({type:"text"},t("thumbnail",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicText",children:[(0,me.jsx)(LL.Label,{children:"Condicion"}),(0,me.jsx)(LL.Control,te({type:"text"},t("condition",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicImage",children:[(0,me.jsx)(LL.Label,{children:"Imagen 1"}),(0,me.jsx)(LL.Control,te({type:"text"},t("photo1",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicImage",children:[(0,me.jsx)(LL.Label,{children:"Imagen 2"}),(0,me.jsx)(LL.Control,te({type:"text"},t("photo2",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicImage",children:[(0,me.jsx)(LL.Label,{children:"Imagen 3"}),(0,me.jsx)(LL.Control,te({type:"text"},t("photo3",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicText",children:[(0,me.jsx)(LL.Label,{children:"Descripcion"}),(0,me.jsx)(LL.Control,te({as:"textarea",rows:3},t("description",{required:!0})))]}),(i.photo1||i.title||i.price||i.description||i.stock||i.condition||i.thumbnail)&&(0,me.jsx)(kP,{variant:"danger",children:"Todos los campos son obligatorios"}),(0,me.jsx)(kP,{variant:o.variant,children:o.text}),(0,me.jsx)(no,{type:"submit",id:"send",variant:"primary",children:"Guardar"})]})]})};var VL=function(){var e=HR(),t=e.register,n=e.handleSubmit,i=e.setValue,a=e.formState.errors,o=c((0,r.useState)({variant:"",text:""}),2),u=o[0],s=o[1],l=U().id;(0,r.useEffect)((function(){var e=function(){var e=Xo(Zo().mark((function e(){var t,n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GO(l);case 3:t=e.sent,n=t.data().title+t.data().price+t.data().description+t.data().condition,r=n.toLowerCase()+t.data().title.toUpperCase(),console.log("response",t),i("title",t.data().title),i("price",t.data().price),i("description",t.data().description),i("stock",t.data().stock),i("thumbnail",t.data().thumbnail),i("condition",t.data().condition),i("photo1",t.data().photo1),i("photo2",t.data().photo2),i("photo3",t.data().photo3),i("info",r),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();e()}),[l,i]);var f=function(){var e=Xo(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Form",t),e.prev=1,e.next=4,QO(l,t);case 4:n=e.sent,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:s({variant:"success",text:"Formulario enviado con exito!"}),setInterval((function(){window.open("/products2","_self")}),1e3);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Xo(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zO.firestore().doc("productos/"+l).delete();case 2:t=e.sent,console.log(t),s({variant:"danger",text:"Prodcuto eliminado con exito!"}),setInterval((function(){window.open("/products2","_self")}),1e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,me.jsxs)("div",{className:"a",children:[(0,me.jsx)("h1",{className:"titulo",children:"Datos de Productos:"}),(0,me.jsxs)(LL,{onSubmit:n(f),className:"form",children:[(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,me.jsx)(LL.Label,{children:"Nombre"}),(0,me.jsx)(LL.Control,te({type:"text"},t("title",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicPrice",children:[(0,me.jsx)(LL.Label,{children:"Precio"}),(0,me.jsx)(LL.Control,te({type:"number"},t("price",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,me.jsx)(LL.Label,{children:"Stock"}),(0,me.jsx)(LL.Control,te({type:"number"},t("stock",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicImage",children:[(0,me.jsx)(LL.Label,{children:"Thumbnail"}),(0,me.jsx)(LL.Control,te({type:"text"},t("thumbnail",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicText",children:[(0,me.jsx)(LL.Label,{children:"Condicion"}),(0,me.jsx)(LL.Control,te({type:"text"},t("condition",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicImage",children:[(0,me.jsx)(LL.Label,{children:"Imagen 1"}),(0,me.jsx)(LL.Control,te({type:"text"},t("photo1",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicImage",children:[(0,me.jsx)(LL.Label,{children:"Imagen 2"}),(0,me.jsx)(LL.Control,te({type:"text"},t("photo2",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicImage",children:[(0,me.jsx)(LL.Label,{children:"Imagen 3"}),(0,me.jsx)(LL.Control,te({type:"text"},t("photo3",{required:!0})))]}),(0,me.jsxs)(LL.Group,{className:"mb-3",controlId:"formBasicText",children:[(0,me.jsx)(LL.Label,{children:"Descripcion"}),(0,me.jsx)(LL.Control,te({as:"textarea",rows:3},t("description",{required:!0})))]}),(a.photo1||a.title||a.price||a.description||a.stock||a.condition||a.thumbnail)&&(0,me.jsx)(kP,{variant:"danger",children:"Todos los campos son obligatorios"}),(0,me.jsx)(kP,{variant:u.variant,children:u.text}),(0,me.jsx)(no,{type:"submit",id:"send",variant:"primary",children:"Guardar"}),"--o--",(0,me.jsx)(no,{id:"del",variant:"danger",onClick:h,children:"Eliminar"})]})]})};var UL=function(){return(0,me.jsxs)(G,{children:[(0,me.jsx)(K,{path:"/inicio",element:(0,me.jsx)(jL,{})}),(0,me.jsx)(K,{path:"/products",element:(0,me.jsx)(go,{})}),(0,me.jsx)(K,{path:"/products1",element:(0,me.jsx)(Yo,{})}),(0,me.jsx)(K,{path:"/products2",element:(0,me.jsx)($O,{})}),(0,me.jsx)(K,{path:"/registrar",element:(0,me.jsx)(ML,{})}),(0,me.jsx)(K,{path:"/",element:(0,me.jsx)(z,{to:"/inicio"})}),(0,me.jsx)(K,{path:"/product1/:id",element:(0,me.jsx)(bP,{})}),(0,me.jsx)(K,{path:"/product2/:id",element:(0,me.jsx)(wP,{})}),(0,me.jsx)(K,{path:"/products/alta",element:(0,me.jsx)(FL,{})}),(0,me.jsx)(K,{path:"/products/modificar/:id",element:(0,me.jsx)(VL,{})})]})};var BL=function(e){var t=c((0,r.useState)(localStorage.getItem("fire")||!1),2),n=t[0],i=t[1],a=c((0,r.useState)(localStorage.getItem("api")||!1),2),o=a[0],u=a[1],s=c((0,r.useState)(localStorage.getItem("login")||!1),2),l=s[0],f=s[1],h=V();return(0,me.jsx)(mo.Provider,{value:{fire:n,userLogin:l,api:o,activeFire:function(){i(!0),localStorage.setItem("fire",!0),u(!1),localStorage.removeItem("api")},loginUser:function(e){f(!0),localStorage.setItem("login",!0)},logoutUser:function(){f(!1),localStorage.removeItem("login"),h("/")},activeApi:function(){u(!0),localStorage.setItem("api",!0),i(!1),localStorage.removeItem("fire")},neutral:function(){i(!1),u(!1),localStorage.removeItem("fire"),localStorage.removeItem("api")}},children:e.children})};var qL=function(){return(0,me.jsx)("div",{className:"fondo",children:(0,me.jsx)(X,{children:(0,me.jsxs)(BL,{children:[(0,me.jsx)(yo,{}),(0,me.jsx)(ZO,{className:"fondo2",children:(0,me.jsx)(UL,{})})]})})})},zL=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.render((0,me.jsx)(r.StrictMode,{children:(0,me.jsx)(qL,{})}),document.getElementById("root")),zL()}()}();
//# sourceMappingURL=main.2b21f218.js.map